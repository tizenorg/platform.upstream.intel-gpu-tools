commit 32bb5d9f150bc953dbed4636ded2758be03a739c
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon Jun 9 11:30:15 2014 -0700

    bump version to 1.7 and add the release date
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 82ad15fd1040a0457ebe22edabfaa69c44577412
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon Jun 9 11:15:47 2014 -0700

    Fix make distclean by fixing includes of version.h
    
    Actually only the igt_core was breaking the make distcheck,
    but let's make it consistent and let the code cleaner.
    
    Credits-to: Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 5a856e11fc84ec9e087aa1c52a492eb81b2c1985
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon Jun 9 10:48:10 2014 -0700

    null_state_gen: Fix Makefile.am for make distcheck

commit 9bddb5eebd9819c4892fec72d6d5b6e2e2496b8b
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon Jun 9 10:47:13 2014 -0700

    quick_dump: Fix vlv file names on Makefile.am

commit 18d2130110331e45423dff96aeec3ea802fa0857
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jun 6 08:43:08 2014 +0100

    igt/gem_evict_alignment: Fix the memory limits checking
    
    We actually allocate twice as many bo as needed to fill the aperture to
    cause ENOSPC, but the entire payload has to still fit into RAM.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75138
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 39329479a51768e64cf710bc14b50803446e554d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jun 6 08:43:08 2014 +0100

    igt/gem_evict_alignment: Fix the memory limits checking
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75138
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 033c400e9bd53f95cccff3524c79a298c81bd3da
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jun 6 08:40:36 2014 +0100

    igt/gem_evict_alignment: Remove obsolete skip on gen8+
    
    If the BLT commands, aren't fixed yet, they should be. ASAP.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9a70e29f8380c2fc6f9b43757c68e24bf2619061
Author: Wendy Wang <wendy.wang@intel.com>
Date:   Thu Jun 5 10:27:42 2014 +0800

    Add rc6_residency_counter subtest
    
    Move rc6_residency_check to subtest, add new rc6_residency_counter subtest
    for pm_rc6_residency IGT case.
    
    Test results run on platforms show as below:
    On HSW
    ---------------------------------------
    [root@x-hswu opt]# ./pm_rc6_residency
    IGT-Version: 1.6-g35b31df (x86_64) (Linux: 3.15.0-rc3_drm-intel-nightly_0791a3_20140520+ x86_64)
    Subtest rc6-residency-check: SUCCESS
    This machine doesn't support rc6pp
    This machine doesn't support rc6p
    This machine entry  rc6 status.
    The residency counter : 0.999667
    Subtest rc6-residency-counter: SUCCESS
    
    On IVB
    ----------------------------------------
    [root@IVB tests]# ./pm_rc6_residency
    IGT-Version: 1.6-g35b31df (x86_64) (Linux: 3.13.6_20140318+ x86_64)
    Subtest rc6-residency-check: SUCCESS
    This machine entry  rc6p status.
    The residency counter : 0.997000
    Subtest rc6-residency-counter: SUCCESS
    
    On BYT
    ----------------------------------------
    root@x-byt:/opt# ./pm_rc6_residency
    IGT-Version: 1.6-g0d39021 (x86_64) (Linux: 3.14.0_kcloud_ceabbb_20140521+ x86_64)
    Subtest rc6-residency-check: SUCCESS
    This machine doesn't support rc6pp
    This machine doesn't support rc6p
    The residency counter : 1.144333
    Test assertion failure function rc6_residency_counter, file pm_rc6_residency.c:131:
    Last errno: 0, Success
    Failed assertion: counter_result <=1
    Debug files must be wrong,
    Subtest rc6-residency-counter: FAIL
    
    On BDW
    ---------------------------------------
    [root@x-bdw01 opt]# ./pm_rc6_residency
    IGT-Version: 1.6-g0d39021 (x86_64) (Linux: 3.15.0-rc5_drm-intel-nightly_367653_20140521+ x86_64)
    Subtest rc6-residency-check: SUCCESS
    This machine doesn't support rc6pp
    This machine doesn't support rc6p
    The residency counter : 0.994333
    This machine entry rc6 state.
    Subtest rc6-residency-counter: SUCCESS
    
    Signed-off-by: Liu, Lei A <lei.a.liu@intel.com>
    Signed-off-by: Wendy Wang <wendy.wang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit b428f24f7caa1286cdcf0794078547f3b27e69b3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jun 5 13:33:25 2014 +0100

    lib: Add debug to memory limits checks
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a1a8aa16fb4e27a267f4ac12883419114a020dd7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jun 5 13:19:39 2014 +0100

    igt/gem_evict_everything: Compute number of surfaces to saturate the aperture
    
    The goal is to only fill the aperture, not all of memory, so fine-tune
    the computed number of surfaces, hopefully avoiding an integer overflow
    in the process.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=79573
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5141b21f915ce7e857bcacbd1eb4ec9eebf3fe93
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jun 5 10:28:09 2014 +0200

    lib/igt_debugfs: Fix spelling docs
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit badb026ae0943d401a944d0d0fc09a7977315fe5
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Tue Jun 3 14:52:30 2014 -0700

    rendercopy/gen8: Also emit 3DSTATE_WM_DEPTH_STENCIL.
    
    rendercopy was failing to emit 3DSTATE_WM_DEPTH_STENCIL, which is a new
    packet on Broadwell.  Mesa emits this packet.
    
    This appears to fix various tests on a fresh boot, when Mesa has never
    run.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78890
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78891
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78935
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78936
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78937
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78938
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Tested-by: Guo Jinxian <jinxianx.guo@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 11e62a3927e415f88dae3519578d9bba8def3128
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed May 28 20:05:59 2014 +0300

    tests/kms_flip: Move EBUSY to a new busy-flip subtest
    
    The EBUSY checking is very fragile currently in case there's any kind
    extra delay in the test loop. At least the flip-vs-rmfb fails reliably
    on my IVB.
    
    So to make the test less fragile remove the EBUSY check from all the
    current flip tests, and instead add a specific busy-flip test. To
    better guarantee that we get the EBUSY add a blocking vblank wait just
    before we issue the first flip. This maximizes the time we have to
    submit two flips during one frame.
    
    Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit ddf92db9147375a4d0fc3ee861519bc1d6b0214b
Author: Tim Gore <tim.gore@intel.com>
Date:   Wed Jun 4 09:32:54 2014 +0100

    intel-gpu-tools: move kms_fence_pin_leak to single test list
    
    In Makefile.sources, kms_fence_pin_leak was in the "Multi" test list,
    ie tests with subtests, whereas it is actually simple/single test.
    This was confusing the Android script for enumerating tests.
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1451df1cb692bf04e5733b5d9ea00d0757f257a4
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 16:52:48 2014 +0300

    quick_dump: increase reg name column width
    
    Needed by the new long audio register names.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit ea43f5163a01d9bb2b7fd23dd6316c9f863ded86
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 16:04:47 2014 +0300

    quick_dump: vlv: remove redundant base file specifications
    
    The registers in these files are included in the dumps for all platforms
    by default, so no need to specify them explicitly.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 24cd3843cb222cc17f446315b0bce813a14758c8
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 15:44:27 2014 +0300

    quick_dump: vlv: move flisdsi register group to its logical place
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 75b921688d0105743ef14783eed4ceda9d01baeb
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 15:55:11 2014 +0300

    quick_dump: vlv: add missing dpio phy registers
    
    Also move the phy register block to its logical place.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 9da08fed032a8560959ff306cd862d44f26ed46f
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 14:26:30 2014 +0300

    quick_dump: vlv: add missing display registers
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 92378d3b778c408999a3dd84698038e681692fa0
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 16:11:52 2014 +0300

    quick_dump: chv: add misc gen7 GT registers
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 861cea8b5245776c7ea9515b02d20449395a3132
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 02:02:24 2014 +0300

    quick_dump: chv: add dsi (mipi) registers
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit a4b53d2125a68d431587ae5f004e028ef181290f
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 01:59:45 2014 +0300

    quick_dump: vlv: clean up dsi (mipi) registers
    
    Split out the base offset into the third argument and rename MIPIB to
    MIPIC to match the display cluster register HAS.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit a115c4820802508733cdf7100f4de63c8d3dc50f
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Mar 21 10:07:43 2014 -0700

    quick_dump: chv: add full dpio phy dumps
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit e23f1fdfeed49f0b61b528940effefc089f008d2
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Mar 21 01:51:29 2014 -0700

    quick_dump: chv: add display registers
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    [imre: add audio regs]
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit 6d2577c74117e0f246152d2a16c96626c496a824
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed May 28 18:45:27 2014 +0300

    quick_dump: chv: add detection support
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit 9a642a72873c2df8a0c8ad8b63e25e42b1646382
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed May 28 18:23:07 2014 +0300

    quick_dump: add support for accessing the dpio phy 2 registers
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit 0f906083f2a2248355f799948188aa8c010585d2
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed May 28 18:26:39 2014 +0300

    lib/intel_iosf: add second phy support
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit 82fcb90619491af13675d8c08e5d1b6bf07a781b
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Jun 2 15:48:27 2014 +0300

    quick_dump: allow passing display base as the third argument
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit 4e696ff8c9567051467c922f5abb4f8b64196b5c
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed May 28 18:32:39 2014 +0300

    quick_dump: pass register offsets as int
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    [imre: fix s/regi/intreg/ typo]
    Reviewed-by: Imre Deak <imre.deak@intel.com>

commit 76bc5fdf46ce003f3f370998c1b3ed45fe8775c3
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 16:44:41 2014 +0300

    quick_dump: fix typo breaking dpio reg dumps
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 4f0bb3147079b6a8b49ccf1b3b3b6fbf13e64f11
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Jun 3 16:03:50 2014 +0300

    quick_dump: make autodetect the default option
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Very-much-wanted-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 73c40324159b1fda9db3d8c34c47a722977d213d
Author: Tim Gore <tim.gore@intel.com>
Date:   Tue Jun 3 15:18:31 2014 +0100

    intel-gpu-tools: remove testdisplay.h from kms_render.c
    
    kms_render.c included testdisplay.h but did not need it.
    This was preventing it from building on Android due to the
    lack of a Glib port. So I have removed this #include and
    changed Android.mk so that kms_render is built if we have
    cairo.
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0dc8794fc07faf8f2b008f98fd8ef6ed04300119
Author: Tim Gore <tim.gore@intel.com>
Date:   Tue Jun 3 15:05:56 2014 +0100

    intel-gpu-tools: re-enable gem_exec_params on Android
    
    The missing macro that was preventing the gem_exec_params
    test from building is now in i915_drm.h, in ABT at least,
    and this test can now build. So I have removed it from the
    skip list in Android.mk
    
    For Gmin I have added a patch for i915_drm.h to the Wiki
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d60d4c80e5dbdab0baa5b45c3849262d982e3856
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Thu Apr 10 15:15:13 2014 +0300

    tools/null_state_gen: generate null render state
    
    Generate valid (null) render state for each gen. Output
    it as a c source file with batch and relocations.
    
    v2: noinst and vs_start fixed for BDW GT3 (Damien Lespiau)
    
    Acked-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit a384e55b49dce17eff1945536f957546bc7902cf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jun 3 07:31:49 2014 +0100

    igt/gem_evict_everything: Move assertion
    
    If we move the assertion from out of the callback, we can get a much
    more useful error message.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=79573
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 21fb118f3b3f16f9cdc6cadf68204e745f0a8a68
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Mon Jun 2 13:43:18 2014 +0300

    kms_cursor_crc: Test cursor size change ioctl
    
    Now that we support cursor changes other than 64x64, a bug was found
    where the size change was only applied at cursor enable time, rather
    than at every update. Add a testcase for that.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 532b7e61e0316b94b280efc2199ef121ced1959c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 28 16:19:16 2014 +0200

    NEWS: Fix spelling a bit

commit aeb3d8897738559b6e8bb21b72e4832a8f8ab59e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 28 16:05:14 2014 +0200

    NEWS: Don't forget the runtime pm helpers!

commit 0ee77ce2328d1fe2427e7086e4aa339eeb2ce820
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 28 16:02:08 2014 +0200

    NEWS: Updates ...

commit 707c839a6a0abda7310cf15eeb353a477ac83315
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed May 28 14:18:34 2014 +0100

    build: Don't fail if SWIG isn't found
    
    People from distros have reported that packaging the newer versions is
    more difficult because we now depend on SWIG. We don't have to, it's
    needed for the python dumper and is an optional build dependency.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 321273ff76fa16aabec0c6b0a63039525a4fec1b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 28 09:01:56 2014 +0100

    Factor in kernel object overhead when checking available memory for tests
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e4ba3b75e6de35483b2edea21ceda145ef0b3311
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue May 27 21:33:10 2014 +0300

    tests/kms_flip: Make flip-vs-panning-vs-hang change DSPSURF
    
    Make sure DSPSURF will change during the panning operation
    in flip-vs-panning-vs-hang.
    
    This will now test agains bugs between the kernel's mmio vs.
    CS flip race handling and GPU resets. If the kernel is buggy
    if will fail to notice that the panning operation changed the
    base address before the GPU reset had a chance to deal with the
    pending page flips, and so the flip would never complete due to
    DSPSURFLIVE not matching the expected value.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3805288f1a28abebb9313b515d5e48ba06350020
Author: Tim Gore <tim.gore@intel.com>
Date:   Tue May 27 16:45:24 2014 +0100

    intel-gpu-tools: Skip kms_mmio_vs_cs_flip if no cairo
    
    The kms_mmio_vs_cs_flip test uses igt_kms.c which in turn
    uses cairo. So in Android.mk add this test to the skip list
    if we dont have cairo
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ff3c12209893ee8ee0e757d6cf10276596ef0338
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 22 17:29:48 2014 +0200

    tests/kms_pipe_crc_basic: Add gpu hang tests
    
    Currently pipe CRC support is broken after gpu hangs. This tests for
    this bug.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f75ec0b452cbebc0375c1bf75f06e0dc8432cd7c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 22 16:27:44 2014 +0200

    tests/kms_pipe_crc_basic: Add suspend tests
    
    Currently broken ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6fa1934a1991ec30b4f72359cb51d043b374bf43
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Tue May 20 11:25:48 2014 +0300

    tests/drv_hangman: Add subtest for error state capture/dump
    
    Guarantees that error capture works at a very basic level.
    
    v2: Also check that the ring object contains a reloc with MI_BB_START
    for the presumed batch object's address.
    
    v3: Chris review comments:
     - Move variables to local scope.
     - Do not assume there is only one request.
     - Some gen encode flags into the BB start address.
     Also, use igt_set/get_stop_rings as suggested by Mika Kuoppala.
    
    v4: Make as a subtest of drv_hangman.
    v5: Rebase
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com> <v4>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 9b0d3481e80670ccc27925a6ada05bb36a665b05
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Mon May 19 17:42:21 2014 +0300

    tests/drv_hangman: Convert test from shell script to c
    
    Mixing script and standlone tests didn't mix well with the
    strict i915_ring_stop flags handling. Also squash drv_missed_irq_hang
    to the new test.
    
    v2: - Remove missed irq test (Daniel Vetter)
        - gitignore fixed (Oscar Mateo)
        - fix check_other_clients to handle dangling fd's
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78322
    Suggested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Reviewed-by: Oscar Mateo <oscar.mateo@intel.com> <v1>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 9911f3f0cf202444f1ef2399f5961605880b7360
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 22 10:20:33 2014 +0100

    igt/gem_userptr_blits: Fix up last minute API changes
    
    When the patch was merged, the ioctl numbers had to be adjusted to leave
    no holes. Also there was a final piece of munging of the API to
    downgrade unsynced userptr for export over dma-buf.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit eb566561e79d00c7ac7b596d428fa26f6de1ec5d
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Apr 14 16:14:40 2014 +0300

    tests/kms_mmio_vs_cs_flip: Add a test case to exercise mmio vs. CS flip races
    
    kms_mmio_vs_cs_flip has two subtests:
    - setplane_vs_cs_flip tests the interaction between
      fullscreen sprites and CS flips
    - setcrtc_vs_cs_flip tests the interaction between
      primary plane panning and CS flips
    
    v2: Skip sprite test when there are no sprites
        Reduce busy_bo to 64MB (now works on my gen2)
        Handle pipe vs. port incompatibility
    v3: Handle missing auto pipe crc
    
    Reviewed-by Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit e2ac7a15f195b67a44c474920cd220baab92f6b1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 22 09:34:36 2014 +0200

    tests/kms_sink_crc_basic: Use igt_assert
    
    Less verbose code makes for clearer test logic.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0675765eff4a7409afa98734aa0c8fbc02ce5ff6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 22 09:32:22 2014 +0200

    tests/kms_sink_crc_basic: skip properly
    
    Not running the test is not failing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f8935351413a23920032604e05802a404b8eaff2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 22 09:07:45 2014 +0200

    Revert "Revert "store_dw_loop: make loops smaller""
    
    This reverts commit 3005ac3ee8d7aede73a3e63d2068a6074156ebe5.
    
    QA has done the testing we've wanted.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c75dcbdac51dcc2d631a4a45049c9421e0229e16
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 20 15:45:31 2014 +0200

    tests/kms_flip: various improvements
    
    - Some debug logging for the ts continuity checks.
    - Add a plain vblank-vs-suspend test where kms_flip doesn't switch off
      the displays first.
    - Ensure that we do at least 2 rounds, the suspend tests bailed out
      after 1 round and so didn't test anything.
    - Frob the testnames a bit.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 89152791e2ebde5e05c51fc070e3eaa462701f74
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 20 14:42:12 2014 +0200

    tests/kms_flip: Add vblank vs. gpu hang testcase
    
    Currently broken :(
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 737d248a127f51d20555de53b9dfe28ca4682b54
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Mar 25 13:55:14 2014 +0800

    assembler: distinguish the channel of .z from the condition of .z
    
    The scratch patch only works for generic register
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75631
    Tested-by: Matt Turner <mattst88@gmail.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 881afff297835faf67f55ed1e9db596e57fb4cd7
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Mar 25 13:41:25 2014 +0800

    assembler: switch the order of swizzle and regtype to match the BNF of the assembly
    
    Fortunately our existing source didn't use swizzle.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75631
    Tested-by: Matt Turner <mattst88@gmail.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a6eaa292717f8c8e109ae172d115abea05b5c342
Author: Imre Deak <imre.deak@intel.com>
Date:   Sun May 18 23:37:56 2014 +0300

    igt/quickdump: vlv: dump FLISDSI regs too
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit ad08999794ab883e6755bdf3cdce8ba9ac7a4c6d
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon May 19 13:26:35 2014 +0300

    igt/intel_iosf: rename IOSF sideband opcodes according to the spec
    
    These opcodes are not specific for an endpoint, but are the same for all
    endpoints. So rename them accordingly, using the name the VLV2 sideband
    HAS uses. Also move the macros to the .c file, since they aren't used
    anywhere else.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 3005ac3ee8d7aede73a3e63d2068a6074156ebe5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon May 19 18:11:34 2014 +0200

    Revert "store_dw_loop: make loops smaller"
    
    This reverts commit f00efff326610fdba92dbc91d951790a3320052e.
    
    This is a temporary revert since I want QA to first test with the
    original testcase whether it got faster again. This is to test the
    effects of
    
    commit 227f782e4667fc622810bce8be8ccdeee45f89c2
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Thu May 15 10:41:42 2014 +0100
    
        drm/i915: Retire requests before creating a new one
    
    We should revert this revert again as soon as QA has completed
    testing.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=78024
    Cc: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f00efff326610fdba92dbc91d951790a3320052e
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon May 19 08:44:12 2014 -0700

    store_dw_loop: make loops smaller
    
    These tests are really for catching TLB or GTT mapping failures due to
    bad programming in the kernel driver.  We've never needed more than a
    few pages worth of data write to actually see those.

commit d71add5c1197706fdd060e7f487293ef8b459d87
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon May 19 07:26:12 2014 +0100

    igt/gem_bad_reloc: Refine for limited kernel w/a
    
    One proposed solution only fixes up the SNA behaviour, so reduce the
    test case to probe only that particular pathology.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 252d1151a809683b0f6ed2c546358b7375a27f18
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri May 16 23:36:25 2014 +0200

    tests/kms_sink_crc_basic: Put into righ Makefile target
    
    If it's a simple test, it needs to be in the simple lists. Tests with
    subtests go into the _M tests.
    
    Without that test enumeration is all screwed up.
    
    Cc: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 542c2b5ed5a2a5beee5912b44f9155ade532dca3
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Fri May 16 14:07:12 2014 +0100

    tests/kms_flip: test a fb backed by a bo too big/small for its own good
    
    This is a "review by igt test" for a bug located in
    i915_gem_object_pin_to_display_plane and fixed by:
    
    commit 392013bdd4b6128795e33c84bd6d6d3fd66ff0a3
    Author: Oscar Mateo <oscar.mateo@intel.com>
    Date:   Fri May 16 11:23:12 2014 +0100
    
        drm/i915: Gracefully handle obj not bound to GGTT in is_pin_display
    
        Otherwise, we do a NULL pointer dereference.
    
        I've seen this happen while handling an error in
        i915_gem_object_pin_to_display_plane():
    
        If i915_gem_object_set_cache_level() fails, we call is_pin_display()
        to handle the error. At this point, the object is still not pinned
        to GGTT and maybe not even bound, so we have to check before we
        dereference its GGTT vma.
    
        v2: Chris Wilson says restoring the old value is easier, but that
        is_pin_display is useful as a theory of operation. Take the solomonic
        decision: at least this way is_pin_display is a little more robust
        (until Chris can kill it off).
    
    v2: Avoid code duplication by using igt_create_fb_with_bo_size() as
    requested by Ville Syrjälä (original author of the "too big" test idea).
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 5bdd4d9b5e371735e0d76339989a9af9bd046702
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Fri May 16 14:07:11 2014 +0100

    lib/igt_fb: igt_create_fb_with_bo_size
    
    Useful for testing bigger/smaller fb-wrapped buffer objects.
    
    Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit ace8a9e10c7516c7298658a73c3096aa21b5986e
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu May 15 20:13:57 2014 -0400

    tests/kms_sink_crc_basic: Basic test to verify Sink CRC debugfs.
    
    v2: rebase after a long time.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1c9a5b1a7b63855bc90dfcf371dc0789548ca637
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri May 16 10:33:28 2014 +0200

    tests/pm_pc8 -> pm_rpm rename
    
    Plus naming convention for runtime pm tests to have "rpm" somewhere in
    their tests. Note that all the pc8-specific tests (for e.g. residency
    or similar) already have pc8 in their subtest names, so we don't lose
    any information here.
    
    Cc: "Yang, Guang A" <guang.a.yang@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7357639397fd7457149329494f615bb0053b9036
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 15 17:02:39 2014 +0200

    tests/pm_pc8: Use igt_assert_cmpint
    
    More pretty!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5e83f0444d0fcef2d5996ef12f9cf1593ccd8f78
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu May 15 14:06:51 2014 -0400

    tests/gem_bad_reloc: Adding missing include.
    
    It was breaking compilation.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 6797ca8c75dc57f4a5eaa9ca8d6f180fd24491dc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 15 16:35:32 2014 +0200

    tests/kms_render: don't loop through modes
    
    We kinda have testdisplay for this ... and doing this tends to take
    forever.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=77709
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 943511a3ab53df1db5e631bface63bdae663c4c8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 15 10:03:11 2014 +0200

    tests/gem_reg_read: Fix errno check
    
    So I accidentally fixed a check when converting to the new macros and
    the kernel never returned -ENOENT for invalid regs. Adjust the test.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6727de0c1abe0b2d6d44255dd30a29dc3ee84993
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 17:59:02 2014 +0200

    tests/kms_flip: nasty power management tests
    
    These check whether everything is still ok wrt vblank handling after
    runtime pm and system suspend-resume.
    
    In addition to the usual checks they also ensure that the vblank frame
    counter isn't totally ridiculous, something Keith complained about
    aeons ago. With Ville's drm_vblank_on/off rework this should now be
    fixed and solid.
    
    v2:
    - Ignore seq_step, vblanks completely immediately when the crtc goes off
    - Only run system suspend/resume tests once.
    
    Cc: Keith Packard <keithp@keithp.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd521b493e73d987669afbce8da6418e1aed7db6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 16:10:50 2014 +0200

    lib/igt_aux: Extract runtime pm helpers from pm_pc8
    
    I want to use them elsewhere ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1bee7e8b82e4a264d20df1f5825b8424c9241e39
Author: Tim Gore <tim.gore@intel.com>
Date:   Thu May 15 10:25:48 2014 +0100

    intel-gpu-tools: Skip kms_fence_pin_leak if no cairo
    
    The kms_fence_pin_leak test uses igt_kms.c which in turn
    uses cairo. So in Android.mk add this test to the skip list
    if we dont have cairo
    
    Issue: VIZ-3894
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit af1fbc427f50ac38ed93f3e682cf92b9ae1b2f41
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 15 13:37:03 2014 +0100

    igt/gem_ringfill: Only check for rendercopy when testing render ring
    
    Overzealous test runner ftl.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78591
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ef51988ab287c86c2a324271eebf85a68979ac46
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 15 13:23:44 2014 +0100

    igt/gem_bad_reloc: Restrict negative reloc tests to IVB+
    
    The bug doesn't seem to occur on SNB, so we can skip the workaround and
    hence we do not expect the kernel to prevent invalid relocated offsets.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 465793bfd185062cfaee1b0dd3abf98ce5218333
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 15 13:10:54 2014 +0100

    gem_exec_lut_handle: Do a warm up pass before timing
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit efd5a571f47885ca1cbd2f20a879d38018fe7c3e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 15 13:10:21 2014 +0100

    gem_bad_reloc: Add subtest for LUT-based execbuffers
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit daa9e3d80a6c25667b259e864376ac929d5a11bd
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 15 08:43:11 2014 +0100

    Add gem_bad_reloc
    
    This test feeds a batch containing self-references into the kernel and
    checks that the relocation offsets remain as valid GTT addresses. This
    is to exercise SNA passing in negative relocation deltas which can hang
    the GPU if they wrap around.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=78533
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 62cd793c37135339788fff7ddf99f5039b0282ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 17:59:25 2014 +0200

    tests/kms_flip: Fix vblank ts check
    
    Oops, fumbled that in the conversion.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 78f79e4e95b571b0ee6f407aaea6dc7c0f864985
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon May 12 14:18:42 2014 +0300

    tests/kms_fence_pin_leak: Exercise full ppgtt fence pin_count leak in the kernel
    
    The kernel full ppgtt support has a bug where it can drop a pinned
    fence to the floor, hence we leak the pin_count as the subsequent
    fence unpin becomes a nop. We can trigger it easily by unbinding a
    buffer from a ppgtt address space while the buffer is simultaneosly
    being used for scanout.
    
    Make the kernel leak the fence pin_count and trick it into picking
    a new fence register for the next scanout buffer. Looping like
    this for a while we leak the pin_count for all fence registers after
    which the kernel can no longer find a new fence register when it needs
    one. As a result we get back a SIGBUS from the GTT mmap access.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 831eb2119793e55d9c0e1be363a2f480f3183ff6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 15:33:27 2014 +0200

    lib/igt_core: Fixup docs with symbolic exit codes
    
    Conflict between me and Thomas pushing patches in parallel.
    
    Cc: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 17eb062661e02a3cea97c4893d373ce8124a0b94
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Tue May 13 15:22:52 2014 +0100

    lib: add exit status defines
    
    Add defines for success, skip and timeout exit statuses.
    
    Suggested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>

commit c03d58595e23d155aa470e60e6debaa0ee357a1b
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Mon May 12 10:20:55 2014 +0100

    lib: set a timeout when reading crc values
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Acked-by: Damien Lespiau <damien.lespiau@intel.com>

commit d8e5313a276c856fdd6f600e69e26f45e4c370c0
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Mon May 12 10:19:52 2014 +0100

    lib: add igt_set_timeout
    
    Add a function to stop and fail a test after the specified number of
    seconds have elapsed.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Acked-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5597a1f418f925f7cb298d3f74aab5ebdb0edd36
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 11:52:35 2014 +0200

    tests/kms_flip: Use asserts
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0b3407f5283c1a091f9c980df76bf6ccfb692f9f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 11:41:55 2014 +0200

    tests/prime_nv_pcopy: Remove unused tiling tests
    
    We now know that the hardware can't do this, and it's not designed to.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ee90a4a0dc2cb133bd84283da460069f22c49aac
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 11:39:31 2014 +0200

    tests/prime_nv_pcopy: Drop return values from tests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7294e0c22d2be22b3f9abbbcad81794c65315c8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 11:31:31 2014 +0200

    tests/prime_nv_pcopy: Drop return values from copy/check functions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8710e302a46761a1164a6453eaf53345fd76fc44
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 10:57:46 2014 +0200

    tests/prime_nv_pcopy: Use asserts in setup code
    
    Now we even have more fine-grained checking and only skip if the
    nouveau card isn't supported, but fail properly if something else goes
    wrong.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 782cda17b932e9f96beca87f61b791990bea8ce5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 10:49:40 2014 +0200

    tests/prime_nv_pcopy: Use asserts in nv_bo_alloc
    
    Step one to untangle the control flow in this test and replace it all
    with igt assert magic.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d502ae6f773333b0e073923911bf936842296e73
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 10:44:16 2014 +0200

    tests/prime_nv_api: Use asserts instead of control flow
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 722b25a303bcb927bf233cb773a3f6e3851e2f58
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 10:07:17 2014 +0200

    tests/gem_seqno_wrap: Replace control flow with asserts
    
    Only tricky bit was a bit of debug output sprinkled all over, I've
    moved it all to cmp_bo.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0b7ce4ac2929ea56dfde508d551163a5304c66d8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 09:56:53 2014 +0200

    tests: Use igt macros more
    
    Often just folding together of the common if (cond) printf;
    abort|igt_skip|igt_fail; pattern. But in a few cases I've ripped out
    more since the igt macros will already print the condition and errno.
    
    A few tests where more work (like ripping out return codes en masse)
    is needed left as-is.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e624fa8a2e1a31494c6e47a65e378e480882422d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 14 00:36:04 2014 +0200

    tests: sprinkle igt logging
    
    All the cases that simply dump some debug information and couldn't be
    converted to some of the fancier macros.
    
    Some information output removed when it's redundant with the subtest
    status.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 351e7d395041b4b87ad28a201c81acac40cb397f
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue May 13 15:49:58 2014 +0300

    pm_pc8: add system-suspend subtest
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 4e4ff4c1d1189f2dab59af1f1e868d88ab13624a
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue May 13 15:02:37 2014 +0300

    tests/kms_fbc_crc: Use igt_create_color_fb()
    
    No need to hand roll the alloc fb+paint code anymore, just use the
    common helper.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit abc262bf470f0988e10f1cfe4aa8d0f7f5f65519
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue May 13 14:49:53 2014 +0300

    tests/kms_fbc_crc: Reset display state between subtests
    
    If a subtest fails it'll leave the display in a state that may prevent
    the next subtest from working. So reset the display state between
    subtests.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 54f8f5d13eefbbfb16ffd38be565d5c60ce67440
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue May 13 13:56:41 2014 +0300

    tests/kms_fbc_crc: Switch to using the igt_display stuff
    
    Let's try to use the common igt_display framework to make the code a bit
    nicer.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit d2d0a96eca2e63a7ec75fd15b81808c42ae796b7
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue May 13 13:38:20 2014 +0300

    tests/kms_fbc_crc: Simplify pipe_crc mess
    
    There's no need to keep an array of pipe_crc objects around. Just keep
    one for the duration of the specific crtc/connector/test combo.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 126b8ba72f6a6f017819e00dc2b37a7c6549a143
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 13 12:28:26 2014 +0200

    lib/igt_core: Fix type on igt_log doc
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1503d17cc5444d43f37b07d722f7c2a0db7c7f91
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 13 11:29:34 2014 +0200

    lib/igt_core: Document testrunner interface a bit
    
    Also fix up one gtkdoc fumble in igt_fb. We should use symbolic
    defines if possible instead of just listening the magic 0, 77, 78
    values for exit codes, but that's a separate patch.
    
    Cc: tim.gore@intel.com
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0be29daac18bebeca6be6e80746ff8abb6476dfc
Author: Tim Gore <tim.gore@intel.com>
Date:   Tue May 13 09:34:42 2014 +0100

    intel-gpu-tools: Move igt tests to intel validation area
    
    Currently when IGT is built for Android the resulting test
    executables go to /system/bin, which is not ideal. After
    discussion with the core validation team i have moved them
    to /system/vendor/intel/validation/core/igt by setting
    LOCAL_MODULE_PATH.
    
    I have also added a --defsym linker option to export a
    symbol that allows a script to easily distinguish between
    tests that have subtests and those that dont. There are
    better ways to do this (viz, in the source code) but
    because the igt tests are not written consistently this
    would require many more changes.
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd7f9ab2cefd4c8fcf57e0dc4e79fef6890a3c71
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 13 11:12:34 2014 +0200

    NEWS: Android has libcairo support now!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 41cbe36bba966fdc96d86031f2db5853e2c59ef4
Author: Tim Gore <tim.gore@intel.com>
Date:   Mon May 12 13:39:00 2014 +0100

    intel-gpu-tools: Build tests needing cairo if ANDROID_HAS_CAIRO=1
    
    Until now the tests that depended on libcairo were simply
    skipped in the android build. Now that I have a cairo port
    working, build these cairo dependent tests if ANDROID_HAS_CAIRO
    is set to 1 in the environment.
    For information on building cairo for IGT on Android see the
    wiki at:
    
    https://securewiki.ith.intel.com/display/GFXCore/IGT+Test+Suite+on+Android
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0fee90b56df9a644b305f6cf37785b8284d410b3
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Sat May 10 14:11:53 2014 -0700

    tests/gen7_forcewake_mt: Don't set the GGTT bit in SRM command
    
    The command parser in newer kernels will reject it and setting this
    bit is not required for the actual test case.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=76670
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 63746417e25b8e9efbeb6021c768695740849a18
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon May 12 13:29:49 2014 +0300

    testdisplay: fix restoring termio at exit
    
    At normal exit in test_all_modes we don't restore the original termio,
    since g_io_channel_shutdown() closes the stdin fd and so the following
    tcsetattr on stdin will fail. We also don't restore the termio at signal
    exit. Fix both cases by installing an exit hanlder with a dup'ed stdin fd.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit d848a36545eec43760de7e34a57a796182358087
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu May 8 15:56:24 2014 +0300

    tests/kms_fbc_crc: Check context support earlier
    
    Check for context support before doing anything else in the subtest.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit f85fff0de620bc20d8a20896812fcce584983f28
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu May 8 15:56:24 2014 +0300

    tests/kms_fbc_crc: Allow the subtests to pass even if some planes aren't FBC capable
    
    Don't skip the entire subtest if FBC only works on some of the primary
    planes, as is the case on pre-gen4 and hsw+. Only skip the entire subtest
    if all crtc/connector combinations skip.
    
    Also print some kind of status for all otherwise valid crtc/connector combos
    if they skip due to FBC being disabled or CRC support not being there.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 66d5f092d46120d97a0408dcd8fea0c0e086d7a8
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 8 11:56:56 2014 +0100

    igt/gem_render_tiled_blits: Speed up by using the GPU to detile
    
    Avoid accessing via the slow GTT to read back and compare the contents
    of each bo against expected results. It is much faster, on llc at least,
    to detile using the GPU and then copy to system memory for the compare.
    
    Before:
    
    IVB: time sudo ./gem_render_tiled_blits
    IGT-Version: 1.6-ge46ff3f (x86_64) (Linux: 3.15.0-rc3+ x86_64)
    Using 3072 1MiB buffers
    Verifying initialisation...
    Cyclic blits, forward...
    Cyclic blits, backward...
    Random blits...
    
    real	6m26.005s
    user	6m19.234s
    sys	0m2.414s
    
    PNV: time sudo ./gem_render_tiled_blits
    IGT-Version: 1.6-g8556f8a (i686) (Linux: 3.15.0-rc2+ i686)
    Using 768 1MiB buffers
    Verifying initialisation...
    Cyclic blits, forward...
    Cyclic blits, backward...
    Random blits...
    
    real	1m45.431s
    user	1m34.960s
    sys	0m4.624s
    
    Using pread:
    
    IVB: time sudo ./gem_render_tiled_blits
    IGT-Version: 1.6-ge46ff3f (x86_64) (Linux: 3.15.0-rc3+ x86_64)
    Using 3072 1MiB buffers
    Verifying initialisation...
    Cyclic blits, forward...
    Cyclic blits, backward...
    Random blits...
    
    real	0m14.717s
    user	0m3.699s
    sys	0m3.192s
    
    Using snoop:
    
    IVB: time sudo ./gem_render_tiled_blits
    IGT-Version: 1.6-ge46ff3f (x86_64) (Linux: 3.15.0-rc3+ x86_64)
    Using 3072 1MiB buffers
    Using a snoop linear buffer for comparisons
    Verifying initialisation...
    Cyclic blits, forward...
    Cyclic blits, backward...
    Random blits...
    
    real	0m13.774s
    user	0m3.900s
    sys	0m2.089s
    
    PNV: time sudo ./gem_render_tiled_blits
    IGT-Version: 1.6-g8556f8a (i686) (Linux: 3.15.0-rc2+ i686)
    Using 768 1MiB buffers
    Using a snoop linear buffer for comparisons
    Verifying initialisation...
    Cyclic blits, forward...
    Cyclic blits, backward...
    Random blits...
    
    real	0m20.831s
    user	0m4.384s
    sys	0m5.032s
    
    So roughly 10-30x faster depending on platform.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78244
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e46ff3f8c25957d641420fef4d680d48ce0a365f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 8 10:04:35 2014 +0100

    igt/gem_lut_handle: Fix errno checking
    
    Regression from
    commit c1404e05b7477122b9923ba029593c2cb64671a7
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Tue Apr 29 07:14:33 2014 +0100
    
        errno is reset after each syscall
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8741c2289f17e9bcb740a01cad4764a71c918eea
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Wed May 7 16:46:19 2014 +0300

    tests/gem_flink_race,prime_self_import: fix object counts
    
    We need to add one drm_open_any() before getting the object counts
    as first call to drm_open_any() allocates file descriptors for
    exit handlers and thus is not symmetrical.
    
    The regression, assymmetric behaviour, was introduced in:
    
    commit 2f2c491cf3167befe7c79e4b17afb4f6284dfc84
    Author: Mika Kuoppala <mika.kuoppala@intel.com>
    Date:   Fri Mar 28 10:52:46 2014 +0200
    
        lib/drmtest: don't dup quiescent fd
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=77867
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=77875
    Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 7935bbd9ba9508d6993ca019a5b8f3262676e7b5
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue May 6 14:06:52 2014 +0300

    intel_bios_reader: make edp block decode match kernel
    
    All the somewhat recent VBT specs and the kernel have different format
    for the eDP block than what the tool decodes. What the tool does *may*
    be correct for really old VBT, but I have no specs or other reference to
    suppor this. Just do what the kernel does, that's what we're interested
    in anyway.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>

commit 4bd9fe6e3409d59e618053f908e33bc291d295f4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon May 5 10:57:12 2014 +0100

    gem_alive: A utility to see if the driver or GPU has hung

commit c864279de620a6e211b8a197dbdf9e3e1e2b60ab
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Apr 30 18:39:27 2014 +0100

    overlay: Parse /proc/interrupts in lieu of debugfs/i915_gem_interrupt
    
    So the interrupt counter was removed from i915_gem_interrupt, and if we
    do not have the perf API available, we therefore need to read it from
    /proc/interrupts instead.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit bff7ecde7bf3757e11ab4559212564e3f4919b89
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Apr 30 18:38:26 2014 +0100

    overlay: Use new i915_frequency_info in fallback code
    
    Actually use the new location to get frequency information when perf is
    not available.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b38b8a59a8694ef2d2d4c78283c7c697367766d7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 24 23:37:05 2014 +0200

    tests/pm_pc8: subtests for runtime pm for dpms
    
    Very basic since I lack a bit ideas. After all with the latest
    patches runtime pm doesn't make much a difference between dpms off
    and disabling the outputs completely with SetCrtc.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 29ee36f2597747c01d5c79c93ed31f5bcd06e219
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 24 23:33:09 2014 +0200

    lib: extract kmstest_set_connector_dpms
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 066ad35ee7b39ab51fb5b8e54c3abd72df016413
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 30 18:05:21 2014 +0200

    tests: Fix make depencies for test list
    
    Oops, pretty bad ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a40f091d8181b911b9dc2e11f50fcc33773d35df
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue Dec 18 17:43:13 2012 +0200

    Add Cherryview PCI IDs
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit ce3c443641344d2ecb642e62526ebc2a6eb3a458
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 29 17:17:24 2014 +0200

    NEWS: Updates

commit c1404e05b7477122b9923ba029593c2cb64671a7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Apr 29 07:14:33 2014 +0100

    errno is reset after each syscall
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=78055
    Bugilla: https://bugs.freedesktop.org/show_bug.cgi?id=78053
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit fa86e33ccc56ee84f2f9ac924943eef0f1469a32
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Apr 28 17:58:45 2014 +0300

    tests/gem_stress: Fix rendercopy vs. keep_gpu_busy on gen6+
    
    If the hardware has a blt ring blits aren't allowed on the render ring.
    Trying to execute blits on the render ring results in a GPU hang.
    
    Flush outstanding blits from keep_gpu_busy() before calling rendercopy()
    so that they don't end up on the render ring.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 6abfe2f0dbe80f8c1d4986367d56842bbf94d23e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Apr 28 15:26:15 2014 +0200

    tests/gem_exec_params: One more invalid ring tests
    
    With the vebox 2 patches the number of internal rings don't match the
    number of exposed rings. So add another subtest with an invalid ring
    which should be invalid both internally and externally. The bug this
    will catch is using the ring structure before validation, which the
    old "invalide-ring" wont be able to due to the internal vebox2 ring.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a595a400788bac972cb24ec78ae36db113419237
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri Apr 25 10:26:46 2014 +0300

    tests/pm_pc8: skip the test if runtime PM is disabled
    
    The PC8 state won't be entered unless runtime PM is enabled, so support
    for PC8 residency counters alone is not enough to run this test.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e36c896a71660b09fd4f96ef5342009cd5908b80
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Apr 25 17:57:22 2014 +0200

    test: Fixup for the previous patch
    
    Oops, failed to git add.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1b55886c4ba111b2ba331b03289658cbd1ae0e2e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Apr 25 17:52:02 2014 +0200

    test/gem_userptr_*: Fix compile fail
    
    Also shut up warnings. Those revealed incorrect usage of local
    variables in conjunction with igt_fixture/igt_subtest. Since those use
    longjmps we need to move the out of the stackframe those magic blocks
    are declared in.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d3057d7a1eba0c050f5d6d9674d56d1794b1f066
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Fri Apr 25 15:42:20 2014 +0100

    tests/gem_userptr_benchmark: Benchmarking userptr surfaces and impact
    
    This adds a small benchmark for the new userptr functionality.
    
    Apart from basic surface creation and destruction, also tested is the
    impact of having userptr surfaces in the process address space. Reason
    for that is the impact of MMU notifiers on common address space
    operations like munmap() which is per process.
    
    v2:
      * Moved to benchmarks.
      * Added pointer read/write tests.
      * Changed output to say iterations per second instead of
        operations per second.
      * Multiply result by batch size for multi-create* tests
        for a more comparable number with create-destroy test.
    
    v3:
      * Use ALIGN macro.
      * Catchup with big lib/ reorganization.
      * Removed unused code and one global variable.
      * Fixed up some warnings.
    
    v4:
      * Fixed feature test, does not matter here but makes it
        consistent with gem_userptr_blits and clearer.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Cc: Brad Volkin <bradley.d.volkin@intel.com>
    Reviewed-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a3e97ddcbf53c99af3b0a25db9a055119d312116
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Fri Apr 25 15:42:19 2014 +0100

    tests/gem_vmap_blits: Remove obsolete test case
    
    No need for the old test case once the new one was added.
    
    v2:
       * Just rebase for lib/ reorganization.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Reviewed-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 863c0730f3aa695f2e968e1f38e0f36c4f8af310
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Fri Apr 25 15:42:18 2014 +0100

    tests/gem_userptr_blits: Expanded userptr test cases
    
    A set of userptr test cases to support the new feature.
    
    For the eviction and swapping stress testing I have extracted
    some common behaviour from gem_evict_everything and made both
    test cases use it to avoid duplicating the code.
    
    Both unsynchronized and synchronized userptr objects are
    tested but the latter set of tests will be skipped if kernel
    is compiled without MMU_NOTIFIERS.
    
    Also, with 32-bit userspace swapping tests are skipped if
    the system has a lot more RAM than process address space.
    Forking swapping tests are not skipped since they can still
    trigger swapping by cumulative effect.
    
    v2:
       * Fixed dmabuf test.
       * Added test for rejecting read-only.
       * Fixed ioctl detection for latest kernel patch.
    
    v3:
       * Use ALIGN macro.
       * Catchup with big lib/ reorganization.
       * Fixed up some warnings.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Reviewed-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a461515b334ebb7782ee15e31f943e7a6753d845
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Apr 25 15:27:57 2014 +0300

    kms_cursor_crc: Fix the test on platforms where the pipe->port mapping has restrictions
    
    On gen2 for instance the LVDS port can only be fed from pipe B. Check
    whether the combinations is valid before trying to run the test. Also
    clean up the state back to PIPE_ANY properly so that following tests
    can again go through all the combinations.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75131
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 5b90833941f17d175204041c86ad84c6662e55df
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Apr 25 13:37:09 2014 +0300

    kms_cursor_crc: Wrap igt_require() in igt_fixture
    
    igt_require() must be within a fixture or subtest.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit f688a56ee8285f6ebc416d5038eded73f04602bb
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Apr 25 13:38:31 2014 +0300

    kms_cursor_crc: Replace snprintf()+%s with just %d
    
    There's no point in first printing the int to temp string using %d
    and then printing that out with %s. Just stick the %d into the final
    string.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit fb2ccb1ade605e7c55da2ee82c9cd41d98270fa5
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Apr 25 13:50:59 2014 +0300

    kms_cursor_crc: Allow the test to run without cursor cap support
    
    Assume that only 64x64 cursor size is supported if the cursor size caps
    aren't supported by the kernel. This allows the test to run on older
    kernels.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit f8e5a3fc7e92f67cea7c1832e786cbb344aefd5e
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Apr 25 13:49:11 2014 +0300

    kms_cursor_crc: Wrap cursor fb creating into igt_fixture
    
    We don't want to attempt creating the cursor fb when enumerating
    subtests. So wrap it into igt_fixture. Also destroy the cursor
    fb after the tests.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit f6e869732cfa054bfa218aa465b989c85a0ba489
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu Apr 24 19:07:18 2014 +0300

    kms_cursor_crc: Simplify the pipe_crc mess
    
    Instead of allocating an array of igt_pipe_ctc_t objects, just allocate
    one and stick it into test_data.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit aaef7ad37614f5d139b06d63b3052ae8cefe57ed
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:12 2014 +0300

    kms_cursor_crc: Add background picture
    
    This gives the cursor something to be on, instead of just a black
    background. Slows the test down only one second over six minutes.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit fafcff90a870844e0febdda4066b361479df3747
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:11 2014 +0300

    kms_cursor_crc: Add random cursor placement test
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit 470e5ce6c34731a1c76a1089dabfb6144f4f1429
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:10 2014 +0300

    kms_cursor_crc: Add moving cursor test
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit 795eddc63967a10cc186609259f61d531e41e078
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:09 2014 +0300

    kms_cursor_crc: Add reference software rendering
    
    This patch first render the cursor with hardware rendering and
    then with software, acquiring the CRC in both cases so they can be
    properly compared. Say goodbye to crc_must_match variable.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit ead0173c4d14899045dfe3595b119c49229f0dc3
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:08 2014 +0300

    kms_cursor_crc: Separate onscreen and offscreen tests
    
    Also remove onscreen boolean from parameter list. All test-related
    data should be put into test_data from now.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit fe8041b8f954468acdccbba1e7ced1712cf3b629
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:07 2014 +0300

    kms_cursor_crc: Use a function pointer to call test
    
    More tests are coming, and this allows us to not repeat the boilerplate
    code in run_test() for each subtest.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit 7ec631c2426917020ab76d6d305132ab190372ea
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:06 2014 +0300

    kms_cursor_crc: Move cursor enable and disable calls where they belong
    
    We can't have the hw cursor enabled during software render tests.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>
    [vsyrjala: collect the crc before disalbing the cursor]
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit a593d613f9ccafa5ba95ec4b9542cd00eef1cc7b
Author: Antti Koskipaa <antti.koskipaa@linux.intel.com>
Date:   Thu Apr 10 15:08:05 2014 +0300

    kms_cursor_crc: Remove some test cases and change cursor to color
    
    Currently this test is quite useless, since it only checks for valid CRCs when
    the correct output from a test is a completely black screen (invisible or visible
    but black cursor, or cursor is offscreen) and disables the check when anything
    visible is onscreen.
    
    This patch changes the cursor to a colorful one and removes the test cases
    that become redundant because of this change. The cursor is designed to be
    asymmetrical such that future tests involving rotation, mirroring, etc. produce
    different CRCs and failures can be detected.
    
    This (temporarily) disables CRC testing until the next patch which will add
    software rendering of the cursor and the CRC generation.
    
    Signed-off-by: Antti Koskipaa <antti.koskipaa@linux.intel.com>

commit b918a3ba15b510edfeb37a375ffacd5bdb5e1410
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Apr 25 07:40:34 2014 +0100

    Reset errno to 0 after success
    
    errno is only valid after a syscall wrapper (e.g. ioctl()) reports an
    error. However, we report the last errno value as a part of the
    igt_assert() output and so we display spurious values such as:
    
    Test requirement not met in function gem_require_ring, file ioctl_wrappers.c:802:
    Last errno: 11, Resource temporarily unavailable
    Test requirement: (!((((intel_get_drm_devid(fd)) == 0x0102 || ...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5d7649690c80b531a4949e275926315a749455e3
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Wed Apr 23 17:03:23 2014 +0100

    benchmarks: Build them on Android.
    
    They build fine so give them some exposure.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Reviewed-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>

commit dc14bf455d66a0a31253ac4fa3e024eb1e036968
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Wed Apr 23 16:07:55 2014 +0100

    tests: Extract ALIGN macro into a common header
    
    Makes for a little bit less code duplication, especially since
    it will be used from more callers in the future.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Reviewed-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>

commit e32664c8ee47d8eb01955240672a198aab7e2969
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Wed Apr 23 16:02:47 2014 +0100

    tests: Skip building kms_flip_tiling on Android
    
    Dependencies are not available at the moment so it does not build.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>

commit 1639022aa85e57cdf365f2be1a165263cb251ddd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 24 10:43:38 2014 +0200

    tests/gem_exec_params: Fix rel-constants-invalid subtest
    
    Reported by Ville and Zhao Yakui.
    
    Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Cc: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5a8c06464e025495f0b9143dbcec76f02354d58a
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Thu Apr 24 10:15:45 2014 +0800

    tests/gem_dummy_reloc_loop: Add one subtest based on multi drm_fd to test CPU<->GPU sync under multi BSD rings
    
    The Broadwell GT3 machine has two independent BSD rings in kernel driver while
    it is transparent to the user-space driver. In such case it needs to check
    the CPU<->GPU sync for the second BSD ring.
    
    V1->V2: Follow Daniel's comment to add one subtext instead of one individual
    test case, which is used to test the CPU<->GPU sync under multi BSD rings.
    
    V2->V3: Follow Imre's comment to remove the unnecessary initialization and
    use igt_assert_f instead of igt_assert
    
    Reviewed-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ae8e646127715e816376c6324c9109331bad6503
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Thu Apr 24 10:15:44 2014 +0800

    tests: Add one ring sync case based on multi drm_fd to test ring semaphore sync under multi BSD rings
    
    The Broadwell GT3 machine has two independent BSD rings in kernel driver while
    it is transparent to the user-space driver. In such case it needs to check
    the ring sync between the two BSD rings. At the same time it also needs to
    check the sync among the second BSD ring and the other rings.
    
    V2->V3: Follow Imre's comment to remove the unnecessary initialization and
    use igt_assert_f instead of igt_assert.
    
    V3->V4: Add gem_multi_bsd_sync_loop.c into the tests/.gitignore
    
    Reviewed-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cd3850e28e5ec83dc15462b965310794effb71b1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 23 20:23:28 2014 +0200

    tests: Add gem_exec_params
    
    This fills all the gaps we've had in our execbuf testing. Overflow
    testing of the various arrays is already done by gem_reloc_overflow.
    
    Also add kms_flip_tiling to .gitignore.
    
    This will cause a bunch of failures since current kernels don't catch
    all fallout.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4e93890377fc1b33fbbad29759299634f0eebfa9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 24 07:58:09 2014 +0100

    Add gem_render_copy_redux
    
    This is an "advanced" form of the the simple gem_render_copy test.
    Instead of aiming for maximal simplicity to aide debugging of new
    rendercopy backends, this test aims to exercise the execbuf interface
    using the render ring.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 78e4c2b449c6d0a18e2bfaea29f3a0eadb42c5f3
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Apr 16 17:05:43 2014 +0300

    lib: Fix potential out of bounds access in ring stop code
    
    The subsequet code expects the read() to not have filled the entire
    buffer, and yet we allow it to do so. Reduce the size passed to read()
    by 1 to make the code sane.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 4aa2c102b933d11cc85e0dc6fe607924e248b652
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Apr 16 17:07:07 2014 +0300

    lib: Fix assert failure in ring stop code
    
    The assert in igt_set_stop_rings() is a bit bogus. Suppsoedly it was
    meant to assure that the caller always restores the rings to running
    state after stopping them. But in its current form it will trigger
    any time someone calls the function and the rings were already stopped.
    So you can't even restore the rings to running state w/o the assert
    triggering.
    
    Fix it up so that it'll ignore the current ring state when we're trying
    to restore the rings back to running state.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 43c2ed758fea849d666af519cd2382d6d6bc6607
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Apr 14 16:23:18 2014 +0300

    tests: Compile all the tests
    
    A bunch of the tests aren't being built due to a missing '\'. Fix it.
    
    The problem was introduced here:
     commit ddf8cc107e3b78e4c8200b083ed298c24eec1f03
     Author: Ander Conselvan de Oliveira <ander.conselvan.de.oliveira@intel.com>
     Date:   Wed Apr 2 15:31:38 2014 +0300
    
        test: Add test for checking if page flip changes tiling
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 4fbd49beb94c299b38555b4ef647588fca47a388
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Apr 11 16:16:31 2014 +0200

    tests/kms_flip_tiling: Fixes
    
    - Wrap up testcase correctly into the magic code block.
    - Put local variables out of the longjmp danger zone.
    
    Cc: Ander Conselvan de Oliveira <ander.conselvan.de.oliveira@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ddf8cc107e3b78e4c8200b083ed298c24eec1f03
Author: Ander Conselvan de Oliveira <ander.conselvan.de.oliveira@intel.com>
Date:   Wed Apr 2 15:31:38 2014 +0300

    test: Add test for checking if page flip changes tiling
    
    Test that a page flip from a tiled buffer to a linear one works
    correctly. First, it sets the crtc with the linear buffer andr
    generate a reference crc for the pipe. Then, the crtc is set with
    the tiled one and page flip to the linear one issued. A new crc is
    generated and compared to the rerence one.
    
    Signed-off-by: Ander Conselvan de Oliveira <ander.conselvan.de.oliveira@intel.com>

commit cc730c418f44245c49776059b2564f54da4449e6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 16:14:33 2014 +0100

    lib/kmstest: Fix up tiled buffer creation
    
    When extracting a raw __gem_set_tiling helper I've fumbled this in
    
    commit 590f6101402b51bca54f69c002380bda967484ea
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Wed Oct 9 20:50:50 2013 +0200
    
        lib/drmtest: extract rawer __gem_set_tiling
    
    Fix things up so that we properly propaget the error again.
    
    Now to make this all properly work we also need to make kms_flip a
    notch more robust against such failures ...
    
    This only blows up on gen2/3 with the pan tests which want a too wide
    framebuffer for tiling.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 99b8f807010483128f10f7934a864c78b4438b34
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Thu Apr 10 17:51:39 2014 +0300

    tests/gem_reset_stats: fix length check in inject_hang
    
    To avoid writing past the batch end.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 53ad1e4a7040c57355b57fc3cdc8d9a003687a32
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Fri Mar 28 15:12:14 2014 +0200

    tests/gem_reset_stats: check gpu state before each subtest
    
    Some tests, namely the close pending variety, tries to
    carefully drop all handles to gpu when hang is intruduced,
    to expose bugs in reset handling without any clients.
    
    Add guards after and before tests to really know if
    the gpu is still alive as the particular test might
    report success and then gpu dies few seconds after.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 2f2c491cf3167befe7c79e4b17afb4f6284dfc84
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Fri Mar 28 10:52:46 2014 +0200

    lib/drmtest: don't dup quiescent fd
    
    If we dup the fd, we are in mercy of the context banning
    of the test application. Better to have our own to guarantee
    that gem_quiescent_gpu won't find itself banned on exit.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit d983a47f1470cbea8388864537dbe5aff5575df6
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Tue Mar 25 12:52:19 2014 +0200

    tests: use lib igt_[get|set]_stop_rings()
    
    on gem_reset_stats, kms_flip and pm_rps.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75876
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit bfa6fa9a4bfdd7988a1ed68c9c97f9cc53d0f50c
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Tue Mar 25 12:21:44 2014 +0200

    lib: add igt_get_stop_rings and igt_set_stop_rings
    
    Multiple tests are introducing hangs by fidding with i915_ring_stop
    debugfs entry.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 1c7ca57e531315f78f8ea3b9dce7bd92d7d79f64
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Thu Apr 10 16:06:27 2014 +0300

    tests/gem_reset_stats: end hanging batch properly
    
    As we use chained batch into itself to hang the gpu, there
    was no need to end the batchbuffer with BATCH_BUFFER_END.
    
    With the introduction of command parser, the batch
    need to have proper BATCH_BUFFER_END in it or it
    will be rejected.
    
    While at it, shift the upper half of batch gtt_offset
    accordingly with gen8+
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit f74c443925578b377c47d655a2d864b8ed521330
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Thu Mar 27 11:44:45 2014 -0700

    tests/gem_exec_parse: Test for OACONTROL tracking
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9eec5b0f11d864c986511db07d447e379bcef696
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Apr 7 13:10:41 2014 +0100

    gem_tiled_swapping: Test using all available fences
    
    Use extra threads to cause extra memory pressure and stress upon the
    relevant code. Limit the number of threads to available fences to avoid
    falling off the fence cliff.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ff7806e52c4e9b7c522e59ba8514c5c6e3fa8683
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Apr 7 13:09:46 2014 +0100

    gem_tiled_swapping: Purge all page/swap caches first
    
    Reset the system to a vanilla state before we query how much RAM/swap
    space is available for our testing.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5d607a744f3df07235355ebcb5376e2464e2f4b1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Apr 7 12:07:14 2014 +0100

    intel-gpu-overlay: Update debugfs path for min/max frequency
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 574d62db398af45a8cb1d38fd77dd50bd645149b
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Apr 4 13:24:53 2014 -0300

    tools/intel_reg_dumper: use haswell_debug_regs on BDW too
    
    Instead of using an older set of registers.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 1fd9fc00127026b56dbd5cea323a63bdd4e69706
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Apr 4 13:22:56 2014 -0300

    tests/pm_pc8: skip tests when no screens are connected
    
    Instead of failing, just skip the tests.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=73642
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit abba92d9cff1ab9a3b492f9742e8cd1b3f669800
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Mar 31 17:01:59 2014 -0300

    tests/pm_pc8: add missing newline
    
    Otherwise the output will get even more confusing.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit d6362ce8a81a40bc30e1e7b34d14c27f7bfcd954
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 3 18:03:21 2014 +0200

    tests/gem_cmd_parse: restrict to gen7
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=76982
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e8869c4bc439de941be399d156323620a2d6ecda
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 3 09:43:58 2014 +0100

    gem_tiled_swapping: Limit to available memory
    
    If there is not enough free RAM+swap for us to execute our test, we will
    hit OOM, so check first.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b8afe98004ed0e082bf5d019a86f27a5909f0e4d
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Wed Apr 2 15:13:21 2014 +0300

    lib/rendercopy: fix alloc len for gen7_bind_buf
    
    Fortunately saved by the alignment.
    
    Reviewed-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit d4933259b84a304145634cc6ec5d9eebeb612711
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Wed Apr 2 11:41:43 2014 +0100

    tests: create files that list the available tests
    
    Add Makefile targets to create two text files containing the list of
    available single and multi-test programs. This enables the tests to be
    enumerated without requiring the build system.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 22bc1a287eb6c0e7b89001424c895dd776f9a28b
Author: tgore <tim.gore@intel.com>
Date:   Mon Mar 31 11:55:40 2014 +0100

    intel-gpu-tools: avoid include of cairo.h on Android builds
    
    A recent commit means igt_debugfs.c now needs to include igt_kms.h,
    which in turn includes igt_fb.h and hence cairo.h.
    We need to avoid this inclusion of cairo.h when building for Android,
    (until we have a cairo port) so I have added a #ifndef around it.
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4fdca96066e36cb4d41019e58c8387e0a5e0f2f5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 28 17:54:58 2014 +0100

    tools/quick_dump: Fix make distcheck
    
    Someone really needs to fix this Makefile ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e599ff443cdcd90399666dc75226d73a943cc89f
Author: tgore <tim.gore@intel.com>
Date:   Fri Mar 28 12:54:59 2014 +0000

    intel-gpu-tools: fix some include path problems on android builds
    
    When building within the android tree (specifically in /external)
    the compilation fails due to the wrong versions of some header files
    getting picked up. This commit adds some include paths to ensure the
    correct headers are found
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a96c6340768772590cf548ed8b81a10877fc7b43
Author: tgore <tim.gore@intel.com>
Date:   Fri Mar 28 12:54:58 2014 +0000

    intel-gpu-tools: fix problem with redefinition of mmap64
    
    In android builds there is no reliable way to determine if mmap64 is defined
    or not, and this sometimes leads to a compile error due to its re-defnition.
    So this commit avoids its use altogether in intel-gpu-tools for Android builds,
    unless the HAVE_MMAP64 macro is defined.
    
    Signed-off-by: Tim Gore <tim.gore@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 798fca377a0e26cffb40e5a97230baaac4b12733
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 27 23:04:02 2014 +0100

    README: update piglit cmd
    
    Pointed out by Jesse.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2031da4073da0dc09ed9debb319e924ae5dc8b2a
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu Mar 27 11:10:18 2014 -0700

    intel_infoframes: remove bogus "being transmitted" check from VLV
    
    This bit is reserved on VLV.

commit c1c96d8342ee2d629d09a2be576d5bf984e9228b
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu Mar 27 11:01:06 2014 -0700

    intel_infoframes: add VLV support
    
    Different reg offsets and such.

commit 47c551bd700b50fded87ccf81384fb2e384e5f6b
Author: Ben Widawsky <benjamin.widawsky@linux.intel.com>
Date:   Thu Mar 27 09:56:59 2014 -0700

    quick_dump: Put the cairo cflags with the other cflags.
    
    I had been hoping we can avoid linking against cairo, but alas it was
    not meant to be.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 9048aa1974aee567617220f9685ad115be0cbae7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 22:57:52 2014 +0100

    tools/quick_dump: re-apply ducttape
    
    Someone with actual automake-fu really needs to fix this up for real
    since compiling a bunch of source files again, with broken dep
    tracking even just because we can't link against a .la somehow really
    isn't too awesome.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 961a46c82b4fe558ea726833aa9d390382742a10
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 22:15:12 2014 +0100

    tests/pm_rps: Add a new testcase to provoke the "stuck at max" bug
    
    Note that the sleep(5); to fully idle the gpu is _really_ important.
    Without it the bug is not exhibited.
    
    The issue at hand is that after gem_quiescent_gpu we are at max
    (expected, since the blocking waits peg to max), but then we never go
    down to a lower freq again until we're fully idle. The tiny load is
    sufficient to keep the gpu at max. I've played around with this a bit
    and even ridiculously low loads (like one MI_STORE per 50ms) are
    enough to keep the gpu at max freq.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 669a2fca6c5ccd256d2d767107963840f7de438e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 21:30:17 2014 +0100

    tests/pm_rps: quiescent harder
    
    Apparently some rps chips are prone to stick to max once you're there.
    And all the synchronous waits in gem_quiescent_gpu are _really_ good
    at forcing the kernel to go full throttle.
    
    And even a positively tiny load (one MI_STORE_IMM per 50 ms) is enough
    to eternally keeep it there, which means the first idle measurement of
    the freqs before we do the reset it completely busted.
    
    Just add a wait before the tricky test and call it a day.
    
    Option b) would have been to now have this tiny load, but I think a
    good reminder how quirky rps is is always welcome. Just in case we
    start sleeping too easy at night.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=74956
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 896b550984cf3ffd0fa67051d5b9cf0239634894
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Mar 24 18:42:39 2014 +0000

    rendercopy/gen8: Remove a hole in struct gen8_blend_state
    
    Using uint64_t in that second member makes it aligned to 64bits, while
    the first member is only 32bits. We then had a 32bits hole in there!
    
    Found-by: Chris Wilson <chris@chris-wilson.co.uk>
    Cc: Ben Widawsky <benjamin.widawsky@intel.com>
    Cc: Rafael Barbalho <rafael.barbalho@intel.com>
    Tested-by: Rafael Barbalho <rafael.barbalho@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 7255a84c9c8f4d46b47d490331100a11179180a1
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Mar 26 11:02:48 2014 -0700

    testdisplay: make termio unbuffered
    
    So hotkeys take effect immediately.

commit 3d9e63f2ad0c676b3efba4c854ef645ae60ee7e1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 16:37:15 2014 +0100

    lib/igt_fb: api documentation
    
    Also realign function parameters and replace abort() with igt_fail()
    while at it.
    
    v2: Forgotten to add a nice intro.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7568edf4b1dd0f8c1b061a2bb53d593ff9d4d33d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 16:36:46 2014 +0100

    lib/igt_fb: setup font in igt_get_cairo_ctx
    
    We always want the same boring one, so extract it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ae461e67e8816aa7cd80791216a839d92e04f0e5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 16:09:27 2014 +0100

    lib/igt_fb: drop kmstest_ prefix from static functions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c6c2b2bb7039e8cc89841bd9782a61b7d734dfe2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 15:15:49 2014 +0100

    lib/igt_kms/bf: doc skeleton
    
    igt_kms docs are just skeleton and also added igt_fb to make sure the
    linking works correctly.
    
    Next up: Actually documenting igt_fb.
    
    Also fix that depency spelling fumble I've copied around to a few too
    many places.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 64401f57e958998d537ff67525d5f1e9a4f76b22
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 10:19:42 2014 +0100

    lib: fold igt_display into igt_kms
    
    For 1 function and 2 types we kinda don't need separate files.
    Especially now that igt_kms is much more focused on the actual modeset
    stuff with all the framebuffer helpers extracted to igt_fb.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9aea7ae541212e4116af8d5d922d7cbcc571df50
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 09:18:11 2014 +0100

    lib/igt_fb: switch to igt_ prefix from kmstest_
    
    Shorter and more in line with our general igt_ prefix for everything
    which isn't somehow intel or i915-gem or otherwise hw specific - these
    helpers here are all fully generic framebuffer handling functions
    based on kms + cairo.
    
    Well, the actual buffer alloc is done with i915 gem, but meh ;-)
    
    Two special cases:
    - bpp_depth_to_drm_format and drm_format_to_bpp completely lacked
      prefixes, so just add igt_.
    - write_fb was a bit misleading given that we have gem_write for
      uploading to buffers. Rename that to write_fb_to_png to make it
      crystal clear what this thing does even without looking at docs.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 57d7db8cf8c407541d1ed57348a6f468c2b73577
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 09:06:11 2014 +0100

    lib: extract igt_fb library
    
    Stuff all the framebuffer creation, cairo and drm fourcc format
    handling in there. This gives us a very clear cut in the headers where
    igt_fb.c only needs to include igt_fb.h, and igt_kms.c includes both
    (well igt_kms.h pulls in igt_fb.h since we always need this).
    
    The aim here is to add api docs for igt_fb since that part of the kms
    library seems fairly stable already, while all the mode setting and
    iteration is still a bit in flux.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0b3019733bce0eb7ec4bce39e4ee470f98639c36
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 16:53:49 2014 +0100

    gitignore: Add logfiles from make check
    
    A bit annoying to see this stuff around in git status, so exclude it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ef107940bb1f1aaa8608d5c7f6840a9990706dec
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 16:53:14 2014 +0100

    lib/igt_kms: make kmstest_get_cairo_surface static
    
    Only used internally in igt_kms.c.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2fc2fa547190f1ba6083ffab67f9ebfb077a544d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 16:52:49 2014 +0100

    lib/igt_kms: s/kmstest_create_fb2/kmstest_create_fb/
    
    Simplify the name since the old _fb function is now gone.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 70182167d6d39e18d03109687918752d04165c32
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 16:36:40 2014 +0100

    lib: remove kmstest_create_fb
    
    Use the new-style function using drm fourcc codes instead everywhere.
    
    To easily use thew fourcc based interface also expose
    bpp_depth_to_drm_format from the library. Finally include drm_fourcc.h
    from the igt_kms.h header since pretty much everyone needs this now.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 288e80f2788153cefda271e3847c82af3f40791c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 16:24:38 2014 +0100

    lib/igt_aux: Lost doc polish hunk.
    
    Oops.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 785a0cd4ba8bf7e89dc91fdc6c2fbe2e78d26f5b
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Mar 25 11:35:23 2014 -0700

    quick_dump: Fix the danvet fallout.
    
    quick_dump built fine, but it could actually run, since a lot of the
    linking happens at run time. There is one hack where we redefine the
    environment stuff, since depending on igt_aux means we have to pull in
    libdrm, which I do not want to do.
    
    Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit db25973c8651052dc2fd024ab67a8cea878aedc4
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Wed Mar 26 17:24:43 2014 +0200

    lib/intel_batchbuffer fix OUT_RELOC doc tag
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>

commit 71c6f87eb3dacffbd489c83acfe95baf613d20cb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 26 15:09:23 2014 +0100

    lib/igt_core: fix igt_skip_on_simulation regression
    
    I've forgotten that we might want to call this from within specific
    subtests (or special helpers like the autoresume one).
    
    Also props for being competent enough to write a testcase, but
    incompetent enough to botch the job up.
    
    Fix both things and remove a leftover debug printf while at it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c8190147526000bc002c611bd3612caf2de22bf8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 25 17:46:32 2014 +0100

    README: document quirks for regenerating gtk-doc
    
    It sucks a bit atm :(
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 05f6a35d40a9374ea560c88c2b12a715eb404261
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 25 14:23:20 2014 +0100

    tests/gem_exec_parse: fixups for the recent massive refactoring
    
    I think we might have some use for a do_ioctl_expected_errno or some
    such thing. But that's for later.
    
    Cc: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6bf7307d8d5e0f1581cc3856528f7f49ef552036
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Wed Jan 29 13:58:30 2014 -0800

    tests/gem_exec_parse: Test a command crossing a page boundary
    
    This is a speculative test in that it's not particularly relevant
    today, but is important if we switch the parser implementation to
    use kmap_atomic instead of vmap.
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 56fee51b3140d33824bafc79c86c5c38346807cc
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Wed Jan 29 13:58:29 2014 -0800

    tests/gem_exec_parse: Test for batches w/o MI_BATCH_BUFFER_END
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f3e03bee3af336c6b7b47e04e9f0a552a9a9289
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Wed Jan 29 13:58:28 2014 -0800

    tests/gem_exec_parse: Add tests for bitmask checks
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1b1321cde7b60d413b425f358e6ecd2bd47b90fb
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Wed Jan 29 13:58:27 2014 -0800

    tests/gem_exec_parse: Add tests for register whitelist
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 59cb7e105e0ba3d4b1c3a378d962ec270eaa3700
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Wed Jan 29 13:58:26 2014 -0800

    tests/gem_exec_parse: Add tests for rejected commands
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e8b4ecd387ec12fb6ef28fd64307688f70ea1d92
Author: Brad Volkin <bradley.d.volkin@intel.com>
Date:   Wed Jan 29 13:58:25 2014 -0800

    tests: Add a test for the command parser
    
    Start with a simple testcase that should pass.
    
    v2: Switch to I915_PARAM_CMD_PARSER_VERSION
    
    Signed-off-by: Brad Volkin <bradley.d.volkin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 49c611b5900fbc1a88b7dd59eb42458c090b25d0
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Mon Mar 17 19:09:23 2014 +0200

    tests/gem_reset_stats: run non hw context tests also on older gens
    
    To gain more coverage on interface, default context and banning.
    As there is no proper reset support for gen <= 3, we only
    do limited interface testing on those.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7a8109458ef92c6460852e3831aa30e53fef6857
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 16:47:50 2014 +0100

    tests/pm_rps: fixup the blt copy load helper changes
    
    All suggested by Jeff McGee.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 816c94723632b4876b3b0b965009ceab5e8bec2b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 15:14:16 2014 +0100

    lib/intel_batchbuffer: document header dependencies
    
    At least with the core library headers the situation is now fairly
    sane. There's still fun stuff going on around *_reg.h and most of the
    source files just have a cargo-culted list of headers ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 187b66da0946bd213cfb8c52178d70739707cad9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 15:03:14 2014 +0100

    lib/drmtest: api documentation
    
    Also rename the arguments of do_ioctl a bit for better clarity.
    
    I haven't figured out a way to reference other section headers, hence
    the links to igt_core and intel_batchbuffer are a bit fragile
    unfortunately. It gets the job done though.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7bb40944e2b2a92f6f52c288f8a88b0fcd14b991
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 14:45:13 2014 +0100

    lib: Use @include tag for include files
    
    Occasionally useful to read documentation ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8221fda087e5c445ddda2bf38c09c49c4d27a7fe
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 14:38:17 2014 +0100

    lib: s/igt_env_set/igt_check_boolean_env_var
    
    So I wasn't really happy with env_set since it's way too close to
    setenv(), whic actually _sets_ and environment variable. So use check
    instead of set as the verb (well adjective for env_set).
    
    Also sprinkle in some hints that we talk about a boolean setting here.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 47575c7710b2cc14f4b96de71540375e0c1d43b4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 14:18:23 2014 +0100

    lib/igt_aux: api documentation
    
    I'm not really happy with the name of the igt_env_set function, I'll
    follow up with a patch to change it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f5daeec724aea1613334f14d58b101a5c8e430b4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 23 13:35:09 2014 +0100

    lib: extract igt_aux.[hc]
    
    And shovel all the various helpers in there.
    
    Also move igt_set_vt_graphics_mode to igt_kms.h since the function is
    implemented in igt_kms.c. And it fits better. I kinda missed this in
    the prep work.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 018f8c3c457d1609b18867a48a512e3639979dc9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 22:42:35 2014 +0100

    lib: s/drmtest_dumb_aub/igt_aub_dump_enabled/
    
    This is prep work to extract a new igt aux library with all kinds
    of random stuff. Also give it a bit a more suitable name to
    indicate that this is just a flag and doesn't do the aub dumping
    itself.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 95e89f0ede9ed84b5cd0c39b7f68bc08fb120c3b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 22:41:28 2014 +0100

    lib/intel_io: api documentation
    
    As usual de-inline functions for gtkdoc to see them.
    
    I've decided to exclude the register map stuff since that's not
    terribly interesting.
    
    Aside: gtkdoc falls over when the title of a section contains a slash,
    hence why it reads "IO" instead of "I/O". The fun ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2d4656fb699dd9bc5329b69b2955a6e4c3753971
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 22:23:04 2014 +0100

    lib/intel_io: rename mmio setup functions
    
    Makes their intent a bit clearer.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c03c6ceb293fd667a6b582377c182dfc3b6d0f32
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 21:34:29 2014 +0100

    lib: rename intel_gpu_tools.h to intel_io.h
    
    With the header cleanup we can now give this header a suitable name,
    since it now really only contains register access and other I/O
    functions and assorted definitions.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 254f19ba8dc4b00d0d5df0a4f8d0a0cb104b2df5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 21:29:01 2014 +0100

    lib: unnecessary header removal for drmtest.h, part 2
    
    I've left unistd.h in it - it's not strictly required but most users
    of drmtest.h want it for the open helpers, and then you kinda need to
    close that file descriptor again ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e49ceb869056255b8b6b94720b2279f6de88c893
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 21:07:37 2014 +0100

    lib: unnecessary header removal for drmtest.h, part 1
    
    Brought a few missing headers to light in ioctl_wrappers.h, too.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 924115bfcd5beae84f2e2d6b266c619659185475
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 20:18:51 2014 +0100

    lib: more unecessary header removal
    
    This time big with media_fill.h
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6cfcd715898198cbd8edd955ed24cf57f6e8d9ee
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 20:07:35 2014 +0100

    lib: remove uncessary #includes from headers
    
    Only include what the header itself needs. The big fish here is
    intel-gpu-tools.h. More will follow.
    
    One ugly thing removed here is the duplicated GEN6_TD_CTL #define, one
    of which was broken.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cd6d5a61b334aac183c85a3d2289f96a0364e911
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 19:35:40 2014 +0100

    lib: add #include "foo.h" lines like in manpages
    
    Should help in alleviating the header mess we have atm.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0e22f14ed642af94db5f0dd7461920274be3361a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 19:27:04 2014 +0100

    tests|lib: remove assert.h includes
    
    Only the igt core and non-test tools should have asserts to catch
    internal errors, tests and helper libraries should all user igt_asert
    instead.
    
    Fix things up where assert instead of igt_assert was used.
    
    One tiny step towards header sanity.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bff22f7317a39605d53cf142e2c0f5c424d9c12c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 19:21:26 2014 +0100

    lib: Move non-register things out of intel-gpu-tools.h
    
    Right now almost everything in there concerns itself with register
    access. Move everything else out (into drmtest.h for lack of better
    place) to prepare for api documentation.
    
    Also rename intel_drm.c to intel_os.c since it contains OS, not
    drm abstractions.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7754c4dd769e61ea57bf3e4ab635099b47aa6223
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 18:16:30 2014 +0100

    lib/intel_batchbuffer: api documentation for render copy/media fill
    
    Also fix a fumble in the documentation for intel_blt_copy. One thing
    we might want to do is unify the parameter ordering here a bit ...
    
    Again gtkdoc fails to pick up the documentation for struct igt_buf :(
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 43b7aa44fdc8dee372f6d0766e953da0a36de25a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 18:04:52 2014 +0100

    lib/intel_batchbuffer: drop cpu_mapping from igt_buf
    
    It's unused. There's still num_tiles getting in the way of things,
    but that is used by gem_stress a bit.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 53a4d9e982420e8a921ecf7b9542adbd3586317c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 15:49:02 2014 +0100

    lib/intel_batchbuffer: igt_ prefix for rendercopy/mediafill funcs
    
    Now everything is prepared to pour some neat api docs over this all.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 83a4c7d3eb6347f9b743144611b08a2869f11f94
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 15:44:48 2014 +0100

    lib/intel_batchbuffer: igt_ namespace for the buffer structure
    
    Step one to properly namespace the rendercpy/mediafill functions. Als
    give the buf_height/width helpers a proper igt_ prefix.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 82c6dffe9fdc75a7ef3b9a7e53e1c20d8a9b3703
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 15:41:42 2014 +0100

    lib/intel_batchbuffer: un-inline buf_height/width
    
    gtkdoc won't pick them up otherwise.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aaebbc513a2f1fd94e9db5fc2841c2bd617e3472
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 15:35:16 2014 +0100

    lib: make media_fill.h an internal header
    
    Same deal as with rendercopy.h.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7dc0001f3db58af82f7e34c83a9fdb5fe90baccd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 15:31:15 2014 +0100

    lib: make rendercopy.h an internal header
    
    And move the public interfaces into intel_batchbuffer.[hc].
    
    A bit messy since we are fairly inconsistent with our header #include
    handling.
    
    Also exclude rendercopy.h from the documentation.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a8e8654f81380c19f7c90479f98b9d9314f638b3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 15:12:57 2014 +0100

    lib/intel_chipset: api docs
    
    Unfortunately gtkdoc doesn't pick up the intel_pch enum.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 266b26b3eda733dcc2c0a7cc6061b024a0dede70
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 14:59:58 2014 +0100

    lib/intel_chipset: intel_ prefix for pch global
    
    Just a bit better namespacing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aed95c390ae834a1661fb1e4ec433177b1c01fcc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 14:54:28 2014 +0100

    lib: consolidate chipset helpers in intel_chipset.[hc]
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 94e1b6af99b3548014686a0943bb286e3c81a889
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 14:45:50 2014 +0100

    lib: rename intel_pci.c to intel_chipset.c
    
    This is to consolidate all the chipset related functions to
    intel_chipset.[hc].
    
    Unfortunately we need to rename a wrapper lib file in quick_dump, too.
    And quick_dump makes automake a bit unhappy apparently.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 52edf3a17714e1ba2a9060401ec0f63614bc632b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 14:45:54 2014 +0100

    tests/kms_cursor_crc: Fix up breakage
    
    I've accidentally broken the new cursor size extensions, but it
    wasn't quite correct before already: Variables which are set in
    igt_fixtures _must_ be outside of the stackframe of the igt_fixture
    block.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a388f3b98f039403a4583748db980d4a44dd6748
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 22 13:22:11 2014 +0100

    lib: allow igt_skip_on_simulation outside of fixtures.
    
    Thomas noticed that in simulation mode a lot of the tests fall over
    instead of skipping properly. This is due to recently added
    self-checks which ensure that any call to igt_skip happens either
    within a fixture or subtest block (or it's a simple test without
    subtests). This is to catch bugs since pretty much always not wrapping
    up hardware setup and checks into these blocks is a bug.
    
    Bug simulation skipping is a bit different, so allow that exception.
    Otherwise we'd need to fix up piles of tests (and likely need to play
    a game of whack-a-mole).
    
    Also add a library testcase for all the different variants to make
    sure it really works.
    
    Cc: Thomas Wood <thomas.wood@intel.com>
    Cc: Ben Widawsky <benjamin.widawsky@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c196c14319b8aae6369a9ce0ba349416847105a7
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Mar 21 14:36:54 2014 +0000

    build: Define enable_gtk_doc when the m4 macro is missing
    
    For setups where we don't have gtk-doc installed, ie when the
    GTK_DOC_CHECK macro doesn't expand, we still need to populate the
    enable_gtk_doc variable to provide a value to the configure summary.
    
    Acked-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 20dbc5d4cfb51152278a2ad4627d1db102bf9225
Author: Adrian Negreanu <adrian.m.negreanu@intel.com>
Date:   Fri Mar 21 09:06:15 2014 +0200

    fix out-of-tree builds
    
    version.h is -include-ed assuming that builddir is the same
    as srcdir;
    
    In file included from <command-line>:0:0:
    ./../../tests/../lib/check-ndebug.h:3:1: fatal error:
    ../../tests/../version.h: No such file or directory
     #endif
      ^
    
    v2: Use top_builddir as suggested by Damien - builddir gets expanded
    to ./ which worked accidentally since automake includes top_builddir
    by default.
    
    Signed-off-by: Adrian Negreanu <adrian.m.negreanu@intel.com> (v1)
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 701a755bde7a6f4b3973ac76f4f00c8702db4c7d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 20 17:31:16 2014 +0100

    tests/kms_cursor_crc: Review from Imre for Sagar's patch
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ba3a1a86b76d0648a341de4e86c84d2e2a515c51
Author: Sagar Kamble <sagar.a.kamble@intel.com>
Date:   Tue Mar 18 15:59:43 2014 +0530

    kms_cursor_crc: Enabling this test for all cursor sizes
    
    v1: Added 128x128 and 256x256 cursor size support.
    
    v2: Refined the test to use igt_subtest_f and automate enumeration.
    
    v3: Restructuring test enumeration using drmGetCap. [Daniel's review comments]
    
    Signed-off-by: Sagar Kamble <sagar.a.kamble@intel.com>
    Reviewed-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cde058ae355f47a2bf04a792bfb3647e95157397
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Mar 18 11:18:56 2014 -0300

    tests/gem_gtt_hog: Fix for BDW
    
    Update XY_COLOR_BLT command for Broadwell.
    
    v2: stash devid and remove ugly double allocation. (by Chris).
    v3: fix inverted blt command size and stash fd, devid and intel_gen.
    v4: improved len calculation and noop between blt commands. (by Chris).
    
    Fixes: https://bugs.freedesktop.org/show_bug.cgi?id=73724
    
    Cc: Chris Wilson chris@chris-wilson.co.uk>
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit d8164356e7bd4a90b2292e3687ec5fa5ec7fd021
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Mar 18 11:18:55 2014 -0300

    tests/gem_gtt_hog: Use XY_COLOR_BLT instead of COLOR_BLT.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 2f96726c960dd2e4700214d30ccb86d33b354d2d
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Mar 18 11:18:54 2014 -0300

    tests/gem_wait_render_timeout: Fix for BDW
    
    Update XY_COLOR_BLT command for Broadwell.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 3e6d9d912aabacc3c07b6d97dde862d8f51fbf6e
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Mar 18 11:18:53 2014 -0300

    tests/gem_wait_render_timeout: Use XY_COLOR_BLT instead of COLOR_BLT.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit e8562b30819e6554b4cdd5763a35069fba77c2a9
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Mar 19 11:40:58 2014 -0700

    gem_wait_render_timeout: use igt_assert_cmpint
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5a5880426eb275bb600551460eb23ad44e8c2fbf
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Mar 19 10:14:15 2014 -0700

    Revert "gen8 rendercpy: temporarily disable"
    
    This reverts commit e41928e6c9bb3f24833a827903f1afeda83592d6.

commit d92c2cf1deafe1cb2404844b52c17817e0e1ba56
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Mar 19 09:22:53 2014 -0700

    intel_gtt: Dump the whole GTT
    
    The tool formerly only dumped the aperture size, which is fine, but not
    everything interesting. Most of the patch is just the variable rename.
    The real work happens with using the BAR0 size divided by 2 instead of
    the BAR2 size.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 00bd3eba11de4ce4a7dacc62f131b401f7dfbabc
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Mar 19 09:17:36 2014 -0700

    quick_dump: gen8 private PAT
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 10571b8ccb5f7bda61e3072705e5d0670f54afb3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 19:34:37 2014 +0100

    lib/igt_core: Document library design best practices
    
    This is what I've been doing in the past few months when refactoring
    i-g-t code. More ideas and also patterns to add highly welcome.
    
    v2: Some minor polish on the text and add another bullet to reference
    the kernel's coding style.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3ea97f2e51e8bf39ecabae132cdc6b431c72f672
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 18:56:14 2014 +0100

    lib/igt_core: Small api doc fix
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f2e5dc0114f0045e28d7a562cec9daf23e978841
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 15:09:22 2014 +0100

    lib/igt_debugfs: s/igt_pipe_crc_check/igt_require_pipe_crc/
    
    Functions which provide feature checks through igt_skip should be of
    the form <prefix>_require_<feature>.
    
    Otoh feature checks which return in a boolean whether the feature is
    available should be of the form <prefix>_has_<feature>, e.g.
    gem_has_blt.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit dcf947aa4f2de2f3aa4766e0e3d31d2a992d3d84
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 14:52:32 2014 +0100

    lib/igt_debugfs: Remove igt_debugfs_init
    
    And also move the igt_debugfs_t type out of the headers.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cc8f0e6e3ab72beb6b296dd866fd27842dec283f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 14:49:35 2014 +0100

    lib/igt_debugfs: Remove debugfs from pipe crc functions
    
    All tests have now lost explicit references to igt_debugfs_t!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9a7609a8e48ac69bfd786087abd18c8a858d6ad3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 14:46:39 2014 +0100

    lib/igt_debugfs: Remove debugfs from igt_debugfs_fopen
    
    Also add a missing igt_assert to kms_fbc_crc and again add the missing
    Returns: section to the api doc.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f04f17bcd404d7be720148fee6bb425cdb41dab1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 14:41:25 2014 +0100

    lib/igt_debugfs: Remove debugfs from igt_debugfs_open
    
    Also update the api docs a bit since the Returns: section was missing.
    
    v2: Readd the accidentally lost line for @filename.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 28b6e41142c035b46d2784de399c5dadfa5ce429
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 16 14:40:32 2014 +0100

    lib/igt_debugfs: implement a singleton igt_debugfs_t instance
    
    Allows us to remove every so little bit of boilerplate from
    tests, once it's all rolled out.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8fe0c50871b0af87c5f41a6b6d3b31b9bffe9f25
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Thu Mar 13 16:38:02 2014 -0400

    intel_audio_dump: fix CTS/M value index
    
    This patch fixes the reversed CTS/M value index when dumping the
    'audio M/CTS programing enable' register.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 374290e4300768190fee5ad742f1f1beb036de4e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 16:08:10 2014 +0100

    tests: update .gitignoe
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b0b4f8db717500f2618c8077dc58c217eb46af06
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 16:07:28 2014 +0100

    tests/drv_suspend: new forcewake subtest
    
    I suspect that currently we have an issue in there with the runtime PM
    refcounting, but silly me developed this on a machine with runtime PM
    support ...
    
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2839619f497dae8353d0592dcccf183374a18f73
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 16:06:51 2014 +0100

    lib/igt_core: add printf attribute to igt_vlog
    
    I didn't know that this also works for the varargs versions of
    format strings. But gcc was kind enough to let me know.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ea18fc16cd88a31b5d390721ad103efa07e288f1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 16:00:22 2014 +0100

    lib: extract igt_open_forcewake_handle
    
    ... and I immediately regret that I've killed the return value
    for igt_debugfs_init, since we have callers which need to work
    without the forcewake stuff, e.g. the reg dumper needs to work
    without i915 loaded.
    
    Put this new helper to good use in the mmio code and the pm_pc8
    testcase.
    
    Cc: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 553d594b6efd117497791e708146588268c992a9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 11:01:09 2014 +0100

    tests/pm_rps: wait longer for idling
    
    Big cores seem to take forever to idle, at least my ivb here. Fairly
    ridiculous, so maybe there's more room for our debooster to kick in.
    
    Anyway, this gets the min-max-config-idle and reset subtests going
    somewhat reliably on my ivb. They still occasionally fail with the
    current frequency pegged to max (or close to it) for no apparent
    reason at all. Rebooting tends to fix it.
    
    Don't ask, don't tell.
    
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7dd98497a1a9c2dc31f667ad23da86d4b2d7ad9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 10:33:53 2014 +0100

    tests/pm_rps: use igt_assert_cmpint
    
    Much better debug output almost for free.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5cf8d8d6dbfec71746173fae2a64d40f39e144cf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 21:25:01 2014 +0100

    lib/igt_core: document the caveats of magic code blocks
    
    v2: Polish the wording a bit.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5632bc81d944ae5070c403688b995ff583bb1ac7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 10:26:39 2014 +0100

    tests/pm_rps: load harder
    
    Big core platforms need some seriuos omph to break a sweat.
    
    This fixes min-max-config-loaded here on my ivb.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75146
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d4f89d0ff25f3b382e1eabe4f0def5a1c09082ea
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 10:12:55 2014 +0100

    tests/pm_rps: simplify load helper setup
    
    There's no need to be fancy here.
    
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5188bbe23ea6e7a2bf4d5572b64f410399aba9f7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 14 10:06:02 2014 +0100

    tests/pm_rps: ducttape for igt fork helper cleanup issues
    
    We don't call cleanup handlers when exiting a subtest currently, only
    when exiting the entire binary. Which means pm_rps falls over when it
    fails more than one subtest.
    
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f962dee636f2992152617be4dc9e62c5055473ec
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 17:59:47 2014 +0100

    test/kms_pipe_crc_basic: Fix up igt_kms conversion breakage
    
    Apparently the framework doesn't ignore disabled pipes correctly, so
    help it out a bit.
    
    Again an awesome track record for our QA and bug scrubbers :(
    
    Oh and while I rant: Docs for this stuff, please ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd53d722dde87d67742b4ff4ee192bd8c6058328
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 17:27:47 2014 +0100

    lib: add igt_vlog to print varargs
    
    ... and put it to immediate use in igt_display_log.
    
    To make this all add up also drop the return value of igt_display_log,
    no one really cared anyway.
    
    Aside: I've noticed that every time another subtest runs (at least
    with kms_pipe_crc_basic) the log indent level moves one up ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1e9e1baba389fe498be12390ceeeacb1d141a5cf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 17:20:05 2014 +0100

    lib/igt_kms: rip out custom verbose loggin support
    
    Instead just piggy-pack on top of igt_log.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 523d909834bd142373ff5b25a00881f93f3160cf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 18:09:41 2014 +0100

    NEWS: post-release blurb and mention api doc work
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eaccd444f774ff88f9cfc24fb0a5e5b20f71d749
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 03:35:02 2014 +0100

    lib: switch intel_copy_bo to directly take a size
    
    Instead of a width/height combination. Since I've been lazy with the
    math this now only accepts page-aligned copy operations, but that's
    all we need really.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 32d41cc7a7fc357758a60f019341805ae1ee418d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 02:38:04 2014 +0100

    tests/prime_nv_tests: fix copied buffer size
    
    Doesn't affect the test since we only check the first few bytes. But I
    want to switch the copy code to always copy entire pages around, so
    use the right buffer size.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ec5f9e87882257fdde39166f0f4b931ecb5b6009
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 01:13:28 2014 +0100

    lib: api docs for intel_batchbuffer
    
    - I didn't bother to document the BLIT batch header macros - I'm not
      too happy with them and they're fairly obscure.
    - intel_copy_bo could use some interface love, added a FIXME comment
      for now.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 49e3877ae7280efb62dc23ea748afbeb96934ace
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 13 01:38:42 2014 +0100

    lib/intel_batchbuffer: Remove BATCH_LOCALS
    
    Totally unused, we have frisky implicit assumptions that the
    batch is called batch instead.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 675c91974e2e3cc781a4dd630c20c3f992eae8b8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 21:30:46 2014 +0100

    lib: remove hw context #defines
    
    The libdrm we require nowadays has them already.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3f284f796721f750cb8af4bac7839b5a6e1edb66
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 21:26:55 2014 +0100

    docs: Exclude debug.xml
    
    It is all just stuff used internally by the EU debugger only. Not
    really generally useful, expect if someone wants to write
    documentation for the debugger.
    
    Which needs a lot more than just this.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a095072b64a37a7df6a011608fb932796991a891
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu Mar 13 07:52:47 2014 -0300

    bump version to 1.6 and add the release date
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 981276819fdf6de312ecafcef27822741265f237
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 18:53:51 2014 +0100

    lib/igt_debugfs: api docs
    
    Again issues with an enum, this time intel_pipe_crc_source. The
    typedefs seem to work better here though.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36a83a6c5ccfff7336d257aba499c4e72674615a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 19:24:00 2014 +0100

    lib/igt_debugfs: drop drm_fd argument from igt_pipe_crc_new
    
    It's nowhere used and removing it gives us a cleaner, more
    orthogonal interface.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 803d07b2fff95794d8a840728d417e8e1d31264c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 19:00:48 2014 +0100

    lib: make igt_debugfs_open infallible
    
    (Almost) no one cared anyway.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 096bb851f6bbcd018b3e7dc42930952971c4ea72
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 18:53:44 2014 +0100

    lib/ioctl_wrappers: api doc fixup
    
    Oops.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit adb28fd71d21175f047d7ed4cc3e4683a146b57b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 16:53:47 2014 +0100

    lib: move prefault helpers to igt_debugfs.c
    
    This way all debugfs library code is in one place, ready for some api
    documentation care.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 55e64989e5f0359796d6e71d6753e432861b04a4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 02:34:40 2014 +0100

    lib/igt_core: api documentation
    
    At most a bit of comment of function declaration movement for more
    polish. One tricky bit is to #ifdef out (only for gtkdoc of course)
    the struct option; forward declaration - gtkdoc needlessly lists it.
    
    FIXME: The struct documentation for igt_helper_process somehow doesn't
    get picked up ... Same issue seems to be with the igt_log_level enum,
    I've shoveled the relevant documentation into igt_log in free-form for
    now.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d63fe1519d34f0d0311ef8e3472c8b83c3dcfde3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 12 01:29:52 2014 +0100

    lib: extract igt_core.c
    
    Same game as with ioctl_wrappers.c.
    
    To split was rather clean except for the static function
    oom_adjust_for_doom. But that was a bug, the calls to it in the
    various open helpers should simply be done at init and fork time.
    Which was already the case, except for simple testcase.  So fix it up.
    
    While at it also start with a small section header for the
    documentation.
    
    v2: Don't forget to update the xml template ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 556c49f20bf93c32b55f494ec896703293e358cd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 23:27:06 2014 +0100

    lib/ioctl_wrappers: api doc
    
    Also some tiny polish to function interface:
    - @caching in gem_set_tiling should be uint32_t to match the ioctl
      struct.
    - s/size/length/ for gem_write/read.
    - move gem_get_num_rings to the other ring feature helpers.
    
    v2: Also demote gem_require_ring from static inline and move it, too.
    
    v3: Also move gem_handle_to_libdrm_bo.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 766c5bc6ae24fe2ec03ada80905ccfb1b18afc26
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 22:58:07 2014 +0100

    lib: extract ioctl_wrappers.c
    
    I want to group the ioctl wrappers and related functions into their
    own documentation section.
    
    Apparently gtkdoc refuses to obey this wish without a corespdonding
    header. So appease it. Also gtkdoc seems to struggle with rebuilding a
    bit ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6c659264a6f6d54d966d9fc2a1651ad0405a8501
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Tue Mar 11 16:18:48 2014 +0000

    tests: add missing assertion
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 682f69385a07b81ee0b2524b9556c0b768454147
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Tue Mar 11 16:18:50 2014 +0000

    lib: Add missing header to Makefile.sources
    
    i915_pciids.h was missing from Makefile.sources, which caused distcheck to
    fail.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a90846adf52127afe6dd3537c047b93c31cb313f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 21:03:39 2014 +0100

    gtk-doc: Document the docs
    
    - configure output to easily see whether docs are built or not
    - small blurb in README
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2d4438605efd57a7ed336df42326693065ee5d02
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Tue Mar 11 16:04:29 2014 +0000

    drmtest: reformat the API documentation
    
    Make the existing documentation compatible with gtk-doc.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 14ea2a04ebfa287e33b69a3bc7e47f02ba93c9ed
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Tue Mar 11 16:04:28 2014 +0000

    Add API documentation support
    
    Add optional support for building API documentation using gtk-doc.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c769d0988b7fae0e758046ba165c9c52c4f2816a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 15:45:22 2014 +0100

    tests/drv_missed_irq_hand: Make it robuster
    
    Just launching empty batches isn't enough load on my speedy g33
    to force the kernel to enable interrupts an wait for them.
    
    So use some real load. With that the test is now fully reliably on
    my g33 amchine.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c3f2b6a339e002c2ea3c0462ebce2a374b54e093
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 15:44:28 2014 +0100

    tests/gem_exec_blt: More reasonable runtime
    
    Doing (1 << 18) - 1 repeats isn't really. With the reduced time the
    test is also useful in some shell scripted tests which need some real
    load (but not too much), like drv_missed_irq_hang.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e2ee8b408057e5139182f47e980f3af20272fa28
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 11 15:32:30 2014 +0100

    tests/drv_missed_irq_hang: Remove debug output
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 20087e779d58fe0fdde156e329eb5d75e1e6336f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 7 09:27:00 2014 +0100

    NEWS: intel_audio_dump has now bdw support

commit 02a32701192cb4832d95e121d5ee014d98dd1234
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 7 09:23:58 2014 +0100

    configure: Bump libdrm requirements

commit 856afd588ef31d02c0dd8fd827a0af2725edc464
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Mar 5 11:09:46 2014 +0000

    igt/gem_pwrite_pread: Fix relocation offsets for gen8+
    
    Oops, I didn't check to see if there was more than one call site where
    we built and execbuffer.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75237
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 449509dddba1e4d3853093a872632b9504b8eaa7
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Mar 3 17:03:02 2014 -0500

    intel_audio_dump: add support for Valleyview
    
    This patch adds support for dumping audio registers of Valleyview,
    by reusing Ironlake code with a different base address and pipe number.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit fa8c75028e6c6ae523f915fdc212adb30fea1ec3
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Tue Mar 4 10:13:09 2014 -0500

    intel_audio_dump: adjust code alignment
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit 86d15e080d9977dcd3b0448cefb72259597b80d9
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Mar 3 13:52:06 2014 -0500

    intel_audio_dump: share common audio dump code for Ironlake, Haswell & Broadwell
    
    Most audio config registers of Ironlake, Haswell and Broadwell are almost same
    although the register names or some bit fields have little difference.
    And HSW and BDW already share their code.
    
    This patch further shares code for ILK and HSW/BDW:
    - ILK and HSW/BDW define their own base address to dump audio & display registers.
    - Small functions to dump a specific register are defined and shared.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit bae8a005d21288e61a547bba94b0a32a99c36b60
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Mar 3 13:23:50 2014 -0500

    intel_audio_dump: define get_num_pipes() to get number of pipes for a device ID
    
    It's for future code sharing because some registers define their bit fields
    according to the number of pipes.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit 1803f1ebfad1e14b5d0eb8560d99efd3ddb6ef67
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Fri Feb 28 16:18:11 2014 -0500

    intel_audio_dump: define IS_HASWELL_PLUS to cover Haswell and its successors
    
    A macro IS_HASWELL_PLUS(devid) is defined to cover Haswell and its successors,
    for code sharing. Now it covers HSW and BDW.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit ed386663fe4894f9cfd2a3df4233292e0e3b39ac
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Fri Feb 28 13:25:27 2014 -0500

    intel_audio_dump: move definitions of transcoder/pipe/port/converter earlier
    
    Move these enum definitions earlier for future code sharing.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit 92d319702553d31e70bcb1a098e896418f041a41
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Mar 3 11:04:39 2014 -0500

    intel_audio_dump: support using base address plus an offset to dump registers
    
    Layout of display and audio registers can be same for different Intel GPUs.
    For code sharing, this patches defines functions to
    - set the base address of display and audio registers
    - dump registers using the base address and an offset
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>

commit cdf74b69c908b869e7e2daca04f49c5e5d02c097
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Mar 5 21:02:41 2014 +0200

    kms_setmode: Add clone-single-crtc subtest
    
    The clone-single-crtc will test various cloning scenarios.
    
    Currently it does limit the number of simultanously cloned
    connectors to the number of pipes in the system. That restriction
    can be lifted in the future if desired.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit a3b80912a993b4b6952917afea41906f88dda01e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Mar 5 11:09:46 2014 +0000

    igt/gem_pwrite_pread: Fix relocation offsets for gen8+
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75237
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 072d358bf03d0c39dc83bce0b93801d030d2324f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 28 21:44:22 2014 +0000

    igt/gem_pwrite_pread: Fix XY_SRC_COPY command length for gen8+
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75237
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit fa6b1516c5a5be1fcff8ee476a5e280e2e3cb16d
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 26 16:51:12 2014 -0300

    tests/pm_pc8: be more verbose on test_i2c failures
    
    Whenever I see that error, I go and print the numbers so I can check
    which one is failing.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit d406249bedb61120ea3f8c780ea995b8c70d3d8c
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 26 15:42:07 2014 -0300

    tests/pm_pc8: use intel_gen instead of a big IS_GEN check
    
    Much better!
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 0a57d0b8d30b73f7d515a2099355f7883681d699
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 26 15:13:00 2014 -0300

    tests/pm_pc8: BDW should also support PC8 residencies
    
    And I'm hoping the MSR register addresses will be the same.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit d3582aeade9d90cb4adc8ff7c4339198494aaae7
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 26 14:48:50 2014 -0300

    tests/pm_pc8: use XY_COLOR_BLT instead of just COLOR_BLT
    
    And add BDW support to it.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 6a6b8a213813de80a86d281ee9111aaca8ed5b36
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 26 11:12:28 2014 -0300

    tests/pm_pc8: add "stay" mode
    
    I used to have a binary that would just disable all the screens - so
    we can enter PC8/runtime PM - and then sleep forever. I used this
    binary many times while debugging PC8 and runtime PM, and I also sent
    the binary to many people so they would be able to test these things
    without X running.
    
    Since pm_pc8 already implements everything that the separate binary
    needs, and it even has some additional code to try to configure the
    environment to actually reach PC8, it's easier to just ask people to
    run "sudo ./pm_pc8 --stay" instead of sending them a file, asking them
    to compile it, setup the environment, and then run it.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 8c475e0ba69c585bc11062edd1f7fc4bbded811c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Feb 26 12:01:47 2014 +0000

    evictions: Limit the number of minor eviction surfaces to fit in RAM
    
    We allocate more surfaces than used in a single pass in order to stress
    the eviction code between batches. The intent here is not to exercise
    swapping, and we fail to check that there is enough swap+memory to hold
    all our surfaces. So limit the number of surfaces we allocate to fit
    into RAM, and then require that the number of surfaces we need for
    testing is less than the number of surfaces we can allocate.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ea332b64b6e9f6935da4b43f05fefcdcea32cc64
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Feb 26 11:56:16 2014 +0000

    lib: Test against available swap
    
    Even if we ignore the double-accounting bug in Linux, we need to be sure
    that the remaining swapspace is adequate for running our test as the
    system may be under load before we even start.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 37773d91d9b56f9f06c86e405e8dc9343f2c71c1
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Feb 25 17:46:27 2014 -0300

    tests/pm_pc8: add pci-d3-state subtest
    
    Currently the test suite just looks at the files provided by the
    runtime power management framework to check if the device is runtime
    suspended. Add a test that reads the PCI config space to check if the
    device is actually in PCI D3 state or not.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 31b20f7478a27e159482ac23f3d128e90ca98d23
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Feb 25 16:40:51 2014 -0300

    tests/pm_pc8: add reg-read-ioctl subtest
    
    After I finally fixed the code that WARNs if we're runtime suspended
    when reading registers I started getting the WARNs, so this test
    should reproduce them on a Kernel with the problem.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 81ade89d6444ed4159c8cafb0512254f02ec34e0
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Feb 24 08:52:28 2014 +0000

    gem_render_tiled_blits: Trim usage to fit within RAM
    
    This is a render correctness test, the intention is not to exercise the
    swapper (but preferrably some eviction code).
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75247
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4550a18a571611197d3958ab3c1071ef69ec3838
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Feb 24 08:52:28 2014 +0000

    gem_render_linear_blits: Trim usage to fit within RAM
    
    This is a render correctness test, the intention is not to exercise the
    swapper (but preferrably some eviction code).
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=75247
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8ebc02a54c22b7a83a34c923153861848183cd96
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Feb 21 13:15:35 2014 -0800

    quick_dump: Add missed broadwell autodetect
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 42aa254c65fa47fbea38a268814f815166adc056
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Feb 21 17:19:57 2014 +0200

    kms_flip: Add dpms-vs-vblank-race and modeset-vs-vblank-race subtests
    
    dpms-vs-vblank-race and modeset-vs-vblank-race try to race wait for
    vblank ioctls from one thread against modeset/dpms ioctls from another.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit a0c936cfc128dfea6c58c4eef1e56cc29df21406
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 21 15:14:08 2014 +0000

    kms_flip: Skip tests that try to inject GPU hangs if already terminally wedged
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 0cc6a219f1de667ddc0c9a4011dc1c36a584be7b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 21 15:08:22 2014 +0000

    kms_flip: Assert that hang_gpu() should only fail is the GPU is already hung
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit bf74a0ca3fa3b2656c5656c2365d11b6b406dbe6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 21 14:42:27 2014 +0000

    tests: Compile all threaded tests with -pthread when appropriate
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5f190f2d674222b27eff9f80d14761fde2e8fe7a
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Feb 21 16:08:28 2014 +0200

    kms_flip: Fail the subtest if page flip hang recovery wasn't actually tested
    
    Context banning can prevent the page flip hang tests from actaully
    testing anything, so make the relevant subtests fail in that case.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 48ba2cdf969698a2520193ec0c9cff99f89fe1f6
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Feb 21 15:14:33 2014 +0200

    kms_flip: Restore rings to running state in unhang_gpu()
    
    If things go bad, make sure the rings aren't left in the stopped state.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 30c21ffe7f149c15ae7efdb825bbb6671a7f2e9b
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Feb 20 17:47:53 2014 -0300

    tests/pm_pc8: try to modprobe msr
    
    Just in case it's compile with M instead of Y. If the module is not
    there, the other assertions will catch the problem.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 41267dca3cd62a49b7a7434e12b4f1164d95454b
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Feb 20 17:45:53 2014 -0300

    tests/pm_pc8: try to modprobe i2c-dev
    
    Just in case the module is compiled with M instead of Y. If the module
    is not there, the other assertions will catch the problem.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 4eb37bf4c130fe1264c7f63e30faff3a76cd093d
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Feb 18 14:27:19 2014 -0300

    tests/pm_pc8: add gem-idle subtest
    
    It's triggering WARNs and DRM_ERRORs on current drm-intel-nighly.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 6f288749f4f8c454f65e7de38c9bcff7a9a29411
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Feb 17 16:29:36 2014 -0300

    tests/pm_pc8: remove sleep() call when setting up the environment
    
    This sleep was added because sometimes we didn't reach PC8+
    residencies, but it was still not enough to prevent the problem every
    time, and it is really not needed most of the times. I have
    investigated more and it seems that we only have to wait until after
    some minutes have past since the machine booted. So just remove the
    sleep for now since when you run each subtest in a separate process,
    you end up having to sleep at every subtest.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit c9524235dd5eb3cf2d9fcd7d264c78cc2d1f3802
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Feb 21 10:05:54 2014 -0300

    tests/gen7_forcewake_mt: use -lpthread
    
    Otherwise it fails to compile on my machine.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 3db29744f74017a99d1b430b30623dce405ebb1a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 21 09:38:43 2014 +0000

    kms_flip: Try to make hang_gpu() robust against hanging the GPU
    
    On a bad day, hanging the GPU may be terminal. Yet even if the GPU is
    terminally wedged we expect modesetting (and pageflips) to continue.
    That deserves to be a dedicated test, but in the meantime we should
    strive to avoid falling over just because the code is not resilient.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 005d1dcc9882ab4e8a8b91b5c71da5a36b1491e6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 20 13:41:41 2014 +0000

    Add i915_pciids.h
    
    This is a pure copy from the central location at
    kernel/include/drm/i915_pciids.h

commit ff87c4183b31c790e50f174237167716830832e6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 20 13:27:05 2014 +0000

    tests: Add gen7_forcewake_mt
    
    This is supposed to be snafu...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 06189c60295e806e5073ff3473f038b1bedde212
Author: Joao Santos <joao.santos@intel.com>
Date:   Wed Feb 19 14:19:19 2014 +0000

    build: Skip kms_plane on Android
    
    Skipping this test until we have Cairo in the build.
    
    Signed-off-by: Joao Santos <joao.santos@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e292e00de0553ef059ddeef572db741ec3b6c23f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 18 14:17:10 2014 +0000

    kms_pipe_crc_basic: Remove spurious inclusion of glib.h
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1daafe27625d53783b9dcb41bf72aaaade5f735f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 18 14:16:49 2014 +0000

    kms_plane: Remove spurious inclusion of glib.h
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 959783684e2010326d91db2aa55f424f7e041c84
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 19:22:53 2014 +0100

    test/kms_flip: fix up igt logging conversion
    
    Silly me ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cef9b31a2415f59899c2d7a9fc895aa7b66d3230
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 19:22:35 2014 +0100

    testdisplay: Allow to specify the dpms level
    
    aka the jbarnes-me-harder mode
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 30cfde5822d1ec9b918576fa49aff9ab41d4fe65
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 19:15:38 2014 +0100

    testdisplay: implement dpms test
    
    For those who wonder about the -j switch ... all the good ones have
    been taken, so this is the Jesse-flag.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b5b0aeb6a552c014fb224a3c3ff913fbab45b5e0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 14:43:20 2014 +0100

    NEWS: Mention new logging support

commit d1e318d23df6c4da2a5885f91f97aa565e001bf8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 14:25:55 2014 +0100

    tests/kms_flip: use igt logging
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c88f898c578bd14aee049aceacb0d95a0703aab8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 14:12:03 2014 +0100

    tests/gem_seqno_wrap: use igt logging
    
    Cc: Mika Kuoppala <mika.kuoppala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 46ec3ef1f80c1f42f24a13d742887333efc678d2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 13 14:09:41 2014 +0100

    test/pm_rps: use igt logging
    
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eebdf7f9204686f5d937d6a3084056fb86c6e7de
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 12 15:19:15 2014 +0100

    lib: (somewhat) structured logging support
    
    Apparently there's a bit a need for more verbose output in testcases,
    mostly for debugging purposes. At least gem_reset_stats and pm_rps
    have a verbose mode.
    
    On top of that we're currently not taking advantage of piglit's "warn"
    state all that much. But I think it might be useful for testcases which
    are notorious for some kinds of spurious failures, like e.g. the really
    nasty timing checks in kms_flip. If we demote some of them to just
    warnings we could run the overall tests more often.
    
    Hence this patchs adds a new igt_log function with the three levels DEBUG,
    INFO and WARN. Plus a bunch of convenience helpers to keep the test
    code tidy.
    
    The level can be set through an enviroment vairable IGT_LOG_LEVEL with
    info being the default. Also tests can look at the selected log level in
    case they want to run costly debug functions only when needed.
    
    Comments highly welcome, I plan to roll this out over tests which can
    use it (not all, imo that's too much churn) once we've settled on the
    interfaces/semantics.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 60a24a22ba4c7df46ebae0e99f0aa09604a6fb25
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Tue Jan 28 09:53:50 2014 +0800

    Assembler/bdw: Remove the unsupported cache agent for WRITE(...)
    
    The Sampler/Constant cache is read-only. And it can't be used as
    the target cache agent of WRITE message.
    
    Reviewed-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a2bf80fd8462b0014f2e230421173677bbb8b742
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Wed Feb 12 15:54:27 2014 +0000

    tests: fix sub-test enumeration
    
    Ensure sub-tests can be listed correctly by doing any test setup within
    an igt_fixture block.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ec3b1332f87e956e7de8e03e2cdbb962df05e214
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 12 00:12:07 2014 +0100

    NEWS: Mention Damien's new helper library

commit a036959f3ed1f0a9c3e80b9feea69713289aa4ef
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 23:54:19 2014 +0100

    lib: Make igt_skip noreturn
    
    This is a remnant from the subtest code before we had proper
    fixture blocks. With those there's no no reason to have igt_skip
    calls outside of fixtures or subtests, so we can assert this and
    hence always jump out.
    
    Suggested by Thomas Wood since static analyzers got confused about
    this.
    
    To check for fallout I've run all tests as non-root so that they'll
    all skip. Only very little fallout resulted.
    
    Cc: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0d1084fe3f88e2b51c50ff963a2ae81a6129474d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 12 00:07:11 2014 +0100

    lib: install exit handler only on success for prefault control
    
    Otherwise we'll hit an igt_skip in the exit handler, which upsets
    the new in_fixture||in_subtests checks.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 58633cfde46cb6010b3bdeeca58a52ec536ff66c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 12 00:05:57 2014 +0100

    test/gem_gtt_hog: bail out earlier
    
    This way we properly skip instead of failing hard. Just result
    polish when running on non-intel systems.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36be04bdfb1d34f11b6bd50db7c50d213c4498b7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 23:52:43 2014 +0100

    tests/gem_madvise: use correct main block
    
    igt_simple_main doesn't enumerate subtests ...
    
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3514872efeaa2fc0b656ed6949b9e6b7bf67633f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 23:50:10 2014 +0100

    tests/gem_bad_ctx_exec: Properly wrap in igt_fixtures
    
    Caught by the new nasty assert in igt_skip.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a86651fa2476087dd04d03cf86247761595c0aef
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 23:47:50 2014 +0100

    tests/gem_close_race: Properly wrap init code in fixtures
    
    Blows up otherwise if there's no intel gpu around.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 349ba5d3e1cbc0d130305547627c5de5a35ae1a2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 23:36:24 2014 +0100

    lib: fix header include
    
    drm/ path is for the headers from kernel sources, without when using
    the pkgconfig libdrm version.
    
    Cc: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b4e85b7b53f2ebf3a8d5edab5ca98d6f8715a680
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 11 17:53:00 2014 +0000

    lib/display: Fix typo in igt_plane_get_fd_id() (fb)
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 82108d96566dfa1210b1fbe2f6deaf6d77d1e34e
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 11 17:48:32 2014 +0000

    kms_pipe_crc_basic: Remove igt_display_get_n_pipes() usage in main
    
    The fixture won't be run when listing the subtests and thus we can't use
    igt_display_get_n_pipes() in the list of tests. The alternative here is
    to list the subtests with the maximum values and skip when not supported
    on the platform.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 2043e6b265929ad2444cede7412f73a9cbe112a5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 11 17:45:48 2014 +0000

    lib: Fix igt_ouput_get_plane() typo (output)
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3386b4b2866b991b49e7386d51a3f4b9d9b681c0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 11 13:54:10 2014 +0000

    lib: Don't wait in igt_wait_for_keypress() if stdin is not a tty
    
    When running in a non interactive terminal, there's little point in
    trying to wait for some input on stdin.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0d5de66fc6b85a0555ecc9d853e48c464122bb26
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 21:20:35 2014 +0000

    kms_plane: Start a basic display plane test
    
    We test the sprite plane positionning in there, for now.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3027de0a6653c6168fbc12f895a13c7d2a9ee0e2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Feb 7 14:12:44 2014 +0000

    lib/display: Fix assertion in set_plane()
    
    When cycling throuth planes, we still want to reach the cursor plane. We
    have to special case IGT_PLANE_CURSOR as a shorthand to select the
    cursor plane (the last plane on the pipe).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit fb146aa7825b8f3a1c490f30b4c3912b7fe8eb6d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 21:18:28 2014 +0000

    lib/display: Wait for a vblank after SetPlane()
    
    Let's be testing friendly and gently wait for the next vblank before
    returning from commit() when needed.
    
    After igt_display_commit() one can safely look at the CRC.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit da0f1cf57083c17d047d64bda53d63bd728fed7c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 21:06:59 2014 +0000

    lib/display: Print the fb id, not its pointer in the set_fb() log message
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit da896537b8919e3e4dbd2067a38ec49f28603e8a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 21:06:25 2014 +0000

    lib/display: Add a way to wait at every commit for inspection
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 377f48afe668fc118d6dd902641a1c41c4430b44
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 21:06:07 2014 +0000

    lib: Add a helper to wait for a keypress
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c7e3413a081aa7fb2b9f4de5b99c64802b649392
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 19:10:51 2014 +0000

    kms_pipe_crc_basic: Use kmstest_create_color_fb()
    
    Reducing again the per-test number of lines.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1d2c9d5e573409edd846c445619c0d41474a0ff0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 19:09:53 2014 +0000

    lib: Include drm_fourcc.h from igt_kms.h
    
    This include is needed for the DRM_FORMAT* defines used in the fb
    creation helpers.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 063194074e5ce0ad9ceb0f3318e714aaad05ec21
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 19:04:58 2014 +0000

    kms_cursor_crc: Use kmstest_create_color_fb()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a1df2f4363d1ed770db36fb8aba14e65087f11c3
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 19:04:12 2014 +0000

    lib: Introduce a new helper kmstest_create_color_fb()
    
    We need to create fbs of a single color in a few places. Time to
    abstract that out to a helper function.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f0e0b2ae658c44461d00adddea6cc5bba711966d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 17:54:33 2014 +0000

    lib/display: Add support for DRM planes
    
    We can now extend our plane support beyond primary and cursor planes.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1c608a2af81f94e601b5961987a6b86eb0e3a824
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 16:26:31 2014 +0000

    tests/kms_cursor_crc: Use igt_pipe_crc_collect_crc()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6954103192bba9241a4b115a85cb43de779d375f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 16:17:38 2014 +0000

    lib/crc: Add a helper to read a single CRC value
    
    In this case, we also take care of starting/stopping the CRC collection.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 7d0e2f618c05c784655c9b2a592e7f4de8df88cb
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 16:17:14 2014 +0000

    lib/crc: Factor out reading a single CRC value
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 162914b9ed0af1436e260133a90b91f32e78b4fe
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 16:05:19 2014 +0000

    lib/display: Check if we're trying to use the same pipe on 2 outputs
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 65fef0a43410b40f43dc5e0b8937199bebdccf79
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 5 17:51:50 2014 +0000

    lib/display: Allow to override the display verbosity with an env variale
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d435829ae9702c9f777b68227e43eafd702a8031
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 5 17:14:12 2014 +0000

    kms_cursor_crc: Port the test to the new modeset API
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 09faa45f521c98dda0ebc07a417fb34a048a697b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 6 15:45:42 2014 +0000

    lib/display: Add a way to specify we don't care about the pipe to use
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5ec399b4a6b11dc6c2b1a1bd25b745d4dd9279a6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 5 16:36:51 2014 +0000

    lib/display: Add support for the cursor plane
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c4823ce9a4d51eeb422be822e8a6d971a7141c24
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 5 15:54:13 2014 +0000

    lib/display: Fix the SetCrtc disabling log message
    
    We were displaying the value of fb_id (0), when the actual interesting
    thing about this call it that it'll just down the pipe.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 969435a4078be5c1926c6ecbcfcbedfd6a9d8a64
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 5 15:32:15 2014 +0000

    tests/kms_cursor_crc: Move the array of cursor fb_ids to the stack
    
    This array is not used outside ouf create_cursor_fb(). A stack allocated
    array is enough.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d39f5a059b688878f07586f7a9292299316424c2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 4 15:11:29 2014 +0000

    kms_pipe_crc_basic: Use igt_display_get_n_pipes() instead of hardcoding 3
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 72e9a6c8d596d062bd66503c8c2625e1e9e83ba6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 4 14:59:39 2014 +0000

    lib/display: Add an accessor to retrieve the number of pipes
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a260599b6f557b66346fcbcc81c54f0dc7382f9c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 4 12:07:56 2014 +0000

    kms_pipe_crc_basic: Use for_each_connected_output()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 992bd5d62a666657aae3e231e9cb7638c405595c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 4 12:06:57 2014 +0000

    lib: Introduce a for_each_connected_output() macro
    
    So we can easily cycle through them in tests without knowing too many
    internal details about how igt_display_t organize its data.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 09e84cee8b97e8b431e537fbbacde1313d5896ac
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Feb 2 17:48:24 2014 +0000

    lib: Introduce symbolic names for display planes
    
    It'd be nice to have symbolic names for planes instead of using an index
    in igt_output_get_plane().
    
    We also namespace the enum to not conflict with anyone.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 417987353ec2bf637839990553967474ccf1528e
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 27 16:32:09 2014 +0000

    kms_pipe_crc_basic: Port to the new modeset API
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3670d6dbff7b829d71ce84d6c9cb88cd5abdbc53
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 27 16:25:43 2014 +0000

    lib: Introduce a modeset API
    
    The goals here are:
      - Reduce duplicated code in each KMS test
      - Provide an API that looks more like what we want for atomic
        modesets. The hope is then that it'll be easy to switch, at
        run-time, between the "legacy" path and atomic modesets, keeping
        the same API for tests.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 01757d052c3427ee28b1a065652721877568a15f
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Fri Feb 7 17:03:39 2014 +0000

    tests/gem_seqno_wrap: fix over allocation of arrays
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e6737b8a4ef42109f82c13127d8e2e5da92eb79f
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Fri Feb 7 17:03:38 2014 +0000

    assembler: fix condition for printing a warning
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 49aa4b0df52254d47b354e98ec18236ff82b06e9
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Fri Feb 7 17:03:37 2014 +0000

    debugger: fix the -p option
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 333a5c6f07cba9e6d7a5506521bae5ec89b867c1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 12:14:09 2014 +0100

    lib/drmtest: Fix up skip_henceforth checks
    
    We need to first check whether we'll even run the testcase before
    deciding to print a premature SKIP/FAIL. Without this and global
    skipped resulted in superflous output when running only one testcase.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=74100
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a6bc3d91af816f4d979cb6424c6e991362c2a8f8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 11 12:04:57 2014 +0100

    tests/gem_reset_stats: Correctly wrap global test code
    
    Tests _must_ be able to run as non-root and on non-intel platforms,
    otherwise the enumeration is busted (since QA enumerates testcases on
    a gpu-less xeon box).
    
    Cc: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 971c7db2c81d0573caf1d35d70f48e6fdace90d0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Feb 7 10:02:41 2014 +0100

    tests/pm_rps: remove setfreq
    
    It's unused.
    
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ffc481b8acc22ee8bbbf142db5b74d99c6bde926
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Feb 7 09:59:42 2014 +0100

    tests/pm_rps: Round requested freq correctly
    
    The kernel will round it, so if we don't we'll have a spurious
    mismatch. Happens on my machine here with 650-1300MHz range, where the
    midpoint is 975.
    
    Cc: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0269d1da4999ecb39ea65120a052259b19372748
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Thu Feb 6 16:31:54 2014 +0000

    lib: fix signed/unsigned comparison issues
    
    Store the result of set_vt_mode as a signed value so that errors can be
    caught correctly.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c3e9198dd0424feb74cdf6570c769f818f2ca16c
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Thu Feb 6 16:23:42 2014 +0000

    assembler: define YY_NO_INPUT to prevent unused symbol warnings
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 32b624c71d6e444056ba87172cc0004e355170d1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 6 07:49:33 2014 +0100

    tests/pm_rps: Fix compilation on Linux
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2b8d953aa22477d88ad6d58f3ad04d3bf90a6a84
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 31 10:13:53 2014 -0600

    pm_rps: New subtest for gpu reset
    
    Test that RPS functions as expected after a gpu reset.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 663d758d919610b09a8bddbadd8a0b668eab6be8
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 31 10:13:52 2014 -0600

    pm_rps: Add variable load support to load helper
    
    The load helper can be set to HIGH or LOW. HIGH is the original mode
    of sending continuous dword store commands. LOW adds a pause between
    each command to reduce throughput.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 22dfb0988aa5f055fb96873d037825bb0317a0e0
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 31 10:13:51 2014 -0600

    pm_rps: Load helper should stall for last write
    
    This ensures that gpu is quiescent when load helper exits.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2d16e0aad7a31a0964ae35fa07c70f4c2fb513b0
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 31 10:13:50 2014 -0600

    pm_rps: Add stop rings injection utility
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2cbb0fbf5f3dc839a11d23a970948cb91718594e
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 28 18:25:06 2014 -0600

    pm_rps: New subtest min-max-config-loaded
    
    Like subtest basic-api, but additionally requires that current
    frequency is increasing to the configured maximum within reasonable
    time since we are loaded.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ceb14b190594b767667d34c284e4afdb1932f973
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 28 18:25:05 2014 -0600

    pm_rps: Add load helper for loading gpu
    
    The load helper submits repeated dword store commands to keep the
    gpu loaded while subtests running in the parent process check for
    expected rps response.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fd3fcbd3b3f12f878737d331d361de7eda0f579a
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 28 18:25:04 2014 -0600

    lib/drmtest: Add igt_wait_helper
    
    igt_wait_helper compliments igt_stop_helper and is used when helper
    processes are expected to exit naturally.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3bada1626cd35800533361296f4340f64b91321c
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 28 18:25:03 2014 -0600

    pm_rps: New subtest min-max-config-idle
    
    Like subtest basic-api, but additionally requires that current
    frequency is settling to the configured minimum within reasonable
    time since we are idle.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2423b6c04e54792adc42b7d477861d9ffb87fdc3
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Feb 5 13:48:26 2014 +0200

    lib/drmtest: fix hang in quiescent_gpu_at_exit due to signal-unsafe asprintf
    
    I got kms_flip in hung state with the backtrace below, while the parent process
    waiting for the signal helper to exit. It was quite easy to reproduce the bug
    by running
    
    kms_flip --run-subtest=flip-vs-dpms-off-vs-modeset
    
    With the change I couldn't reproduce it.
    
    TODO: audit/fix other signal handlers with signal-unsafe functions
    
    0  0x00007f9a1362018b in ?? () from /lib/x86_64-linux-gnu/libc.so.6
    1  0x00007f9a1359df81 in ?? () from /lib/x86_64-linux-gnu/libc.so.6
    2  0x00007f9a1359b6cf in ?? () from /lib/x86_64-linux-gnu/libc.so.6
    3  0x00007f9a13628eb6 in __vasprintf_chk () from /lib/x86_64-linux-gnu/libc.so.6
    4  0x00007f9a13628e72 in __asprintf_chk () from /lib/x86_64-linux-gnu/libc.so.6
    5  0x000000000040a4a2 in asprintf (__fmt=0x417441 "/dev/dri/card%u", __ptr=0x7fff1a972c08)
        at /usr/include/x86_64-linux-gnu/bits/stdio2.h:178
    6  drm_get_card () at drmtest.c:190
    7  0x000000000040a54a in __drm_open_any () at drmtest.c:229
    8  0x000000000040a846 in quiescent_gpu_at_exit (sig=<optimized out>) at drmtest.c:281
    9  0x0000000000408759 in call_exit_handlers (sig=3) at drmtest.c:1519
    10 fatal_sig_handler (sig=3) at drmtest.c:1543
    11 <signal handler called>
    12 0x00007f9a13596770 in ?? () from /lib/x86_64-linux-gnu/libc.so.6
    13 0x00007f9a135d8f3f in fork () from /lib/x86_64-linux-gnu/libc.so.6
    14 0x000000000040b3af in __igt_fork_helper (proc=0x61d8cc <signal_helper>) at drmtest.c:1199
    15 0x000000000040b4ce in igt_fork_signal_helper () at drmtest.c:751
    16 0x0000000000404167 in main (argc=<optimized out>, argv=<optimized out>) at kms_flip.c:1533
    
    v2:
    - can't use snprintf as that's also signal-unsafe, so just use a dup'ed fd (Chris,Daniel)
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 5c9c8841eb66676dd65e84d51fa87a4b4b8ad764
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 4 14:14:31 2014 +0000

    tests: Add gem_madvise
    
    Exercise that calling madvise produces expected results
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 98952a1f6e7e5439e4b77482bd08422212c32e47
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Feb 4 13:10:37 2014 +0100

    fix make distcheck
    
    Bunch of explicit include paths needed adjustments and
    eviction_common.c needs to be added to the dist files.
    
    This has been broken in the following three commits:
    
    commit 42bcd05eb3f1545fbf9c397c3f37c3f6a27c5da4
    Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Date:   Mon Feb 3 10:59:41 2014 +0000
    
        tests/eviction_common: Avoid submitting duplicate objects
    
    commit b92b397d5e4ffe10ed92fb2fc6711758ef5bcf89
    Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Date:   Tue Dec 3 15:09:57 2013 +0000
    
        build: Make sure asserts are enabled for tests
    
    commit 8c33e9ad111d27b84db4daac43809a807f262632
    Author: Ben Widawsky <benjamin.widawsky@intel.com>
    Date:   Fri Dec 6 20:35:29 2013 -0800
    
        intel-gpu-tools: Version informatio
    
    Cc: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Cc: Ben Widawsky <benjamin.widawsky@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 42bcd05eb3f1545fbf9c397c3f37c3f6a27c5da4
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Mon Feb 3 10:59:41 2014 +0000

    tests/eviction_common: Avoid submitting duplicate objects
    
    Make sure selection loop does not generate duplicates
    when it picks a subset of objects for a single exec buffer.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e1dea7e2e190307056a05a2945e59b59fe5b6fc0
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Mon Feb 3 10:59:40 2014 +0000

    tests/gem_evict_everything: Factor out eviction logic
    
    In preparation for userptr test we move the eviction logic
    into a common file so it can be used from both test cases.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d8ea09f24d9e0c75593bc6e89c742998c23087fc
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 29 15:53:33 2014 +0000

    gem_ring_sync_copy: Add a ring to ring synchronization test
    
    The goal of this test is to ensure that we respect inter ring
    dependencies. A more detailed description of what it tests is in a
    comment.
    
    The tests relies on having a blit function for the ring, so is currently
    only checking synchronization between the render and blitter ring.
    
    v2: Actually create an inter-ring dependency by making the first copy on
    ring2 and the second on ring2, not both on ring2.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 09bcb0ab4b79273cfccdfa87f860b0be1addcc7b
Author: Rafael Barbalho <rafael.barbalho@intel.com>
Date:   Fri Jan 31 14:57:40 2014 +0000

    android: Change tests & tools directory to use the lib directory
    
    Instead of recompiling the lib directory for every tool or tests we can just
    re-use the static library. This also has the nice side effect of fixing the
    android "mm" command to allow android users to only rebuild the local changes
    in either the test or tools directory.
    
    Signed-off-by: Rafael Barbalho <rafael.barbalho@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bdb08f981c5ebed0ff1f0067f1aa085636b9ac7b
Author: Rafael Barbalho <rafael.barbalho@intel.com>
Date:   Fri Jan 31 14:57:39 2014 +0000

    android: Add the generation of vesion.h & config.h to lib
    
    The lib directory is used by all the tests & tools so it should really be
    the place where the generate files are created.
    
    Signed-off-by: Rafael Barbalho <rafael.barbalho@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 005c333e5c3ba9285e5d918877e9dd992fd2a4b9
Author: Rafael Barbalho <rafael.barbalho@intel.com>
Date:   Fri Jan 31 14:57:38 2014 +0000

    android: Add makefile for the lib directory
    
    The lib directory should really be compiled as a static library on its own
    and be re-used by any tests or tools that require it.
    
    Signed-off-by: Rafael Barbalho <rafael.barbalho@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 4c79264b3cda6ef548f4125ebf49d470ab968ede
Author: Rafael Barbalho <rafael.barbalho@intel.com>
Date:   Fri Jan 31 14:57:37 2014 +0000

    android: Clean-up common makefile directives
    
    All the Android.mk files had the same directives to find the path of
    libdrm & libpciaccess. These are no longer required as the android system
    now allows the libraries being used to export include paths to dependant
    modules & programs.
    
    Signed-off-by: Rafael Barbalho <rafael.barbalho@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 79ea9a9071fcd39493f68ae4d7ba9941701195c9
Author: Rafael Barbalho <rafael.barbalho@intel.com>
Date:   Fri Jan 31 14:57:36 2014 +0000

    android: Handle the case when android doesn't have mmap64
    
    Not all versions of Android have the mmap64 call, thus a suitable alternative
    must be called.
    
    Signed-off-by: Rafael Barbalho <rafael.barbalho@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e72f3bcc7700fbf1f381248b0c7fedb2777b8ff1
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 31 05:33:56 2014 +0000

    quick_dump/broadwell: Add gen7 ring mode registers
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 56d347fad864d13b9d39512a308bb54d5f36f828
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 31 05:31:07 2014 +0000

    quick_dump/haswell: Add gen7 stuff + VECS_MODE
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 556c200e99da687f828f2d5e61a49f7fc21b2cb7
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 31 05:29:27 2014 +0000

    quick_dump/gen7: Add other GFX_MODE registers
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b5a1ab3d6e2002607f6c6387b0bf8a79cffc8224
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 31 04:46:06 2014 +0000

    quick_dump: Add a file argument
    
    -f, or --file will simply dump the file in the specified format. All
    other options will be skipped. This is helpful when one wants to create
    their own list for temporary debug, or if one requires a subset of
    registers to work around things like fused off PCH.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8ce7c366d7d2903aa66161d836bd1295a8d3a806
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 31 04:42:50 2014 +0000

    quick_dump: Refactor to allow future code
    
    Extract everything possible, and create a main function which is pretty
    darn simple. The goal is to make the various paths the program can take
    based on command line options (one more is coming) more decipherable.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 48ad03ca0c5f078b8d12a64323fd93b3858041af
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 31 16:56:01 2014 +0000

    lib: Capture errno on entry
    
    When printing the errno, it is important that we capture the user errno
    before we make any library calls - as they may alter the value.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=74007
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit be22e10885eba556428919c2bbc71b4b644cb1a4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jan 29 22:59:57 2014 +0000

    igt/gem_close_race: Fix blit commands for BDW
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=73958
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5e21b434da95c8b66a97a79649a61eb40a161a70
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jan 28 14:17:30 2014 -0800

    iosf: make iosf_rw take a larger addr
    
    For higher DPIO ranges for example.  Also fix it up to use
    intel_register_read/write.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit e558dd998de723f7f110e51dbd0ce495748d5925
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jan 28 13:58:55 2014 -0800

    dpio: make dpio reg read/write output like normal reg read/write output
    
    Just for consistency.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 670a717b5bf4c21dde338b87e5b660632ff6f6b0
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jan 28 13:58:23 2014 -0800

    mmio: drop unused i915_loaded fn
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 81095305f4df5289f4d494345da0c87949b55f54
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jan 28 13:46:38 2014 -0800

    mmio: use intel_iosf.c for DPIO reads and writes
    
    This makes it a bit more like the kernel, so we can go poke at DPIO and
    other IOSF regs a bit more easily.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit d1b5823ee7645c767616ee4e5f23f6692a280dde
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 27 23:38:02 2014 +0100

    tests/pm_rps: rename basic test to "basic-api"
    
    Jeff plans to add more tests ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5d26a7e2a246265754d51320c35364a3b94cf4e6
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 21 17:14:33 2014 -0600

    pm_rps: Make frequency logging more compact
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 88864d2ba584cc11f33dafc5c91f1a8e3175d963
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 21 17:14:32 2014 -0600

    pm_rps: Remove repeat sysfs reads
    
    Storing values avoids some unnecessary overhead but more importantly
    allows all of our processing to be atomic.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4e3b661b480b0a43d9cf45afaf0cae835cb66dcc
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Tue Jan 21 17:14:31 2014 -0600

    pm_rps: Expand on min and max config testing
    
    Add a function that methodically varies min and max to exercise
    several valid and invalid combinations. Allow the caller to
    define what is to be checked between each step.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 22533b1eb038dbf4d3dc79945b81cefc4aac64be
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Jan 27 10:43:02 2014 -0800

    NEWS: update with nomodeset register access change

commit 0d20fa3cc218c48421a9625fc1241008db4496d0
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Jan 27 10:26:57 2014 -0800

    quick_dump: more vlv dpio regs

commit 5ecac45ff08945f99365ff6d29ba21f896cdb1b6
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Jan 27 10:26:05 2014 -0800

    mmio: allow register init even if debugfs isn't available and i915 isn't loaded
    
    This lets us dump regs even if modeset=0 for example.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 0b4c33f62c2d4a61b0b5e9184524c8ca273400b1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jan 26 14:36:32 2014 +0000

    igt/gem_concurrent_blit: Scale resource usage to RAM correctly
    
    Note that we use twice the number of buffers, and so we need to restrict
    num_buffers appropriately to fit within RAM.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=72255
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b5109e62cea170f3550588119d41a9bcf79789e5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jan 23 21:50:36 2014 +0000

    intel_error_decode: Protect against missing ring registers
    
    A dodgy kernel may miss printing out the ring registers leading to a
    FPE.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4a9b70c3262a30e70207583cc23da67bba538437
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Wed Jan 22 10:41:05 2014 +0000

    tools: Allow building on Android after noinst_PROGRAMS is not defined any more
    
    Looks like filter-out macro gets silently unhappy about an undefined variable.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c05c88c2b641aaab83608fb2c8e816893690c1fe
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Jan 21 17:40:08 2014 +0200

    tests/gem_reset_stats: stop only one ring when submitting hang
    
    If we stop all the rings, we can end up blaming the innocent
    rings on hangcheck.
    
    Reference: https://bugs.freedesktop.org/show_bug.cgi?id=73652
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1bbb607d9f3ee8e725a784f740937577f153a520
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Jan 21 18:03:42 2014 -0800

    gem_storedw_batches_loop: Fix for pre-BDW
    
    My git failures are truly remarkable. I ended up pushing the wrong
    commit here:
    commit 1552aa21124cabe762862bb414490510415a2b2d
    Author: Ben Widawsky <benjamin.widawsky@intel.com>
    Date:   Mon Jan 13 06:28:45 2014 -0800
    
        gem_storedw_batches_loop: Fix for BDW
    
    This puts the offset of the reloc in the wrong place for pre-BDW
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=73866
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 03d144d16ffef63cedca81ccb4708b173b16868f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jan 20 15:57:16 2014 +0000

    kms_flip: Try to consume all fences after a flip
    
    As a flip is outstanding, there is an issue that the kernel may not be
    able to release one of the fences that userspace requires and erroneous
    report EDEADLK (on gen2, gen3).
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=73696

commit ac0224f184212e8c4baa6de6fbe379c7c22f2008
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Jan 20 10:40:23 2014 -0800

    quick_dump/watermarks: lp3, misc and debug
    
    I forgot to git add this originally.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3deaeb282656e6e9da4327b79db385479fefdb0b
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 17 20:32:01 2014 -0800

    quick_dump/broadwell: Use haswell_other
    
    For now, the power controls and watermarks seem to be the same offsets.
    So just reuse haswell_other.txt
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 58aa7346c370700658fbbe13659e823afe98b6e4
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 17 20:26:54 2014 -0800

    quick_dump/hsw: Watermark debug
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 73ca22c9e880b0598935c871d809ecfb1f3473fc
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 17 20:10:46 2014 -0800

    quick_dump: Allow comments in the register files
    
    Simple addition to the parser to add the following full line comments:
    {';', '#', "//"}
    
    Empty lines will also be ignored
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 724340cf36b4e2a87d8c545410224b617f813cc8
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 17 19:35:22 2014 -0800

    quick_dump: Fix the indentation
    
    Fix the spaces to use [the python standard] 4 soft spaces for tabe.
    While here, add the proper vim tag so we don't do it again.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a5d17d2b0e14cafaa2573d9e538af2a98d2338cc
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Jan 17 20:16:55 2014 -0800

    .gitignore: Add pycache
    
    quick_dump which is python, generates files in __pycache__ which are the
    moral equivalent of object files. Don't let people add them to the index
    accidentally.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5b9147513029ca1e1eaf2c028e6f868adc3359f6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 22:15:13 2014 +0100

    tests/gem_fd_exhaustion: Make it work
    
    - We need to drop root to actually hit the limits. This requires us to
      fork the actual test since otherwise the exit handlers (which
      require root) fail the entire test.
    - Don't assert that the gem create ioctl succeeds, it won't on the
      final run of the loop.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7d2ba073adef9c4c6f7a679befa2a5d19cbf4735
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 22:13:36 2014 +0100

    lib: add __gem_create
    
    Useful for when a gem_create ioctl is expected to fail.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 71f1f9eafd68c82382d165028ae73035742bb730
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 22:12:25 2014 +0100

    tests/pm_rps: Add missing static
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ae57cd7dc7db8a9a72d8ee764f72cd8fd9e75a76
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 22:11:47 2014 +0100

    debugger: avoid global variable shadowing
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 862de5636f545a071f29f60ae0a4ab1370f5cf8b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 22:06:48 2014 +0100

    lib: extract igt_drop_root
    
    Useful in other tests.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 70082e3677711bc01330ba3483fbdce5779f915d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 18:01:24 2014 +0100

    tests: Add gem_fd_exhaustion
    
    Exhausts the system limit on open files and then tries to create
    a new shmem-backed gem object. Linus Torvalds reported that this
    blows up on a null obj->base.filp, but I can't reproduce this here:
    
    http://lists.freedesktop.org/archives/intel-gfx/2014-January/038433.html
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36106004e0e590557041e491fe690f01c89bc115
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 19 14:48:07 2014 +0100

    tests: Move pm_rps to the right Makefile target
    
    If it's not in the multi-test target group testrunners won't pick up
    on the fact that they need to enumerate subtests first.
    
    Cc: jeff.mcgee@intel.com
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7f1c5057cf1dec0494b8929722fc092625b3c4d1
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 17 16:56:06 2014 -0600

    pm_rps: Fix verbose option and streamline its use
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d14cd7430bbba6516a900393f7af1f44c7b6f3ee
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 17 16:56:05 2014 -0600

    pm_rps: Convert to subtest structure
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0102b6bde6dc69cccee7d33df233e4ef1b73d9be
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 17 16:56:04 2014 -0600

    pm_rps: Add read back checking on sysfs writes
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e07e758004ae3014504b7799cff3838f11dce848
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jan 17 07:42:22 2014 +0100

    tools: Install them all
    
    No reason really not too, especially since we install manpages for
    some of them.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=66656
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8fa2066d7e707787019ecda814442c4789840499
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 15 23:59:52 2014 +0100

    tests/gem_gtt_hog: Use igt_simple_main
    
    Results in the compiler complaining about wrong exits and return values.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eb1fddc057b363225153f86cf419f42d7d83469d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 15 23:58:50 2014 +0100

    tests/primve_nv_pcopy: Comment out unused check_swizzle function
    
    I've botched this in my patch to disable the swizzled pcopy test.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5e278c86eda1d5ade7c0fc425edc589e3c9dff59
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jan 15 10:40:40 2014 +0000

    gem_gtt_hog: use a normal exit()
    
    Since we don't execute any subtests, using igt_exit leads to
    inconsistent behaviour. In the future, this may be converted.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=73641
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a896ef9c1f67cf707fd2aea900e9276b4ff535d6
Author: Robert Beckett <robert.beckett@intel.com>
Date:   Tue Jan 14 18:01:38 2014 +0000

    igt: tests/Android.mk: fix LOCAL_PATH usage
    
    Fix usage of shared variable LOCAL_PATH in deferred variable expansion area.
    
    In Makefile language, rule and dependency definitions use immediate
    expansions of variables, so they get expanded as soon as the rule is
    created (1st pass). Rule implementation (a.k.a recipe) use deferred
    expansion (2nd pass).
    
    Android effectively makes all Android.mk files a single makefile by
    including them all in a big tree from the toplevel makefile. The rules
    are all evaluated in the first pass and targets are generated. Then the
    2nd pass happens and the required target's recipes are run. At this
    point, LOCAL_PATH has been assigned the value from the last evaluated
    Android.mk in the 1st phase that defined LOCAL_PATH (most Android.mk use
    this variable). In my particular case, it was the bootloader's
    Android.mk that was evaluated last and had defined LOCAL_PATH to it's
    path. The errors are rather misleading due to it looking like a bug in
    another module's Android.mk rather than this one :)
    
    Basically, if you want to use a variable that any other Android.mk
    defines, then you can only use it in an immediate expansion context,
    not a deferred expansion context as it will likely be re-defined by
    the time the 2nd pass happens.
    
    This patch stores it in a unique variable that should not be being
    used by other Android.mk files. An alternative fix would be to use $@
    and $< as the files in question are target and dependency, but I never
    like using those as they can easily break if dependencies are added
    etc. I prefer variable to be explicitly named to make them obvious.
    
    See gnu make manual for explanation of deferred vs immediate
    expansion of variables :
    http://www.gnu.org/software/make/manual/make.html#Reading-Makefiles
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Robert Beckett <robert.beckett@intel.com>

commit 44c0b2aeff41e258c74bb1b1221359c4661accd8
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Fri Jan 10 17:24:17 2014 +0200

    tests/gem_reset_stats: run tests on all rings
    
    Run all relevant tests on all rings.
    
    Suggested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3367359a9858a5ad806876213593ad912d2ef30f
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Fri Jan 10 17:24:16 2014 +0200

    tests/gem_reset_stats: split ctx tests
    
    Split context related tests from non-context ones
    and cleanup the naming.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fef1930bf30b8182fe8e6e26b8f722ee8995da71
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 14 13:41:21 2014 +0100

    tests/prime_nv_pcopy: disable swizzle tests
    
    It's pure luck that nv can detile some of the intel layouts since one
    of the video MC formats matches it. Since we can't possible fix this
    comment the test out.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=73538
    Acked-by: Maarten Lankhorst <bugs@mblankhorst.nl>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1552aa21124cabe762862bb414490510415a2b2d
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Jan 13 06:28:45 2014 -0800

    gem_storedw_batches_loop: Fix for BDW
    
    Existing code was trying to be too clever and wasn't properly emitting
    the high dword, or the correct length.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit fee27cf822cff981f3e6f8fb6ea4a8c5fe3579b3
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Jan 13 17:05:19 2014 +0200

    tests: Drop glib.h include from kms_cursor_crc and kms_fbc_crc
    
    kms_cursor_crc and kms_fbc_crc don't need glib.h. This was just some
    copy-paste error on my part.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 2a7dbe5f0103ffdf44be174781868adb1a03f8a4
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 10 15:12:33 2014 -0600

    pm_rps: Use igt exit handler for restore
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d0b5fd2bff7ce8ec1ada15da6ca9ed2425cbf1c5
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 10 15:12:32 2014 -0600

    pm_rps: Fix test to target original min and max
    
    The goal of the test is to confirm that gt_cur_freq_mhz can be forced
    to the boundaries of the frequency range by collapsing gt_min_freq_mhz
    and gt_max_freq_mhz to the target value. But we miss testing the upper
    end of the range by targetting the current value of max after it has
    been set equal to min. So fix by targetting orginal max instead of
    current max.
    
    This correction exposes a problem in setfreq where min is always set
    to target before max, which should fail if the target value is greater
    than max. So fix that too.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 44b5d7b3300dd7c94d09c57c95ab3a407f8b17ef
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 10 15:12:31 2014 -0600

    pm_rps: Assert that valid sysfs writes return success
    
    do_writeval now always checks the return value, whether we expect
    success or a specific error. Also add new macro writeval_inval to
    simplify repeated use of do_writeval to test for EINVAL return code.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 265efbb2c4401542c8753e0d83d7a98493720865
Author: Jeff McGee <jeff.mcgee@intel.com>
Date:   Fri Jan 10 15:12:30 2014 -0600

    pm_rps: Use unbuffered I/O on sysfs files
    
    Bionic C library may not re-read a buffered, read-only file which
    results in failure to monitor changes in gt_cur_freq_mhz.
    
    Signed-off-by: Jeff McGee <jeff.mcgee@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 45d63644d28c34202a97bd812f6c46c853e97d28
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 10 21:13:56 2014 +0000

    tests/gem_pipe_control_store_loop: Delete bogus assertion
    
    target_bo->offset was just being used to verify that the batch
    submission worked and fortunately was not being relied upon for any
    subsequent conditions. However, address 0 is valid and so the assertion
    itself was bogus as it is possible (almost assured with full-ppgtt) for
    the target_bo to be located at address 0.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=72984
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 84af2b9be8792fb288d4ce75821a27706e5351c3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 10 16:09:57 2014 +0000

    gem_gtt_hog: Print elapsed time in ms
    
    Missed one last diff before pushing

commit f62abaff99792f10962b1aa072b8a3b314765591
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 10 13:42:55 2014 +0000

    tests: Add gem_gtt_hog
    
    The purpose of this test is to exercise the userspace latency hogs
    reported by Arjan van de Ven. He found some applications blocked the
    device by stalling on the GPU inside the pagefault handler.

commit 2c9e76184518854f21d367296ababef87fb41243
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jan 10 09:21:54 2014 +0100

    tests/gem_largeobject: Prefault instead of pin
    
    This doesn't test pin but pwriting to big objects ...
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=72901
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cb9e8376fac2c96c2e6bffa511b3087d916286d0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jan 10 09:21:15 2014 +0100

    tests: fixup igt_simple_main fallout
    
    Oops, I should look at compilier warnings a bit better.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7775fca2df815dfee18b181de6fe13df27bb9867
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 8 20:24:36 2014 +0100

    tests/gem_ctx_exec: fix ram requirement fumble
    
    We need to half available ram, not double it ...
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=72557
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 864d09ed4c11f89e1cd91b187a48c57b4c00b779
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 7 19:25:11 2014 +0100

    tests/NAMING-CONVENTION: s/snooped/snoop/
    
    Oops. We should be a bit more consistent with which verb form we're
    picking. tile,tiled,tiling is even worse ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 67c80f8d816259067b7474fe6f8c79915d6483f0
Author: Devon Davies <devon.davies@intel.com>
Date:   Wed Jan 8 16:07:06 2014 +0000

    build: Added -UNDEBUG to tools/Android.mk
    
    NDEBUG is defined by default in Android and causes assert(x) to be
    defined as void(x). This change ensures that asserts work as
    expected in tools.
    
    This flag is already inside tests/Android.mk
    
    Reviewed-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Devon Davies <devon.davies@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0ec9c94bea6d1ba3969a03ebf75494115e24edf6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 6 14:56:02 2014 +0000

    tools: Remove intel_disable_clock_gating
    
    This tool only supports ILK. I take the fact that nobody has felt the
    need to update for later platform a sign it's not very useful.
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5fdca4c1666fb055f1ba955beaa5511b99ebfbd6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jun 4 13:55:06 2013 +0100

    tools: Removed unused tools/intel_iosf_read.c
    
    Also intel_iosf_read() does not exist, and would need a bit more
    arguments.
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a1baf3050e3b329cf52064ec92c1dbd8bde3aab0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jun 4 11:36:23 2013 +0100

    lib: Use INSTDONE_I965 and INSTDONE_1 for gen6
    
    The GEN6_INSTDONE_1 and GEN6_INSTDONE_2 registers are just the old
    INSTDONE_I965 and INSTDONE_1 registers but renamed. Let's use the old
    names (this is what the kernel does).
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3ebd8aa95e610268cfa9b1307e6c707649f96f40
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jun 4 09:06:50 2013 +0100

    lib: Move the INSTDONE bit definitions to instdone.c
    
    This is the only place where they are used and we've even started using
    1 << n constants with gen 7.
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit da78bc497b46f09f8b161202d6f61e6dd26e9a65
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jun 4 06:48:49 2013 +0100

    instdone: Add an assert to make sure we never overflow instdone_bits
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d8b1dee220dc07bfae9d7fd82e360cc56bf9c30f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jun 4 05:41:36 2013 +0100

    intel_reg: Renamed INST_DONE to INSTDONE
    
    That's how the registers are named in the kernel defines.
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 98c10d379b8d6b8e34da1e9963a114413021838e
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Dec 30 11:40:03 2013 -0200

    tests/kms_flip: free the test_output struct when counting modes
    
    Looks like we have to do a lot of work just to count the number of
    modes...
    
    Caught by Valgrind.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 69856b5e7b96f6945da7f6c42a1468a38513b3ca
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Dec 30 11:33:16 2013 -0200

    tests/kms_flip: don't leak the connector_config struct
    
    ... in case we can't find a compatible mode. We already have
    config[0], we can't return without freeing it first.
    
    Caught by Valgrind.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 056500bdc5e4243a8baa3503ec9c3fdd7323a454
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Dec 30 11:30:03 2013 -0200

    tests/kms_flip: don't leak the CRTC
    
    The kms_flip program calls kmstest_get_connector_config, which returns
    a struct containing some allocated variables, including a pointer to
    the CRTC. The problem is that we copy the values returned by this
    structure to the test_output struct, but we ignore the CRTC pointer.
    So free the CRTC pointer instead of leaking it.
    
    Caught by Valgrind.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 02ad7e04dd0ddbb77e928330f8490680f1e200cc
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Dec 30 11:27:57 2013 -0200

    tests/kms_flip: don't leak the connector when setting DPMS
    
    Caught by Valgrind.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 329faeccf72ce8f289004809d5e3245cb6620ab9
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Dec 30 11:20:39 2013 -0200

    drmtest: don't leak memory when parsing the arguments
    
    Found this while investigating memory leaks on kms_flip. Detected by
    Valgrind.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit bb40494671b7641540dcb2015e9411aebd5016bb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 7 08:14:33 2014 +0100

    NEWS updates
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1d2ef9553ae4b738595676b7554f93d70acd78a0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Dec 16 11:28:39 2013 +0000

    intel_error_decode: Factor out common decoding code
    
    4 pieces of code were looking very similar. Let's factor out a common
    function in the not so unlikely case we need to tweak that code.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 01eeab94482de8c8fa687ffcfa95e5d32720909d
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Jan 2 19:33:57 2014 -1000

    configure.ac: Fix shader debugger for real
    
    I tried to get fancy before, but ended up pushing something which I
    didn't test. Keep the thing simple and stupid, and just make it work.
    
    Reported-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 164d9d26ac33029287a24fbed549e3a2858d5d51
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Dec 30 17:48:43 2013 +0000

    kmstest: Fix up lifetimes of cairo objects
    
    cairo_t is the short lived drawing context, whereas cairo_surface_t is
    the heavyweight object that persists and is also tied to underlying GEM
    objects. So make the kmstest API reflect the different weights and fix
    the lifetime and underlying object reference leaks.
    
    Based on the fix by Paulo Zanoni.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9d6cfa6b59d0c22cf772ca71069f9e5f3e53d055
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Dec 30 10:41:43 2013 -0800

    configure.ac: Fixup conditional shader debugger
    
    The original patch was incomplete. Testing no assembler build is a pain
    for me. Sorry for the mess.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3ed4b5bd1180c034820a4bf83eec896fd21ae33e
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Dec 30 10:32:06 2013 -0800

    configure.ac: Remove GEN4ASM define
    
    This was a leftover hunk that got accidently merged.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 72fe2b641488fcc01d48187fe1642337ce61cef0
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Dec 24 13:12:31 2013 -0800

    gem_exec_blit: gen8 updates for blit
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 94b2b861f5e2cd3dd5e32459174c9fdc3c3b0d8b
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Dec 20 21:15:16 2013 -0800

    shader-debugger: Use in tree gen4asm
    
    Reported-by: Patrick McMunn <doctorwhoguy@gmail.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 4f28614777a5dec5de5cafacd640f5b50180acaa
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 20 16:56:14 2013 +0100

    README: Fix spelling fail
    
    Thanks to Jani for spotting this.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fd6c66c4a2ad2b13cd56dc93c4cbf3a56bc0b3a8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 20 15:49:59 2013 +0100

    README: Document how to avoid Waffle with piglit
    
    Suggested by Paulo.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2a71bff3173c538d618f5fc6f45b7150fc10f3fb
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Dec 16 18:47:39 2013 -0200

    tests/pm_pc8: check if we can't become DRM master
    
    QA reported a failure that I believe happened because we couldn't
    become DRM master, so add code that checks for this and prints a nice
    error message.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 62e1cbc6343577e4fe2ea5b93981fab015872670
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Fri Dec 13 20:48:24 2013 +0000

    build: Create version and config information files in Android
    
    Also, skip the compilation of pm_lpsp in Android (uses Cairo)
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4eae05f03b893e2e7b2eb0e0d9799fe0228393bb
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Fri Dec 13 16:24:37 2013 +0000

    tests/gem_close_race: Adapt the test for Full PPGTT
    
    With Full PPGTT, each new fd creates a new context and thus a new
    PPGTT, so we have to reduce the number of simultaneous fds or face
    OOM problems. For every new PPGTT, its PDEs are stored in the GGTT
    which imposes a limit of 1024 new contexts. We want to leave at
    least 1/4 of the GGTT available for "important" stuff like scanout
    buffers, so never open more than 768 fds.
    
    v2: Unconditionally use the lower limit, as suggested by Daniel
    Vetter
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit be14c7bb04664a515df11c21f90a0f29c7756e6b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Dec 13 12:53:31 2013 +0000

    lib: Include the necessary stdint.h in gen6_render.h
    
    Instead of assuming someone else will do it.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 16531069f6b6fc4f8ac5ab537e9829406c348d7b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 12 22:46:18 2013 +0100

    tests: Document the Makefile variables a bit better
    
    Also, this is a test for the patchwork hook.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a68937ca3b49d2ea89d753b6aecc015df8ad76a5
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Dec 10 10:50:48 2013 +0200

    tests/gem_reset_stats: add reverse order in close-pending-fork
    
    Use own copy of gem_quiescent_gpu() so that test still works
    if it gets changed. Further improve the test by posting a batch
    to rings in reverse order.
    
    Suggested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 826c4effe624da4bf9337028e15894fbf0c2a3ab
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 12 09:26:58 2013 +0100

    tests: Move gem_reset_stats to the right place
    
    Binaries should only be added to the HANG target if they're completely
    broken. If they just cause a recoverable gpu hang as part of the test
    then they need to be somewhere else.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36f017dfd1a12bcdf03f928ca02e9053f3622efc
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Dec 3 15:03:02 2013 -0200

    tests/kms_setmode: avoid 2 connectors on the same encoder
    
    Don't try to set modes on two connectors that share the same encoder.
    That will just fail.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68463
    Reviewed-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 13ef9e8d5453f0902e3025981b9cfd68558ff7e1
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Dec 10 15:33:07 2013 +0200

    kms_flip: consolidate run_test_on_{crtc,crtc_pair}
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Acked-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1ac94b50af6ef0ab5607e85960880c284607b88a
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Dec 10 14:00:19 2013 +0200

    kms_flip: keep drm_fd open for the dpms restore exit handler
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=69161
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 2c6c4cf2a146855f1de6e3ca89f9df09da1024be
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Dec 9 17:28:50 2013 +0200

    kms_flip: fix seq_step for 2xcrtc subtests
    
    This also raises the absolute wait-for-vblank sequence step from 5 to
    10, just to make it consistent with the corresponding 1x subtests.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=69161
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f034817b401d9e0016cb8d2cddd9220c3a36463a
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Mon Dec 9 23:29:36 2013 -0800

    rendercopy/bdw: Fix length of a bunch of zeroed out packets.
    
    A bunch of packets were too short.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Cc: Ben Widawsky <ben@bwidawsk.net>
    Cc: Damien Lespiau <damien.lespiau@intel.com>

commit fdbdc7f325af9b42684fc6c7100cb57c52b31c4a
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Mon Dec 9 23:29:35 2013 -0800

    rendercopy/bdw: Emit 3DSTATE_WM_HZ_OP.
    
    We don't want depth/stencil fast clears or HiZ resolves; we want normal
    drawing.  Without this, the pixel pipeline doesn't work.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Cc: Ben Widawsky <ben@bwidawsk.net>
    Cc: Damien Lespiau <damien.lespiau@intel.com>

commit 8cd3a9d5438a5e6961823c15fd41ae02b09c7c9b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 10:30:59 2013 +0100

    ignore version.h
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit dda85fb108469e3d3c8ce19751f928c70e9fba4c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 10:18:32 2013 +0100

    tests: roll out igt_simple_init/igt_simple_main
    
    Also use igt_skip a bit more to simplify some of the tests.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ce1a9f918ef2415562bf441c2b7d886c6eb865c4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 09:58:28 2013 +0100

    tests: gem_close_race has subtests!
    
    Oops.
    
    v2: Found more.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ef9745b7faf42b1273c63de6f3e4afcbb896e568
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 09:41:48 2013 +0100

    lib: igt_simple_main/init for subtest-less tests
    
    Atm only used to print the version information.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f1c4ec936c97c4b2f906638180357c8786776316
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 09:26:08 2013 +0100

    lib: print uname information in the version string
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 831a47196dd4d8afbdd967353d689bf8aed4f3e6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 09:23:44 2013 +0100

    lib: Add host platform to version string
    
    This is import on systems where we compile 32bit tests that run on
    64bit platforms.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8c33e9ad111d27b84db4daac43809a807f262632
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Dec 6 20:35:29 2013 -0800

    intel-gpu-tools: Version information
    
    Provide two arguments version, and verbose, which allow printing from an
    arbitrary igt test. It will show system information (from build time,
    not runtime), as well as the git SHA being used.
    
    This will help reduce errors when people try to reproduce problems.
    
    As an example if I want to verify someone is running the correct version
    of a test, I could ask them to do:
    bwidawsk@ironside ~/intel-gfx/intel-gpu-tools (master)$ sudo ./tests/gem_exec_nop --verbose
    gem_exec_nop-git-3c5423b (Linux ironside 3.12.0-1-ARCH #1 SMP PREEMPT
    Wed Nov 6 09:06:27 CET 2013 x86_64 GNU/Linux)
    Time to exec x 1:		 35.000µs (ring=render)
    Time to exec x 2:		 28.000µs (ring=render)
    Time to exec x 4:		 20.000µs (ring=render)
    Time to exec x 8:		 14.625µs (ring=render)
    Time to exec x 16:		 11.188µs (ring=render)
    Time to exec x 32:		 11.125µs (ring=render)
    Time to exec x 64:		 10.328µs (ring=render)
    Time to exec x 128:		 10.172µs (ring=render)
    Time to exec x 256:		 10.234µs (ring=render)
    Time to exec x 512:		 10.232µs (ring=render)
    Time to exec x 1024:		 10.121µs (ring=render)
    Time to exec x 2048:		 10.151µs (ring=render)
    Time to exec x 4096:		 11.474µs (ring=render)
    Time to exec x 8192:		  9.432µs (ring=render)
    Time to exec x 16384:		  6.003µs (ring=render)
    Time to exec x 32768:		  5.029µs (ring=render)
    Time to exec x 65536:		  4.206µs (ring=render)
    Time to exec x 131072:		  3.630µs (ring=render)
    Subtest render: SUCCESS
    
    --verbose is provided for completeness, but doesn't seem too useful at
    the moement.
    
    bwidawsk@ironside ~/intel-gfx/intel-gpu-tools (master)$ sudo ./tests/gem_exec_nop --version
    gem_exec_nop-git-3c5423b (Linux ironside 3.12.0-1-ARCH #1 SMP PREEMPT
    Wed Nov 6 09:06:27 CET 2013 x86_64 GNU/Linux)
    
    I've put version.h in the root directory so that any subdir can access
    it. I've added the tests usage since it's immediately useful, and done
    easily via Daniels igt infrastructure work.
    
    v2:
    - Always print the version number.
    - We want to print uname at runtime.
    - Also prefix the i-g-t release version.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net> (v1)
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ea8c086919041d152b957773b0071e0cfafd3f78
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 10 08:07:11 2013 +0100

    lib: Always print errno in igt assert/require macros
    
    Useful to figure out why things have failed.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3c5423b9a74fe056cae1fce41fd3ad16584e9c8d
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Fri Dec 6 12:38:49 2013 +0000

    tests/gem_media_fill: Remove unnecessary include
    
    Causes trouble for Android builds.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ef0931724f58bd38fcd6e4261494a77ca125508f
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Dec 3 19:44:45 2013 -0200

    tests: add pm_lpsp
    
    QA has asked me "How can we make sure LPSP is working?". Now, instead
    of writing big paragraphs, I can just answer "make sure pm_lpsp
    works".
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit d5cdee95d5e8290adea2757230a7c10728bcd49a
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Dec 3 16:44:08 2013 -0200

    lib: rename some power well bit names
    
    I did the same change in the Kernel a few months ago. This should help
    not getting confused about which bit does what.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 3906a50ede5fa8d6edfca8bf81809fd0cf229a30
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Dec 6 09:16:58 2013 +0800

    assembler/bdw: Update write(...)
    
    write(...) is used for Render Target Write and Media Block Write.
    The two message types no longer share the same cache agent on GEN8,
    So a parameter is needed for cache agent. The 4th parameter of write()
    is used for write commit bit which has been removed since GEN7. Hence
    we can re-use the 4th parameter as cache agent on GEN8
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a4d3a6c013664da062cdff9ead7bc9ab86b33caa
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 6 10:48:25 2013 +0100

    lib: make igt_pipe_crc_start never fail
    
    It's what callers expect - pipe_crc_new is the function where
    we pass a potential failure back to callers.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c1b7e722dafdbddcce2bec230e3faf8b4fe6f123
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 6 10:47:10 2013 +0100

    lib: add igt_pipe_crc_check
    
    No need to duplicate this all over the place.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3e37eb3c6cae56bbd11016102c20a63ce58966da
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 6 10:45:49 2013 +0100

    tests: drm_open_any doesn't fail
    
    Or more precisely: It already has an igt_require. So we cant ditch it
    from tests.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5b3edb61528f26c05af20fccc8b44e8e3c5f7861
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Dec 6 13:02:51 2013 +0000

    gitignore: Ignore gem_media_fill
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit adbd83cdc31b10dd3cee5abc247018719aa74acf
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Dec 6 16:54:45 2013 +0800

    rendercopy/bdw: Set Instruction Buffer size Modify Enable to 1
    
    Otherwise it may result in GPU hang
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 4570e1b3dece3cebc45fdcff5f767f24bba67da1
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Dec 6 16:54:44 2013 +0800

    lib: Clean the batch buffer store after reset
    
    Otherwise the stale data in the buffer
    
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 509850bf48199c9ec88b9ae03154e809da283d13
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 6 08:39:31 2013 +0100

    tests/gem_reset_stats: document the new subtest a bit better
    
    I wanted to add this to Mika's original patch but forgot to git add.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5f40b23cfa0441fceba9d2cb6437724e880a8fc3
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Dec 2 12:52:08 2013 +0800

    tests/gem_media_fill: the assembly code for the shader used in the case
    
    The code is for reference only
    
    v2: Fixed the source register used for the send with EOT
        Fixed the posted destination operand for the send with EOT
    
    v3: Fixed the cache agent used in media_block_write message on GEN8
    
    Reviewed-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit c6835697253c07cfc6711bcfc9b071afa4a6144d
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Dec 2 12:49:14 2013 +0800

    tests/gem_media_fill: add support for gen7
    
    v2: Fixed the source register used for the send with EOT
        Fixed the posted destination operand for the send with EOT
    
    Reviewed-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit bd384c2ba38d8fccb8ce1b47b51d78cd64636b50
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Dec 2 12:36:15 2013 +0800

    tests/gem_media_fill: add support for gen8
    
    v2: Fixed the source register used for the send with EOT
        Fixed the posted destination operand for the send with EOT
    
    v3: Workaround: Insert MEDIA_STATE_FLUSH after MEDIA_OBJECT.
        Fixed the cache agent used in media_block_write message
        Set Instruction Buffer size Modify Enable to 1, otherwise it may result in GPU hang
    
    Reviewed-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 641267dd735e0ab9a5b8d083b4e1a2392b41ae07
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Nov 29 13:47:31 2013 +0800

    tests: add gem_media_fill
    
    It is to check whether media pipeline on render ring works. Codes
    are copied and modified from the rendercopy case which uses 3D pipeline.
    However media pipeline is simpler than 3D pipeline and there is few changes
    between gen6,gen7 and gen8
    
    Reviewed-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 8ac7b93b218af1544988331cd68c69ba4102c29f
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 16:02:52 2013 -0800

    gem_exec_faulting_reloc: Update gen8 BLT cmds
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e41928e6c9bb3f24833a827903f1afeda83592d6
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 15:35:01 2013 -0800

    gen8 rendercpy: temporarily disable
    
    We don't yet have this working, and the excessive hangs are annoying.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit da4258529faa064d78184b81b0dad9b3523e722f
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 15:00:44 2013 -0800

    Kill XY_COLOR_BLT_CMD
    
    Since we now always want a length for this command, and we've created a
    non-length variant, remove the #define to prevent further foot shooting.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 53b0c0431c89397789252b6649e70090d0458e95
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 14:44:23 2013 -0800

    gem_reloc_vs_gpu: Update for gen8 BLT cmds
    
    NOTE: Some subtests are still failing, but I haven't found the bug yet.
    At least this should help QA meanwhile.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b23d73788a7d494f99d74bafb762dd825deb6697
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 14:44:23 2013 -0800

    gem_persistent_relocs: Update for gen8 BLT cmds
    
    NOTE: Some subtests are still failing, but I haven't found the bug yet.
    At least this should help QA meanwhile.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ba0d651a017d9c633e7530b7d13ec6abaeaedceb
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 14:36:20 2013 -0800

    gem_write_read_ring_switch: Missed gen8 BLT updates
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 846a0f01b04eae501ced0f59e2bd18c5f4c774bb
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 14:34:35 2013 -0800

    drm_vma_limiter_cached: Missed gen8 BLT updates
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 672911d7149735ee51cbcff5540b8dcb8a2de321
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Dec 5 14:14:35 2013 -0800

    gem_pipe_control_store_loop: BDW update
    
    I've opted to not use the PIPE_CONTROL w/a for now. I am unclear if it
    is actually required (the test does pass).
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 40b586188c021db58a37ef23ac7d3e20547461a1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 5 15:49:58 2013 +0100

    tests/gem_ctx_exec: Add eviction test
    
    It didn't pan out at all since atm we don't evict context objects. But
    maybe it's useful for when that happens.
    
    v2: Actually test eviction. Took a while to figure that one out.
    
    And indeed the testcase now fails because we don't evict the previous
    context as we should.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1a95c710f9160692e3c29100600b1766388f93de
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 5 15:50:18 2013 +0100

    lib: add gem_available_aperture_size helper
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 33ef5284903d2b64c4744c208d9eccc54cba65a3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 5 13:41:51 2013 +0100

    tests/core_get_client_auth: new subtests for always authenticated
    
    This exercise the bug fixed in
    
    commit 1020dc6990168a5081ffad620c440e220f05b460
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Tue Oct 29 08:55:57 2013 +0000
    
        drm: Do not drop root privileges for a fancier younger process
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 365f4812b12323336e5b54befdbb2628b78713f0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 5 13:35:50 2013 +0100

    tests: rename get_client_auth to have a core_ prefix
    
    Also sort .gitignore.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 28e4b34b3d582e5489302c551bb83c2c1fdef2d3
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu Dec 5 13:01:58 2013 +0200

    quick_dump: Restore execture permission on quick_dump.py
    
    quick_dump.py execute permission was accidentally lost in:
    
     commit d56697233699844db9262a9a056b62b24b69dd39
     Author: Mengdong Lin <mengdong.lin@intel.com>
     Date:   Sun Aug 25 23:07:22 2013 -0400
    
        quick_dump/bdw: support Broadwell in device auto-detection
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 0b67c0c421fb736b5086f69a7cc5415f66c3d369
Author: Chon Ming Lee <chon.ming.lee@intel.com>
Date:   Wed Dec 4 20:44:33 2013 +0800

    Update dpio read/write to take in extra PHY parameter.
    
    The extra parameter is for future platform.
    
    Signed-off-by: Chon Ming Lee <chon.ming.lee@intel.com>
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit f5643c4a270baa4da33676950e36b1681d6d93dc
Author: Chon Ming Lee <chon.ming.lee@intel.com>
Date:   Wed Dec 4 20:44:32 2013 +0800

    tools/quick_dump: Update Baytrail DPIO names to reflect to the driver change.
    
    DPIO name still using old name.  Change it according to the driver name.
    
    Signed-off-by: Chon Ming Lee <chon.ming.lee@intel.com>
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 6b18ef826ffdb433eff00db974589897ac1dd527
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Wed Dec 4 16:39:09 2013 +0200

    tests/gem_reset_stats: add close-pending-fork
    
    This triggers use after free oops on request->batch_obj when
    going through the rings and setting reset status on requests,
    after a gpu hang.
    
    v2: Streamlined the test and added comments (Daniel)
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fb03ea7737dcda887e6eeca17afe7b91cf178b38
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Nov 26 09:26:17 2013 +0200

    lib/drmtest: Fix filedesc leak on gem_quiescent_gpu
    
    to not run out of filedescs as some tests call gem_quiescent_gpu
    directly.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ab7cbf9737fe35cc286520379e54ae9882ab402b
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Tue Dec 3 16:44:54 2013 +0000

    Revert "lib/drmtest: ducttape over fork race"
    
    This reverts commit a031a1bf93b828585e7147f06145fc5030814547.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    
    Conflicts:
    	lib/drmtest.c
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b34322fd15488eed8b7b20538cb1d50f43b4b132
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 3 17:57:06 2013 +0100

    Revert "test/gem_concurrent_blt"
    
    This reverts commit aee0dcb1ec2075991d310dd6f3fb5e50160847d1.
    
    Oops, accidentally commit a bit of wip changes.

commit 139c72f38a07c545f5a9ab5fa3750779987b9275
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Tue Dec 3 16:44:55 2013 +0000

    drmtest: Avoid wrong PID/TID after clone races
    
    Various C library implementations have various races with regards
    to caching getpid() or TID inside pthread_kill() implementations.
    
    For example see clone(2) glibc man page and pthread_kill
    Bionic C library source.
    
    Work around that by making sure correct PID/TGID and TID values
    are retrieved from the kernel when re-raising the signal. It
    can be delivered immediately after the clone system call while C
    library cached copies have not yet been updated.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4f990f3ad21eb375918dde7ad7c55ee3a75158c4
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Tue Dec 3 15:35:41 2013 +0000

    build: Skip kms_fbc_crc on Android
    
    We do not have GLib there so it does not build.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b92b397d5e4ffe10ed92fb2fc6711758ef5bcf89
Author: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
Date:   Tue Dec 3 15:09:57 2013 +0000

    build: Make sure asserts are enabled for tests
    
    Tests depend on assertions being enabled since they can, and do,
    contain actual test steps. They are also mandatory for ensuring
    sane test case behaviour.
    
    Signed-off-by: Tvrtko Ursulin <tvrtko.ursulin@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aee0dcb1ec2075991d310dd6f3fb5e50160847d1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 3 16:32:52 2013 +0100

    test/gem_concurrent_blt
    
    Limit working set size also with available ram.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=72255
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 26b336f81128b6c51e2757381c19d8cdf0b2c369
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 3 13:07:28 2013 +0100

    lib: Don't put functional code into asserts
    
    Android apparently compiles with NDEBUG. Which is strongly advised
    against, since the big pile of asserts mostly check correct usage of
    the helper code in testcases.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 38354ec4d890c384b5d91738f955ed6aed6d0c1c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Dec 3 10:12:37 2013 +0000

    drmtest: Fix weird signage on errno
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e7ec90a01ccd6a1dcda431065851e4629ddf73b4
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Nov 28 14:35:45 2013 +0000

    gitignore: Ignore kms_fbc_crc
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8d7f00146c3664f78a12f17af0fb5365c5a09396
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Nov 28 14:34:51 2013 +0000

    kms_fbc_crc: Remove unused variable
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 34f104aed7c14313c473bb7dafcda43f8b473903
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 22 18:14:26 2013 +0000

    rendercopy/bdw: Fix the 3DSTATE_STENCIL_BUFFER instruction length
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 09f144b649176bd80e31ccab65c9206931e6150f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 22 18:12:35 2013 +0000

    rendercopy/bdw: Fix the 3DSTATE_HIER_DEPTH_BUFFER instruction length
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e824fdd0339f5a649aaf54a74694836f55bb0e9c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 22 18:11:03 2013 +0000

    rendercopy/bdw: Fix the various 3DSTATE_CONSTANT_* instruction length
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit ffff68f08a63cb27fb558b54c7240b9bc4571f96
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 22 17:36:54 2013 +0000

    rendercopy/bdw: Fix the STATE_SIP instruction length
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b333d23e3ae1ee3d971446464bd02c4a8f1695da
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 22 17:29:02 2013 +0000

    intel_dump_decode: Support the INTEL_DEVID_OVERRIDE env variable
    
    This is the one that already works in libdrm, so don't disappoint people
    coming with expectations.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b226f43fe854ba1d0d8be7fe94f8692a93fa8aa8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 22 17:24:52 2013 +0000

    intel_dump_decode: Actually parse the -d option
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6c9fcc42bb3ef448fdea579795816f7321f8bd75
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Sat Nov 9 20:58:27 2013 +0200

    kms_fbc_crc: Add a CRC based FBC test
    
    kms_fbc_crc will perform various write operations to the scanout buffer
    whilc FBC is enabled. CRC checks will be used to make sure the
    modifcations to scanout buffer are detected.
    
    The operations include:
     - page flip
     - GTT mmap
     - CPU mmap
     - blit
     - rendercopy
     - context switch + rendercopy
     - combination of a page flip and each operation listed above
    
    v2: Use gem_sw_finish instead of drmModeDirtyFB after CPU access
    v3: Drop pwrite tests, call gem_bo_busy() after rendering, drop
        set_domain() calls after mmap access, wait for 2 vblanks
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 49f4860d5c94afffecfac3fcda999bea59d5f929
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Nov 25 17:31:13 2013 +0200

    lib: Add gem_bo_busy
    
    Move gem_bo_busy() from gem_wait_render_timeout.c to lib.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 525788a7360cca116b00819c14ee11c5913ffd42
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Nov 22 22:33:21 2013 +0200

    lib: Add gem_sw_finish()
    
    Wrap DRM_IOCTL_I915_GEM_SW_FINISH into gem_sw_finish()
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 725da6ee7458c5227a2bc9a1b686dad8f3c6d854
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu Nov 21 19:05:17 2013 +0200

    rendercopy: Pass context to rendercopy functions
    
    rendercopy does the batch buffer flush internally, so if we want
    to use it with multiple contexts, we need to pass the context
    in from caller.
    
    v2: Modify rendercopy_gen8 as well
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 3d371a7284798c96bb033a449acbad7cc29c2e29
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Nov 22 23:46:32 2013 +0200

    kms_cursor_crc: Fix crc readout after a subtest failure
    
    If a subtest fails, it'll leave the pipe CRC file open, which will
    prevent subsequent subtests from opening the file. Make sure the file
    is cloesed before trying to open it again.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit e1e5856b3ce09e9d8b0899e10cf7e3ef724679d5
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu Nov 21 19:48:51 2013 +0200

    lib: Fix pipe_crc->ctl_fd assert
    
    Use the correct fd in the assert().
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 6720dd4b2cb657705ccb31fd87d85cd6831ea2f2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 27 11:31:12 2013 +0100

    tests: Document exec naming convention for execbuf related tests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aa4ff912e3a7a84adcfc6bde9f6f2e9a4a1aaf82
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 27 11:14:19 2013 +0100

    tests: Document per-ring naming conventions
    
    Inspired by the recent pile of tests for the CS, which doesn't split
    up the tests into per-ring subtests.
    
    Cc: bradley.d.volkin@intel.com
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f6d9e160c9d7c76b37b49ce8918b055826806635
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Nov 26 11:32:33 2013 -0200

    tests/pm_pc8: add "resuming" state
    
    This one was missing. For some reason we never really detected it on
    our test suite. I checked the Kernel source and now we should be fine.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 0df88f5e647a38b52b46d010c54f2594c98d8018
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 21 18:19:07 2013 -0200

    tests/pm_pc8: try to reuse FBs when possible
    
    Instead of creating a new FB every time we need one, create a cache of
    FBs and reuse whenever possible. That means we'll create at most two
    FBs, and reuse them hundreds and hundreds of times.
    
    The kmstest_paint_test_pattern function takes about 1-2 seconds to
    run, and we'll avoid it whenever we reuse the FB.
    
    This makes the time taken to run the modeset-lpsp-stress subtest go
    from 2:29 to 1:29.
    
    A full "time ./pm_pc8 --quick" goes from 8:14 to 6:27.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 78227101e27471b81af69b54e2de203678243338
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 21 17:32:42 2013 -0200

    tests/pm_pc8: try harder to reach PC8+ residencies
    
    If we want to actually reach PC8+ states, we need to properly
    configure all the devices on the system to allow this. This function
    will try to setup the things we know we need, but won't scream in case
    anything fails: we don't know which devices are present on your
    machine, so we can't really expect anything, just try to help with the
    more common problems.
    
    Another reason for this commit is that I got tired of having to
    readjust the runtime PM policies every time I reboot my machine.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit e9363973b1fd973f562c101a58354e05ea2b48e4
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 21 15:09:58 2013 -0200

    tests/pm_pc8: rename some subtests
    
    Due to copy/paste error, we had 3 subtests called gem-execbuf-stress.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 6de398888e718800bae0f8cceef0998fbcb0a8d3
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Wed Nov 20 16:58:17 2013 +0200

    tests/gem_reset_stats: check non root access to reset_stats
    
    Getting global reset count needs to be tested with root and
    non root access.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2dd312cbb80be1d8c8a199248095db85eb85155d
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Wed Nov 20 16:58:16 2013 +0200

    tests/gem_reset_stats: stop rings after injecting hang
    
    To make driver report a simulated hang in dmesg.
    
    Suggested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0afe006eace7042e41689215ef27c82ac39cfb51
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Wed Nov 20 16:58:15 2013 +0200

    tests/gem_reset_stats: add support for BDW+
    
    For BDW+, there BATCH_BUFFER_START is 3 * 32bits in length and
    length needs to be encoded into the opcode.
    
    Suggested-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4fd0458be217841203bb18ed36bda4211bf0cfdf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 20 16:07:30 2013 +0100

    tests/gem_reset_stats: More macros!
    
    Instead of freaking out about negating the skip condition and punting
    I could have remembered that I've solved this already ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3c55a7df578610b0a5af6c14a6222c8aacc4a523
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 20 10:58:55 2013 +0100

    tools/reg_dumper: Add FW_BLC regs
    
    Debugging watermark issues on gen2/3 without them is hard ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ff193614b29308373ff3a54266159e3e194455a2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Nov 17 17:29:10 2013 +0100

    tests/gem_reset_stats: Use macros a bit more
    
    Just demonstration really.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36786e4a04c988184d3c04984f8e4bf7276b0bb1
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 15 07:03:33 2013 +0000

    gitignore: Ignore gem_reset_stats
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b5bfdbb1adfc18a9259da727a8872bef3811ca21
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Nov 15 00:10:52 2013 +0100

    tests: More bdw fallout
    
    This time misplaced parens.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit df5e880beaffe2ab214eba8cdf27d9459dd99ead
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 14 23:15:37 2013 +0100

    tests: More bdw fallout

commit f7abef6618ab5b8c9a0358f9b765f3445f9f6be4
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 14 14:53:15 2013 -0200

    tests/pm_pc8: add --quick option
    
    Not meant to be used on the QA cycles, but by developers who just want
    to quickly check things while doing development. Reduces the total
    time from 27 minutes to 6 minutes on my machine.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 482654674674cff4cfde4e3b68a4ff5ac125db08
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 14 13:59:49 2013 -0200

    tests/pm_pc8: add some more stress tests
    
    I was suspecting some problems just happen if we have a bigger wait
    than the current ones we have, so add a new WAIT_EXTRA flag just to
    see if the problems really happen. Also, add support for the wait
    flags on the gem stress tests, and use them.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 4fa9dde799793001e16bb99c499b6ff25c5e7250
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 14 13:50:06 2013 -0200

    tests/pm_pc8: remove compare_registers subtest
    
    It's not executed by default, and it's completely relying on Haswell
    registers and on internal knowledge of how the Kernel is supposed to
    work. Since we plan to test generic runtime PM on all supported
    platforms, maintaining this test so it works on all those platforms
    will be a pain. We already have some ideas on how to verify registers
    that must stay at specific values from inside the Kernel, so let's
    kill this test and wait until the proper Kernel code gets merged.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit a8610a4776e9bee9bf3fc275febaf78e3ec38c98
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 14 13:40:52 2013 -0200

    tests/pm_pc8: rename some variables
    
    Since we're not only testing PC8 anymore, we're resting "PM", rename
    some variables from something_pc8 to something_suspend, just to make
    it not-so-confusing.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 19c8d5f4ff887c55cb79b0417912ca137cf1b2e5
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Nov 14 13:35:43 2013 -0200

    tests/pm_pc8: fix debugfs-forcewake-user for PC8-only cases
    
    We don't wake up from forcewake when we only have PC8, but not runtime
    PM, so make the test pass.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 63e4dafb3252c5ee658572181b2d7a06a3a66969
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Nov 12 17:04:50 2013 -0200

    tests/pm_pc8: check for PC8 status, not residency in most cases
    
    If you really want to reach the PC8+ states and consequently get PC8+
    residency, you need to properly configure all the devices on your
    machine to allow PC8+, not just graphics. The current code for PC8
    checks for PC8+ residency everywhere, so if you have a machine that's
    not properly configured you'll fail every test. OTOH, even if your
    machine can't reach the PC8+ states, it will still try to enable and
    disable PC8, so we can try to test the feature even if we're never
    really reaching the PC8+ states. Also, if your machine does allow PC8+
    residencies, but some other driver/program decides to keep the machine
    busy while you're running the test suite, you'll also get failures
    which you shouldn't be getting.
    
    Based on the arguments above, I'm changing most of the subtests to
    only check for the PC8 status reported by sysfs (enabled/disabled),
    not check real PC8+ residency. I also added two tests that should
    check for PC8+ residency, so we will stil be able to diagnose badly
    configured machines.
    
    As a bonus, we won't sleep for full 5 seconds every time we expect PC8
    to be disabled: we'll just read i915_pc8_status, which quickly gives
    the result we're expecting. Considering how many modeset stress
    subtests we have in the program, we'll save a *lot* of time with this
    change.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit a4e96a95ca6468a7ece9fff1c8e1949691439ed4
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Nov 12 13:24:38 2013 -0200

    tests/pm_pc8: add support for runtime PM
    
    We try to detect if we have runtime PM or if we just have PC8. In case
    there's runtime PM, the functions that wait will wait for the runtime
    PM status reported by the sysfs file instead of waiting for PC8
    residencies to move.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit e39f2dbf98a637fffcc0af98ff54ee296738b0ad
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 14 15:50:07 2013 +0100

    tests/gem_cs_prefetch: Fix bdw damage
    
    v2: Fix more.
    
    Cc: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2d1119dfc0b0e0187f8ee89e144a391f7ccfedd5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Nov 11 23:04:11 2013 +0100

    lib: adjust oom_score
    
    This way the igt test will always be killed first (hopefully),
    preventing mayhem when one of the memory thrashing tests treatens to
    take down the entire system.
    
    To avoid any burden on test writers we adjust the oom score on
    drm_open, any of the fork helpers and subtest init. That should cover
    everything.
    
    v2: Fix it up.
    
    Cc: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4697cf4286f3ac3cc80744c3eac2c0579c215d6c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 14 11:08:13 2013 +0100

    NEWS: Make testing requirements official
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 217bd8d55e723d8bd6911d6c2ec8a9c42bdc8272
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Nov 14 09:47:47 2013 +0000

    tests/pm_pc8: Fix invalid pointer-to-integer casting
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=71592
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c37e9cf0c4bb7bae69693fa5d5d57cf30f8db87e
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Nov 13 18:23:06 2013 -0800

    gem_cs_prefetch: more gen8 integration fallout
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 9ef6769366222bc1c272336378d802737a5e9026
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Nov 13 13:28:17 2013 -0800

    gem_evict_*: Fix batch lengths, broken on gen8 integration
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1ff7427578eaf4fe472eb5424343e53ed283450e
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Nov 12 19:58:16 2013 +0200

    tests: add gem_reset_stats
    
    v2: check the ioctl pad and flag parameters
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e046c31f45e5901e7301fc9bfa2eb8d08b133883
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 12 12:18:33 2013 +0100

    NEWS: Android.mk updates!

commit 76c78c0aae0e31f11ed0fc860e64d437a687529d
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:45 2013 +0000

    build: New Android makefiles
    
    These form the basis of the new Android build system.
    
    v2: As suggested by Daniel Vetter, modify compilation flags to
    not error on return-type and not warn on sign-compare.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 25be105d7f0d9f657ce2adf2b4e659882fabb0eb
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:44 2013 +0000

    lib/igt_display: workaround a name conflict in Android
    
    PLANE_A/PLANE_B are used by libdrm's i915_drm.h in Android.
    
    v2: Changes suggested by Daniel Vetter and Damien Lespiau:
    - Pimp up comment with a FIXME.
    - Reword commit message.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 235ff9cf34f37d7eb778d72acd298b0cd8c01ab5
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:43 2013 +0000

    lib/drmtest: Get the correct basename() under Android
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5032e7bbdd342ac111ab2c57bf82b3dd4d26f208
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:42 2013 +0000

    build: Fix assorted compilation warnings
    
    As these files are compiled for every test, the warnings cluttered
    the Android build completely.
    
    v2: As suggested by Daniel Vetter, drop some of the fixes and fix
    the compilation flags instead.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit dce0d99a91b4be26c4cd07e7030615fdc46bf2c7
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:41 2013 +0000

    tests/gem_vmap_blits: Finish extracting gem_read
    
    It seems something escaped this commit:
    
    commit bd5cf9a07d17ce91dfaa3aa12d3f2c93815f0489
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Tue Jan 10 15:37:53 2012 +0100
    
        lib/drmtest: extract gem_read
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7076ea1bd6ec56cd7c85541a5d2b1bcdeaee85db
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:40 2013 +0000

    tests/drm_get_client_auth: In Android, use gettid() instead of syscall(SYS_gettid)
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1cd6913608a02f1b38ee44a084875efb9a360e4b
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:39 2013 +0000

    rendercopy: Remove rendercopy.c
    
    Move scratch_buf_write_to_png() to its only user, gem_render_copy.c.
    This makes the cairo dependencies easier to handle from the Android
    perspective, but if there is a good reason why this file exists I can
    try to handle it differently.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 37f26d17b1add333bacefe12fe7c7c1514b18e82
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:38 2013 +0000

    lib: Move kms stuff from drmtest.c over to igt_kms.c
    
    This makes cairo dependencies easier to handle. Otherwise, we
    would have to litter drmtest all over with "#ifndef ANDROID"
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    [danvet: Add missing _GNU_SOURCE to igt_kms.c and missing include to
    intel_sprite_on.c]
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4c7d5a52a7f4d79061e6cbb4627df3c194958fff
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:37 2013 +0000

    build: Move logic to tests/Makefile.am and away from Makefile.sources
    
    Makefile.sources is just a listing with all the sources, and the logic
    to use these sources goes into either Makefile.am (automake) or
    Android.mk (make).
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d80c6bdedba451adff843295367ebcd3d5e3b0c7
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:36 2013 +0000

    build: Fix missing "\" in tests/Makefile.sources
    
    Noticed by Damien Lespiau.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ea11d103e0617e33bce6f11328521d15b13422b0
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 12 11:50:35 2013 +0000

    build: list all test/tool/lib source files in their own Makefile.sources
    
    In this way, all source files are listed in Makefile.sources and included
    from Makefile.am, thus enabling the reuse from Android makefiles.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c50dd7c149a64b683977d14bc59262f70dda15fa
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Nov 11 22:38:36 2013 +0000

    gitignore: Ignore the newly introduced pm_psr
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 97e48cd619c4b201613ade0110f4db840a02007d
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Nov 11 13:21:58 2013 -0800

    gem_storedw_batches_loop: Fix for real this time
    
    Last patch to fix the breakage when adding gen8 had bugs in the reloc
    offset, and size field.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 4cc506f5eae66b812b7ad6e171524ff1d4f6feb4
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Mon Nov 11 15:36:55 2013 +0000

    tests/drv_suspend: Replace "&> /dev/null" with "> /dev/null 2>&1"
    
    Some shells do not understand "&>". For instance, my Ubuntu 12.04
    machine has /bin/sh pointing to dash, which makes a mess out of
    "&>" (to the point that the helper processes cannot be killed).
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b76a411c86512bc13cc501e71e6a212e828ed142
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Nov 11 09:44:13 2013 -0800

    gem_linear_blits: Fix blit command length
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 0d902cad5f95ec88c3925919215ef674ad38b398
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 19:33:08 2013 -0200

    tests/pm_pc8: reorganize main function
    
    Split the tests into categories. There are too many tests, it's
    getting harder to locate the ones we need.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit c527a29325bb914ea994ba8d9b38668ac8a39798
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 19:19:35 2013 -0200

    tests/pm_pc8: add some GEM tests
    
    These are more complete tests than the previous test_batch() one. We
    test CPU/GTT mmaps, pread/pwrite and batch buffers.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 79670c54eb0345464ffc3b56a27a35bbaa40b539
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 19:03:24 2013 -0200

    tests/pm_pc8: remove "batch" and "stress-test" subtests
    
    They use a bad BLT command and don't check its result. The next patch
    will add proper GEM tests that contain commands that work and code
    that checks if the command is really working.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 3775eae05165922585b5f5a1f34452d2ecbdac89
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 18:29:57 2013 -0200

    tests/pm_pc8: add debugfs/sysfs tests
    
    They don't really exercise any particular special code path for PC8,
    but the runtime D3 code will touch these code paths, so we'll need the
    tests.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 0fbb8346466d1a5cf692dc7a20687fee2b92cd57
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 17:09:43 2013 -0200

    tests/pm_pc8: add modeset-lpsp-stress
    
    It's the only one we were missing form the possible combinations.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 1bcae02e5c1486bfeeea674275fcd5c34bde3414
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 17:07:59 2013 -0200

    tests/pm_pc8: extract i2c_subtest_check_environment
    
    Just to make it more organized and consistent with the other tests.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 2fd0eb53aa33662f44d6373c4562ba7cd4523400
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 17:05:00 2013 -0200

    tests/pm_pc8: return void on test_i2c
    
    And do the assertion in the code line that actually verifies the
    condition we need. Makes it easier to debug failed tests.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 514efb507d5bb1cd8774b25f4419c948b575a36b
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Nov 8 17:00:40 2013 -0200

    tests/pm_pc8: move teardown_environment next to setup_environment
    
    So I can add/remove/verify code more easily.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit ffc43fcbc0bcd4f7b15afa204723876e258e4bc4
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Nov 7 23:03:04 2013 -0800

    gem_cpu_reloc: Fixed botched BLIT conversion
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 2c0fc4a2e43e4b7f1a5aacca37943f5259da4094
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Nov 7 23:05:01 2013 -0800

    gem_evict_alignment: Skip on GEN8 for now
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 7c41331364ea2ea7a5c7c76c0b66bbc590eade60
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Nov 7 22:59:25 2013 -0800

    gem_evict_everything: Fix broken blit generalization
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1d9512f6ce136edc23b78cb1352ec2a54152a42b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Nov 8 07:37:57 2013 +0100

    Revert "tests/gem_ctx_bad_exec: Check the errno, too"
    
    This reverts commit 4a6a59f314f61e1e4156bb13a65efabee31a76fc.

commit 26d237cdc28d66674fbc72ea725b24c30d08e80d
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Nov 7 21:00:55 2013 -0800

    gem_storedw_batches_loop: Update for gen8
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5dbc2630363d1111fd8081d0e3bcb1084cfba7f4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 7 13:54:01 2013 +0100

    tests/gem_overflow_reloc: Rework subtest enumeration
    
    Subtest names must be stable across all platforms for easier tracking.
    Hence move the gen8+ check into the subtests, using igt_require. This
    will auto-skip the tests on platforms where a given test doesn't apply.
    
    Also move the assignment of the relocation_type var outside of the
    fixture block. Fixtures aren't run when enumerating subtests (so that
    subtests can be enumerated on any platform, even without an intel gpu).
    
    So gcc has indeed been right with it's "potentially uninitialized" var
    warning after all ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4cf1d089ebc83ca21abbc9714bcebecf8a759714
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 7 13:43:43 2013 +0100

    tests/gem_reloc_overflow: Polish after Rafael's patch
    
    - use void* for generic pointer.
    - Fix const usage.
    - Shut up gcc about uninitizialized var.
    - Be paranoid about the moved tests and make double-sure that the
      batch would indeed work safe for the condition being tested.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c537c23efc8173d6526236b6b311ac44c10a14af
Author: Rafael Barbalho <rafael.barbalho@intel.com>
Date:   Wed Nov 6 18:12:12 2013 +0000

    tests/gem_reloc_overflow: Add gen8+ specifc tests
    
    Broadwell introduces 64-bit relocation addresses which add extra
    corner cases. The test was refactored slightly with some tests that
    were in the source offset tests were moved to the more generic reloc
    test area. The source offset tests are now gen aware and called twice to
    test both cpu & gtt relocation paths. In addition 2 new gen8+ test
    were added to the test:
    
    * Relocation straddling page a page
    * Insufficient space for a relocation at the end of the buffer.
    
    Signed-off-by: Rafael Barbalho <rafael.barbalho@intel.com>
    
    Conflicts:
    	tests/gem_reloc_overflow.c
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5fab0b8aa7352525f72e0594f05c09272bfc1a79
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 6 18:55:20 2013 +0100

    NEWS: Remove spurious -
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 65cdba94bc49c7016adfc011198aafc6194c4717
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Nov 6 09:49:32 2013 -0800

    NEWS: Restore the 1.4 release info
    
    I suck...
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a88cf4cbf1272e84b1a76b95da3e7a6eeb86065d
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Nov 6 09:48:17 2013 -0800

    NEWS: Broadwell will be in 1.6, not 1.5
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 02ee89006842e62cf0e29f1830ab304c224def63
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Nov 6 09:36:27 2013 -0800

    NEWS: Broadwell
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1c5e1d230b26e8eb5017ccf2b409ee43821c58fb
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri May 31 15:31:33 2013 +0100

    list-workarounds/bdw: Add Broadwell to the list of valid platorms
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d56697233699844db9262a9a056b62b24b69dd39
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Sun Aug 25 23:07:22 2013 -0400

    quick_dump/bdw: support Broadwell in device auto-detection
    
    This patch exposes is_broadwell() to python, to be used by device
    auto-detection.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ee4318931fdf968f98f47dd5d6a019b497037d16
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Thu Aug 15 23:58:21 2013 -0400

    quick_dump/bdw: dump audio debug registers for Haswell and Broadwell
    
    A new file "audio_debug_haswell_plus.txt" is created to define audio
    debug registers for Haswell and its successors like Broadwell.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Xingchao Wang <xingchao.wang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 0facfb2eb057c425fce21539d5cd25c3fe05eed8
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Thu Aug 15 23:58:05 2013 -0400

    quick_dump/bdw: dump audio configuration registers for Haswell and Broadwell
    
    A new file "audio_config_haswell_plus.txt" is created to define audio
    configuration registers for Haswell and its successors like Broadwell.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Xingchao Wang <xingchao.wang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 4f1410d978ad4b184b61bfa0559cfd9c35f1aa0f
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Feb 18 16:00:55 2013 -0800

    quick_dump/bdw: Just basic stuff for now
    
    Just the interrupt registers for now.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e35126d30ce6deda2b472498882195e37ecde81f
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Tue Aug 13 00:22:33 2013 -0400

    intel_audio_dump/bdw: dump audio M CTS readback register
    
    This debug register provides test feedback of the audio M values (DP)
    or CTS values (HDMI)
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Xingchao Wang <xingchao.wang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 97e5cf6006077d2ea1b58b5d7993756e9ec1c8b4
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Tue Aug 13 00:22:24 2013 -0400

    intel_audio_dump/bdw: dump audio DP and DIP FIFO debug status
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Xingchao Wang <xingchao.wang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit f075c3c0688c8f2d38bf49691110934e1c2d2032
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Tue Aug 13 00:22:14 2013 -0400

    intel_audio_dump/bdw: dump audio chicken bit register
    
    This patch dumps this debug register and parse the data for Broadwell.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Xingchao Wang <xingchao.wang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 8535720b4c9e595316bd5cf172c680ed15c709f4
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Tue Aug 13 00:21:57 2013 -0400

    intel_audio_dump/bdw: dump debug registers for audio immediate commands
    
    This patch dumps debug registers to check audio immediate command, response
    and status.
    
    The audio driver will fall back into immediate command mode if normal
    communication between controller and codec is dead.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Xingchao Wang <xingchao.wang@intel.com>
    [Ben: Small printf changes to remove compiler warning]
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 69cc00b072198264a8a6e7b1e870fe0cbad34ce6
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Wed Jul 17 13:29:17 2013 -0400

    intel_audio_dump/bdw: add support for Broadwell
    
    This patch renames Haswell audio dump function and reuses it for Broadwell.
    
    Since Haswell, audio registers are moved from the south display engine to the
    north display engine. And the audio register layout is same for Haswell and its
    successors like Broadwell.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c82872b0193c38994d09f2b78fca03264d52e614
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 27 14:51:48 2013 +0000

    rendercopy/bdw: Add AUB annotations for states
    
    This will hopefully help debugging things.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 91e589724694c23db9669b987a9411b7ae152d0d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 27 14:51:34 2013 +0000

    rendercopy/bdw: Fix the original implementation
    
    For posterity, I've squashed these commits against Damien's request.
    
    rendercopy/gen8: Fix the include guards
    
    rendercopy/gen8: Update the 3DSTATE_MULTISAMPLE opcode
    
    The opcode has changed in BDW.
    
    rendercopy/gen8: Add the VF_TOPOLOGY state
    
    The primitive type has moved out of the 3DPRIMITIVE to its own state,
    VF_TOPOLOGY.
    
    rendercopy/gen8: Fixup 3STATE_PS
    
    Update the state to the latest BSpec, in particular the thread count was
    using a wrong shift and we were missing kernel2 offset.
    
    rendercopy/gen8: Update 3DSTATE_BASE_ADDRESS
    
    This state has seen its fields moved around a bit, follow the BSpec.
    
    rendercopy/gen8: Allocate 64 VUEs
    
    The simulator screams at us if we try to allocate less than that.
    
    rendercopy/gen8: Surface states have to be 64 bytes a aligned
    
    rendercopy/gen8: Vertical/horizontal align 2 does not exist any more
    
    So set them to 4. This should not matter with rendercopy (which is not
    using compressed textures), but it makes the simulator moan.
    
    rendercopy/gen8: Make sure the vertex buffer is 8 bytes aligned
    
    rendercopy/gen8: Adjust 3DSTATE_VERTEX_BUFFERS for gen8
    
    The address of the buffer is now on 48 bits. Also the size was computed
    as offset + size where the field is really the size of the buffer
    itself, not the end address.
    
    rendercopy/gen8: Update the SF/SBE states for gen8
    
    gen8 has a few changes around those states and a new ones RASTER and
    SBE_SWIZ.
    
    rendercopy/gen8: Add the PS_EXTRA and PS_BLEND states
    
    rendercopy/gen8: Fix building with DEBUG_RENDERCOPY defined
    
    The forward declaration was missing the final ';'. Let's move the whole
    function at the top instead.
    
    rendercopy/gen8: Update the PS and CONSTANT_PS states
    
    rendercopy/gen8: Fix the red channel selection
    
    Make it output red.
    
    rendercopy/gen8: Update the write -1 shader
    
    With the latest assembler changes from Haihao.
    
    rendercopy/gen8: Remove blit.g8a
    
    There is no diff between this file and blig.g7a. Remove it.
    
    rendercopy/gen8: Fix the surface relocation offset
    
    The surface base address is now at dwords 8/9 so the relocation has to
    mirror the change.
    
    rendercopy/gen8: Add the VF_INSTANCING state
    
    Should work without, but doesn't hurt to add it.
    
    rendercopy/gen8: Set the Attribule enable field in PS_EXTRA
    
    When the SF is set up to output some attributes, the pixel shader also
    have to be told there's attributes to care about.
    
    rendercopy/gen8: Set the force bits to read URB offset/length
    
    If we want to override the URB offset/length in the SBE state itself, we
    need to set the force bits on (new in gen8)
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Acked-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3f0714a8607fb9b735ef8b16e0e1d1b308381a04
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 27 14:51:33 2013 +0000

    rendercopy/bdw: Add gen8_render.h to the file list
    
    So it gets distributed with make dist.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 3edfff16cde0033fbec3c2deb390212acff15d6d
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Feb 27 14:51:32 2013 +0000

    rendercopy/bdw: Initial gen8 rendercopy
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 66783e4c4f8b417e2f493e668cc4cac4ebda51a3
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Tue Apr 9 09:59:16 2013 +0800

    assembler/bdw: Add the DATA_PORT_CACHE1 shared function for Gen8+
    
    This is required to send some messages to data port in GPU shader.
    For example: media_block_write message.
    
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 88e5f1fdf847a0ce284b8a01ff2cf3fb36e2b07c
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Tue Apr 9 09:59:15 2013 +0800

    assembler/bdw: Add the support of align1 register-indirect addressing mode on Gen8
    
    Otherwise it can't compile the following GPU shader that uses the
    register-indirect addressing mode.
      >add.sat (16) r[a0.5,0]<1>:uw     r[a0.5,0]<16;16,1>:uw  0x0080:uw
      >add.sat (16) r[a0.5,32]<1>:uw    r[a0.5,32]<16;16,1>:uw 0x0080:uw
    
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 60c9b41e11bf4a3ea4935bd30f5c169ca24de06d
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:13 2013 +0800

    assembler/bdw: SEND instruction
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3d8d094efec8cd6efbcead9c2fd54067e1a83223
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Aug 16 15:24:25 2013 -0700

    assembler/bdw: Small cleanup
    
    This was originally part of:
    
    commit 62298329350b965e4bbfc558e5a4b1b3646742ea
    Author: Xiang, Haihao <haihao.xiang@intel.com>
    Date:   Wed Aug 14 14:21:16 2013 -0700
    
        assembler: error for the wrong syntax of SEND instruction on GEN6+
    
    I merged that patch separately, but this tiny hunk was leftover. In
    order to not muck in changing too much history, I am leaving this as a
    discrete patch, but with the changed commit message
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit bf05bd55310a1cde8efb835d4352c9f7c4fbcb60
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:11 2013 +0800

    assembler/bdw: Check & Refinement Engine message
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b6a33bdcce9dd3a9c55d9077b380f0d5ec6d0da3
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:10 2013 +0800

    assembler/bdw: Video Motion Estimation(VME) message
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit bf003ea63434e6acc91b7c0feec6aa2084983a16
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:09 2013 +0800

    assembler/bdw: Thread Spawn message
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 01c9654a65460eb6058b9060894a6e0e08ac2c80
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:08 2013 +0800

    assembler/bdw: Data port message
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 9d0287c252cb634db6edef990192cf77d2e120e6
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:07 2013 +0800

    assembler/bdw: Set thread switch for multiple branch instructions
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 216163b44d2285705d1af1db405be94d69a27fef
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:06 2013 +0800

    assembler/bdw: Set jip/uip offsets used by flow control instructions
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 2df4d3115af706c9e01b2d7ddb7b957239bfdc85
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:05 2013 +0800

    assembler/bdw: Disable mask control for advanced mode
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 220f165008469c943959cd9ac4958432e4d24d64
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Feb 22 11:14:04 2013 +0800

    assembler/bdw: Set math function
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 9cf8e1b79c9430171f3e627b298bf5e0f4f65c82
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 5 11:34:10 2013 +0000

    assembler/bdw: Use gen8_set_exec_size() to set the execution size
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f9e74fb49464b64ff9321e04e60dba40a7bc34b5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 18:25:45 2013 +0000

    assembler/bdw: Preliminary gen8 send & msgtarget support
    
    Still some work needed there, but enough for rendercopy.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit bc3bf098a98333aa00290663d7aec2e08270fc58
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 15:31:27 2013 +0000

    assembler/bdw: Add the start of a gen8 disassembler
    
    Directly taken from Mesa.
    
    v2 (Ben): Updated copyright
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 42d8d57c8c57232f6da4c47a03a5d9599976fa98
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 01:55:48 2013 +0000

    assembler/bdw: Make the validation functions take a brw_program_instruction
    
    This allows to use the same functions to validate operands on gen8 for
    now.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit af4d37de38f2ea0304b9618fbe8d85733663a6c8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 02:16:08 2013 +0000

    assembler/bdw: Support some basic gen8 intructions
    
    We should now support alu2 intructions with direct register addressing.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c3b36592af100672c9b52bdb141e38b7501a658b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 17:19:57 2013 +0000

    assembler/bdw: Add gen8_instruction from mesa
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f57f55e4daf2ef9c60242f22134f0f4e06117ace
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 15:51:34 2013 -0700

    tests/bdw: Port storedw_loop_vebox to gen8
    
    I chose not to implement this in the same way as Zhao Yakui because I
    was lazy.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 50a52f3ada8c52c584c23d107bf96fa34a47b46e
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Tue Apr 9 09:29:19 2013 +0800

    tests/bdw: Port storedw_loop_blt to gen8
    
    The code is from the storedw_loop_render.
    
    v2 (by Ben): Flush on the correct ring
    
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6a2d5059ff2ee3a6a999465b40a89e0c43d7fc12
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Tue Apr 9 09:29:18 2013 +0800

    tests/bdw: Port storedw_loop_bsd to gen8
    
    The code is from the storedw_loop_render.
    
    v2 (by Ben): Flush on the correct Ring
    
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 636f726b8030e2aec831193de25032d817267452
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 14 15:32:33 2013 +0000

    tests/bdw: Port storedw_loop_render to bdw
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3aad2ac83c76e8e05ac91d8b7dab465556ef9575
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 19:48:35 2013 -0700

    tests/bdw: pwrite_pread
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit d3480229341b78952dc1558dd8992d0f12f6998b
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 08:41:52 2013 -0700

    tests/bdw: gem_linear_blits
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit adc5a41f2b26c9c86b4e31d3fa90d95bceece8cf
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 08:41:52 2013 -0700

    tests/bdw: gem_pin
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit eb89ce7a7e3c54961025f19093ef79fd677a94b6
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 08:41:52 2013 -0700

    tests/bdw: gem_exec_blt
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 91f9e19fcd8df9cd23f54b92db83ecfffcaf47bf
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 08:41:52 2013 -0700

    tests/bdw: gem_evict_*
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6fa529ecd6055db55bc83a56cc83025b3f7dcfd3
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 18:15:21 2013 -0700

    tests/bdw: gem_cpu_reloc
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3e2937bd99a2c01fb303f68c7384fc8addd337ba
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 17:38:43 2013 -0700

    tests/bdw: gem_exec_faulting_reloc
    
    support gen8 style blits
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f4dfa37e8578419b94a7c84fbcea7d4b70aa68b9
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 15:02:07 2013 -0700

    bdw: Update obvious missing blit support
    
    This provides a macro that allows us to update all the arbitrary blit
    commands we have stuck throughout the code. It assumes we don't actually
    use 64b relocs (which is currently true). This also allows us to easily find
    all the areas we need to update later when we really use the upper dword.
    
    This block was done mostly with a sed job, and represents the easier
    in test blit implementations.
    
    v2 by Oscar: s/OUT_BATCH/BEGIN_BATCH in BLIT_COPY_BATCH_START
    
    CC: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>

commit 26f09a91897f6ad66b8fb8e0e5afb4c95954fbd2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 14 15:32:32 2013 +0000

    bdw: Add gen8 specific instdone bits
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 295137046a353ce43a0eff6b665eb1c63dc6145c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 14 15:32:31 2013 +0000

    bdw: Add gen8 to intel_gen()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 068c21b56b710e20215e2c2e515ac072b6affb9c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Feb 14 15:32:30 2013 +0000

    bdw: Add gen8 to the IS_9XX() macro
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a8221a53ecd295747c00f41b1cd6dbd15eec6b93
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Dec 3 11:36:46 2012 -0800

    pciid/bdw: Add Broadwell PCI ids
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f20ac4c8a10995d47a0bd853b3436e8427b58bff
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Dec 4 08:38:46 2012 -0800

    chipset: IS_I9XX macro
    
    This isnt useful in IGT, but it will allow us to keep the merge process
    with libdrm simpler.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 41b5fbfd60286fe8052a4b8d5eb5e315118282bb
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Wed Nov 6 13:06:11 2013 -0200

    bump version to 1.5 and add the release date
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit ad648d9debf4c2a751b6d240cfed9da8391913af
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Oct 1 15:12:37 2013 -0300

    tests: pm_psr
    
    Check on debugfs if PSR is supported by panel and matching all conditions in
    hardware. In this case PSR must be enabled and performance counting increasing
    
    v2: check if performance counter is really increasing.
    v3: respect new naming convention
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 27f1a7dd4bf67cd0fc892e9de3254a65f2c48110
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 6 15:06:15 2013 +0100

    NEWS: drop_caches improvements
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d9381c8a6629a82cb27bfcc4fc29861810fe35f1
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Nov 5 07:44:20 2013 -0800

    quick_dump/vlv: add DPIO_CTL to the dump
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit aa252d0e009b8c94ff875a69a4ca3640d1a5c1c9
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 5 14:15:19 2013 +0000

    lib/drmtest: Retire requests via drop caches after gem_quiescent_gpu
    
    This helps make sure that the GPU is really quiescent by getting
    rid of any residual stuff.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4a6a59f314f61e1e4156bb13a65efabee31a76fc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 5 11:56:50 2013 +0100

    tests/gem_ctx_bad_exec: Check the errno, too
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 466da453aee6bc6218b5f7ebf22223c269c176b7
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 5 10:57:31 2013 +0000

    gem_flink_race: Assure no pending requests before object counting
    
    Same thing that was done for prime_self_import.
    
    v2: Move igt_drop_caches_set() call inside get_object_count() to make
    it clearer why we want this.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ece21fa86502352a251d313dc22b325ac57f2ee4
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Tue Nov 5 10:56:24 2013 +0000

    prime_self_import: Assure no pending requests before object counting
    
    We don't want a previously used object to be freed in the middle of a
    before/after object counting operation (or we would get a "-1 objects
    leaked" message). We have seen this happening, e.g., when a context
    from a previous run dies, but its backing object is alive waiting for
    a retire_work to kick in.
    
    v2: Use igt_debugfs facilities for drop cache.
    v3: Move igt_drop_caches_set() call inside get_object_count() to make
    it clearer why we want this.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Cc: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eeaf013214698c62a99ff9a83764f1369acd40b0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Nov 3 11:28:50 2013 +0100

    NEWS: Roll in updates.

commit 682b674a673da911c4fa0526596877a28d358471
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Nov 2 12:42:21 2013 +0100

    tests: establish core_ prefix
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 51dc087864c385ebd469c2764b60b40363fbe022
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Nov 2 12:35:44 2013 +0100

    tests: Use kms_ prefix a bit more
    
    I was a bit on the fence about the basic pipe CRC test since that
    doesn't really test kms, but debug infrastructure in debugfs.
    
    Otoh running this one for a full kms testrun is always good, to make
    sure that all the other (real) CRC based tests work sanely.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5738f1952d8b62bb2dea643ae8cfa3c308a45797
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Nov 2 12:27:24 2013 +0100

    tests: establish pm_ prefix
    
    Imo power management, power consumption and performance are tightly
    enough coupled that we can throw them all into one bin.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c32032111aa701061acb7c3247b6cf7696272501
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Nov 2 12:22:37 2013 +0100

    tests: estbalish drv_ prefix
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d983f9934513740f72bd6f9e3ad1007e60435aec
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Nov 2 12:17:49 2013 +0100

    tests: Start to document naming conventions
    
    Just a start and we need more work here. Some follow-up patches will
    clear up some of the historical confusion.
    
    While at it rename the pc8 "basic" test to "rte".
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 66c46ecc80ab16a90ed3dd845fa68a58323622af
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Nov 2 12:54:35 2013 +0100

    Update .gitignore a bit
    
    - Ignore build-aux/
    - Cleanup ignores for assembler/

commit af9d1b5cdb4cc506a7f171a49d1103998b5a2f9e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Nov 4 18:11:29 2013 +0100

    lib: drop return value from igt_drop_caches
    
    No one actually cares, everyone expects it to just work.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5f0ab94c3fca1437f10812e88136f82c3396a99e
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Mon Nov 4 16:30:47 2013 +0000

    lib: Add igt_drop_caches_set()
    
    This is basically a "drop cache" interface to the igt_debugfs
    facilities. Also, update existing users.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Cc: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a97402e89ac492e2cbdd4b194638a7c0e898a4a3
Author: Oscar Mateo <oscar.mateo@intel.com>
Date:   Mon Nov 4 16:30:46 2013 +0000

    tests: Fix "-thrashing" and "-thrash-inactive" distinction
    
    A typo in the relocation tests made both sub-tests perform the
    same action: drop *all* caches.
    
    Signed-off-by: Oscar Mateo <oscar.mateo@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 163d85d5f0c4e8dfecb93c3a01c7f90da744aa79
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Nov 1 22:18:20 2013 +0100

    tests: igt_no_subtest
    
    Yet another check for the library.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6d73fdbfd2d8944702459f7412790aab32677c48
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Nov 1 18:31:59 2013 +0100

    tests: Add a Makefile comment about the expected failures in igt_ tests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8f718b1cd80b13d9044956a5b19668faf4320a52
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 17:05:28 2013 +0100

    tests: Add a test template
    
    Requested by Paulo.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 071e9ca1ca4424ba35edec0246918efdd0528d76
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 16:23:26 2013 +0100

    lib: add igt_main macro
    
    In the past new testcases with subtest often forgot to add the call to
    igt_exit at the end of their main() function. That is now caught with
    a bit more obnoxious asserts, but it's still a nuissance.
    
    This little igt_main macro takes care of that (and also of calling the
    subtest machinery initialization code correctly).
    
    If no one objects I'll roll this out for all the simple cases (i.e.
    those tests that don't have additional argv parsing on top of the
    subtest machinery).
    
    v2: Roll it out across the board.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 223a61e12e119d96484ed05c563d1781fd613a4e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 17:16:33 2013 +0100

    lib: make igt_install_exit_handler never fail
    
    Most callers didn't bother checking, so just move the asserts into
    the function itself.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f0cf2df85ca3f9d900b21db9c8744a99e8f60a0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 17:02:41 2013 +0100

    lib: make igt_set_vt_graphics_mode never fail
    
    All tests agree that this is a letal failure, so no point
    to pass it back to callers.
    
    Also add some igt_require calls for the drm_fd where I've
    noticed that it's missing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0369fe19b8b8e19e0815361b5187eba81cb2d71a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 16:09:46 2013 +0100

    lib: consolidate pipe crc exit handler
    
    No need to sprinkle this all over:
    - exit handlers will only be registered once
    - they're always called when exiting, so no need to explictly call
      them.
    
    This allows us to hide all the pipe crc cleanup in the library.
    
    Cc: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 43def94f3213634c2c798049cb17efc14801a9ed
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 16:06:40 2013 +0100

    tests/kms_cursor_crc: rework to auto-skip connectors
    
    Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8bb5730d28122fe5c142815f1ad32c351bf36cfe
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 15:37:05 2013 +0100

    tests/debugfs_pipe_crc: set mode before creating CRC helper
    
    Otherwise the automagic skipping for DP ports on gmch platforms
    won't work.
    
    v2: We also need to just skip that connector, not the entire subtest.
    
    kms_cursor_crc still needs to be updated.
    
    Cc: Damien Lespiau <damien.lespiau@intel.com>
    Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 842007154da76dc2684077a4080c875bb3068f32
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 31 14:02:44 2013 +0100

    tests: use "auto" pipe CRC source
    
    Makes stuff work on DP ports on gmch platforms automatically.
    
    Cc: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0b51de8dd02dc2502fa0614c3a29959a066584cc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Nov 1 18:29:33 2013 +0100

    lib: add more self-tests around the igt_exit checks.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e14596a6d074c5e79343633bf3c21a2f2961269d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Nov 1 18:21:08 2013 +0100

    lib: fix igt_exit assert when only listing subtests.
    
    Ooops. Reported by Paulo. Also add a new testcase for make check to
    make sure this actually works.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9e21c255e74128a16ef5c2dd4b1903d1d2c417eb
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 1 16:25:10 2013 +0000

    lib: Don't forget to close the pipe ctl fd in igt_pipe_crc_reset()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b1945f8c46c1305dd882241711471dbea90f0c2b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Nov 1 15:47:42 2013 +0000

    gitignore: Ignore recently introduced tools and tests
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bd0aa100ca438fa68cf07dc55ec6dbfe7391ba6c
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Oct 21 11:45:41 2013 -0200

    module_reload: remove snd_hda_intel
    
    The audio driver uses the power well provided by our driver, so on
    Haswell we can't "rmmod i915" if we don't "rmmod snd_hda_intel" first.
    
    The problem with removing snd_hda_intel is that we also need to kill
    its users. On the specific machine I tested, the only user seem to be
    alsactl, but on other machines this may change. IMHO we should leave
    the "kill user space" step to whoever is running the script, but
    Daniel asked me to put it here so we have a better chance of Just
    Working on QA's machines.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=70336
    Requested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 3c6a7e780b08cf7cf9e7700a2a882014f947a795
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu Sep 19 18:14:54 2013 +0300

    Add VGA register read/write tools
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 164b540936b6cc6d67151793efdc6261975cadfc
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Thu Oct 31 14:16:41 2013 -0700

    debugfs_pipe_crc: skip on simulation
    
    As with other display tests, they're not working (and in this case,
    cause hangs).
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 2addb2744f2373cd327a8633330bf27fd11ce621
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Oct 29 14:02:43 2013 -0200

    tests/pc8: remove some printfs
    
    They pollute the output, which makes it harder to see which tests
    failed or succeeded.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit b6645ee2e27beb2d8e69402611938c288ab35a47
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Oct 29 11:14:50 2013 -0200

    tests/pc8: clarify modeset_subtest arguments
    
    My tiny little brain can't properly process 3 unnamed boolean
    arguments.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit abb334061763652eec274831cda87dab9f8f1d15
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Oct 29 11:00:45 2013 -0200

    tests/pc8: add modeset -stress-no-wait tests
    
    Used to trigger a racing condition between mode setting and
    enabling/disabling PC8. The modeset-lpsp-stress-no-wait test should
    fail on Kernels without the fix I just wrote today.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 7a5275f8a5a5768da038c87efd344c65302dfc93
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Oct 28 19:11:31 2013 -0200

    tests/pc8: add modeset-lpsp and modeset-non-lpsp
    
    The goal of these tests is to exercise the combination of power well
    enabling/disabling and PC8 enabling/disabling. The modeset-non-lpsp
    test exposes a silent bug on the current code that can just be
    detected with the Runtime D3 patches. The Kernel patch that fixes the
    bug will add a WARN to unmute it on the PC8-only case.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 87cf5571fc206f6d87195d574b2ec2092e0c2b1f
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 29 20:01:43 2013 -0700

    gem_suspend: Skip on simulation
    
    Simulation has proven flaky across both reset, and s3/4
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5382aca1afb33614270c536835e3da61b4e2d123
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 29 20:01:14 2013 -0700

    gem_close_race: Fix linker flags
    
    Seems the -lpthread was missed in
    commit 8f771f3facae133bb72216fa05c74bc817920b6d
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Tue Oct 29 14:21:29 2013 +0000
    
        gem_close_race: Also test random closing of active fd
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8f771f3facae133bb72216fa05c74bc817920b6d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 29 14:21:29 2013 +0000

    gem_close_race: Also test random closing of active fd
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5d24a67c1b885084e0f0d51631ed0c5227bcb112
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 29 11:29:00 2013 +0100

    lib/drmtest: Scream harder when igt_exit isn't called for subtest tests
    
    We really need this since otherwise the magic return value handling
    for running testcases with piglit (or on QA's validation
    infrastructure) doesn't work properly.
    
    We need to be careful though to only install this check on success.
    
    See also the previous commits to sprinkle igt_exit() calls over all
    the tests that missed it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 780807099a482fdcbaea40af7117127b6d92beae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 29 11:15:43 2013 +0100

    tests: Use igt_exit for tests with subtest
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ccb1b5888dd18a8227a4e09a5674abca15931c87
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 29 09:25:44 2013 +0000

    gem_close_race: Bump the workload
    
    Emit more work per client and many more clients in order to increase the
    chance of racing i915_gem_release() and i915_gem_retire_requests()

commit 51783fc7f9aacd20f13bd7a12c5eb9194176ab14
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 29 08:38:30 2013 +0000

    gem_close_race: Tidy up call to execbuffer
    
    Pass the right pointer to the execlist would be a good start.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 7b8784dccf303c4fd9c6a1c2e3f9fae7d00fde2f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 29 07:47:33 2013 +0100

    tests/kms_cursor_crc: Use igt_exit
    
    Otherwise the exit codes are all bogus.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 020600b77dfc179d99bb3d088927dcdf6d432cfe
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Oct 24 15:27:12 2013 +0100

    tests: Convert the ctx test to use render nodes when possible
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d71ecdbf5de0bb95551c6a5def4d42e85b4d6616
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Oct 24 15:21:59 2013 +0100

    tests/gem_render_copy: Use render nodes
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 69c200b0bb39bb585f46fa5c779c97166779cd93
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Oct 24 15:19:32 2013 +0100

    lib: Add a drm_open_any_render() that will try to use render nodes
    
    I was fedup with having to run my tests as root and not being able to
    use my usual setup for tests that only exercise the GT part of the GPU.
    
    Render nodes to the rescue!
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8329acb752721ad93dab70624b136f1befd4be3f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Oct 24 15:04:26 2013 +0100

    lib: Close non intel fds in drm_get_card()
    
    When going through card%u devices, close the ones that we were able to
    open but weren't intel devices.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 949ce5b8a1054fcc1c375ee4b801c291483e2005
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Oct 24 14:08:17 2013 +0100

    lib: Remove stale comment
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 90ecf062d10a3ed1bb08cb887aea78b385072584
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Oct 28 09:10:46 2013 +0000

    tests: Add gem_close_race
    
    The intention is to exercise #70784. Yet the first challenge is make the
    test suite happy.

commit 37c02cfa5c4ff2fa6dd833efdcf880416139d096
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Oct 22 15:03:48 2013 +0100

    gem_render_linear_blits: Remove aub dump support
    
    It's much easier to follow the new gem_render_copy test and acquire a
    aub dump from it.
    
    Suggested-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 7ad0cf585b4f4c0391646c0eaea6e7e8e2e88cca
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Oct 22 14:57:57 2013 +0100

    tests/gem_render_copy: Add aub dump support
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 145722187c30a60456df046981087f84f3c0b601
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Oct 22 14:26:38 2013 +0100

    tests/gem_render_copy: Only dump pngs when the -d option is given
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9cd092fac149eb8cfe16e3652f1d535fb0698329
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Oct 22 14:20:10 2013 +0100

    tests/gem_render_copy: Add a simple render copy test
    
    The goal is here to both: demonstrate a simple usage of render copy with
    the possibility to write pngs to visualize what it's doing and to
    provide a test bed to port the render copy function to new
    architectures.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c3707ab387500b534224dd563297a7bbb26aeb83
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Oct 22 14:18:26 2013 +0100

    lib: Add a function to dump a scratch buf into a png
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 13ebe3c01410c2dc0d90a4a1c33cbf143c51056c
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Oct 22 12:35:59 2013 -0200

    build: include intel_l3_parity.h to its _SOURCES to fix make distcheck
    
    and make sure intel_l3_parity.h will be included in tarball.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 50c2653381ad0ff5390932df1385aeb20b0d03bc
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Oct 22 11:28:56 2013 -0200

    build: Fix small typo that was breaking make distcheck
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit fa05c0bcedd909bf8b85c02ca0f533921e8256b4
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Oct 16 23:07:34 2013 +0300

    kms_flip: Add test for -ENOENT
    
    Make sure we get -ENOENT when we pass a non-existing fb_id to
    the page flip and setcrtc ioctls.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 08c27e3e3899f5063ac3eef44a4dbb6201568b47
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Oct 18 17:44:42 2013 +0300

    kms_cursor_crc: Add a cursor test using CRCs
    
    Use the display CRC support to validate cursor plane functionality.
    The test will position the cursor plane either fully onscreen,
    partially onscreen, or fully offscreen, using either a fully opaque
    or fully transparent surface. In each case it then reads the PF CRC
    and compares it with the CRC value obtained when the cursor plane
    was disabled.
    
    v2: Loop over all connectors and crtcs
        Use igt_wait_for_vblank
        Test more corner cases
        Add some progress indication ala. kms_flip
        Make it work for pf and pipe sources
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 0786d5cc8f258c7f403a22d8234ebb81837baa70
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Oct 21 18:45:03 2013 +0300

    lib: Check pipe source validity in igt_pipe_crc_new()
    
    Have igt_pipe_crc_new() check whether the selected source is actually
    supported.
    
    v2: Make debugfs_pipe_crc.c not crash
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 987bcd9a5b51db312588163d7f9a21654eb799e4
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Oct 21 19:37:33 2013 +0300

    lib: Allow pipe_crc_free(NULL)
    
    Prevent pipe_crc_free() from segfaulting on NULL ptr.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit 471ec64de83b21316cd7f4d86a9337f4d017a907
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Oct 18 21:43:14 2013 +0300

    lib/drmtest: Add kmstest_paint_color_alpha()
    
    kmstest_paint_color_alpha() just like kmstest_paint_color() except you
    also get to specify the alpha channel.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>

commit e98a06d593ba879a5292451812be773b4157fe21
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Oct 21 13:19:57 2013 -0200

    intel_reg_dumper: fix "enable" at hsw_debug_lp_wm
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit b7ccea08e6e704d0e6c0e72b3c44d4fa6e97fa76
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Oct 21 15:55:52 2013 +0100

    gitignore: Ignore intel_opregion_decode
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6d3c917e8988979e1328103c5f030371a854e5b1
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:18:14 2013 +0300

    intel_opregion_decode: decipher bclm table
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>

commit 76be74975a88fe5ed12744d7735caef7588c69fb
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:18:13 2013 +0300

    intel_opregion_decode: new tool for decoding graphics opregion
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>

commit a360e3993b9a6800432d7e1b4591d2dd6bf2ddb8
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:15:28 2013 +0300

    intel_bios_reader: dump all sections, including unknown ones
    
    We still need to dump some of the known sections explicitly due to
    dependencies on information extracted, such as LFP data pointers and
    panel_type.
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>

commit 419d053fd628b66fe0d838642ced6e9980f6282b
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:15:29 2013 +0300

    intel_bios_reader: dump all edp device info structs
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>

commit a4180df32a74c8aaa7a58e1cf60d240905e01852
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:15:27 2013 +0300

    intel_bios_reader: prepare for dumping all sections
    
    Dump sections through a table based on the section id.
    
    Hex dump the section. This works also for unknown sections.
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>

commit 8596a4b8869bb17a4eed31815b2b63ef973c71c7
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:15:26 2013 +0300

    intel_bios_reader: add size temp variable as a shorthand for finfo.st_size
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@intel.com>

commit 58ac17d821cb3fa6300ca58d7f387c41a81d449c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Oct 21 09:31:18 2013 +0100

    intel_error_decode: Fix X/Y fence for gen2/3

commit 4acaf0004d43dfb51ba60d7990cef22a54b56727
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 20 20:37:21 2013 +0200

    tests/kms_flip: More leeway for dummy load tests
    
    At least on my old atom i945 they take forever. Also, metric tons of
    pipe B underruns while running rcs-flip-vs-panning. No idea why that
    happens.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3d2d73ed450983c427a839b10527bd4659fbb708
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 20 19:24:08 2013 +0200

    kmstest: don't pollute stderr for impossible output configs
    
    Otherwise on machines where the only output available is restricted to
    one pipe we'll have tons of "warn" results for no gain in the piglit
    runner. All tests that use the kmstest helpers already check the
    return value and do something sensible (like skip the tests if there's
    really no config available).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 45cd89ab3d18dc2c869951db4134c1e5dde45c1b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 20 16:11:49 2013 +0200

    tests/kms_flip: Unconfuse the framenumber step checking
    
    We run flips and vblank waits in parallel, which means the step
    for each is the maximum. If we'd switch to an interleaved scheme
    (to be able to check the correlation) we'd need to add them instead.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8e11f8778adff693f3a0246fe0e87be4e3ddb83f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 20 16:10:32 2013 +0200

    tests/kms_flip: no absolute vblank wait on the first frame
    
    We don't have a reference value for the vblank counter yet, so
    will end up waiting for a long time for the vblank counter to
    wrap around again.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e313dee22b8edf1429ce861e5974b09bb2ab1b68
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Oct 19 16:21:18 2013 +0200

    tets/kms_flip: disable correlation check
    
    It's broken since it doesn't take the order the events arrived into
    account and so will fall over for longer seq_step values in the vblank
    event: Since the flip completes right away, but the vblank later on
    they won't have the same timestamp.
    
    For now just give up, we could resurrect this by strictly alternating
    between a flip and a vblank wait.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f698984bae5e907eedfa335b463ab717a45ecc2a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 18 18:43:30 2013 +0200

    tests/debugfs_pipe_crc: new subtest to check CRC frame numbers
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 09e9f0b216dd7ee06b857ce5fd5cc9cb5ca491dc
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 27 14:51:29 2013 +0000

    rendercopy: Add a way to dump an .aub file with the rendercopy bos
    
    v2 (by Ben): Remove libdrm dependency since intel-gpu-tools now requires
    a higher version anyway. Remove associated #ifdef ENABLE_AUB_DUMP
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 5038b7e4c243b4e9d07db34a33c70adbec044370
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 18 17:53:05 2013 +0200

    lib: fix the assert in igt_stop_helper
    
    So much for developing different patches on different machines and
    then not retesting after rebasing. Reported by Ben on irc.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 768e32a3ab5e45cc52558fb544d392729e02f1ae
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Oct 18 14:29:20 2013 +0100

    lib: Don't wait for a vblank when enabling the CRCs
    
    This was a previous attempt to solve the first CRC being bogus. We know
    wait for it and discard it at the end of the function.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5e3047ce522ed57dd6d06bd7512d792bcf601855
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Oct 18 12:27:21 2013 +0100

    tests/debugfs_pipe_crc: Test the read CRCs are not null
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 43f5384c083adb2ae99fb138099130bf450ebd01
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 17 14:18:35 2013 +0200

    tests/debugfs_pipe_crc: test all connectors
    
    Diff looks a bit ugly, but it's just due to the added indentation.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 070904bf59abb3ce8ff1d3125cdfae606a5472ed
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 17 14:10:43 2013 +0200

    tests/debugfs_pipe_crc: test all pipes
    
    And skip them if there's no suitable connector.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e6ad75c1c4763f649f19c367b041ce7d13dcc789
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 17 14:09:52 2013 +0200

    tests/debugfs_pipe_crc: fix fb leak
    
    Also remove the unused connector_t->mode.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 173a4cf1da300af4dc3c7c0f2ea085d19e1ce90b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 16 22:49:24 2013 +0200

    tests/debugfs_pipe_crc: fall back to PIPE source
    
    With PLANE1 and PIPE CRC sources the test will work on all currently
    shipping (and planed fwiw) platforms.
    
    Also add all the other new sources for non-ivb/hsw chips.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 548323c87d2f11384023ae3b064d6eb793d23115
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 16 19:52:00 2013 +0200

    lib/drmtest: Check that helper processes have died correctly
    
    If the test gets stopped sometimes a helper process falls over.
    We need to report this. Since we currently don't track helper
    process to precisely we can't shut up the 2nd test failure messge.
    This shouldn't happen anyway.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1cefd198da32d02ba7ae737866569dd56112158c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 17 10:48:29 2013 +0200

    tests/ZZ_missed_irq: Fixup SOURCE_PATH handling
    
    Copy the trick from ZZ_hangman of just cd'ing into the old working
    directory in a subshell.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=70561
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a12d4a713544ff1ff89ca176d7e94e16944adb56
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 16 22:01:34 2013 -0700

    gem_ctx_bad_exec: skip vebox when appropriate
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit befabe241a0c01dacc230b22a488d06df76bba5e
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Oct 8 21:19:06 2013 +0300

    README: list some of the dependencies
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 0412f32670642f88bf6de6afce9179eefe608f13
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 16 14:12:49 2013 +0200

    tests/debugfs_pipe_crc: correctly skip on unsupported platforms
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4ba97ddf96136d463e5b584fe997d6de698c0a74
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Oct 9 11:47:43 2013 +0100

    debugfs_pipe_crc: Let's check CRCs!
    
    Let's add a new test that sets a mode, wait for a few vblanks (3) and
    then make sure we read 3 identical CRCs.
    
    Some subtests check for various parsing errors.
    
    In the process, improve the debugfs helpers to deal with CRCs.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f673775fe8a7d9faeaa80f4af9677fecf16e4b17
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Oct 11 18:31:20 2013 +0100

    lib: Add igt_wait_for_vblank() helper
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d4e7ddf15d69fdb17d25446edcd6c73a684b759b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Oct 9 23:53:15 2013 +0100

    lib: Make igt_debugfs_open() take the mode as argument
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 952d4b0a9c835d1d2e4e2c1b8727d225c805c8c6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Oct 9 17:54:11 2013 +0100

    lib: Add a igt_display.h with a few enums and defines from the kernel
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 252dca1c7b41410e7ff4ab61590a1433a8747e1f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Oct 9 17:42:52 2013 +0100

    lib: Add kmstest_paint_color()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5a97ea91e11a4d2a2cfd46f18e0a69c2f0f279af
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Oct 9 13:42:13 2013 +0100

    lib: Add a igt_assert_cmpint()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit ffa2107abc46bb891ee2e0f2f73944626b9c67a9
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Oct 9 11:45:31 2013 +0100

    lib: Add igt_debugfs_fopen()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 51b63e334c5a4271b845d2eba0486c2b4f2bbda0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Oct 8 23:39:33 2013 +0100

    lib: Add a small helper to open debugfs files
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8fed3837c758c13c3d7a767765df2caf792cdd7a
Author: Matt Turner <mattst88@gmail.com>
Date:   Fri Oct 11 17:34:13 2013 -0700

    Depend on libdrm_intel >= 2.4.47.
    
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>

commit cd460f1a2c5c23bacfb6849923f5d4596ebc3fc4
Author: Matt Turner <mattst88@gmail.com>
Date:   Thu Oct 10 20:54:25 2013 -0700

    configure: Don't bail if libdrm_nouveau isn't available.
    
    We were seriously *requiring* libdrm_nouveau unless explicitly disabled?
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Reviewed-by: Chad Versace <chad.versace@linux.intel.com>

commit d3d371fdf6aab3433ffe4bdf1d7512245aa26335
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 14 19:10:56 2013 +0200

    tests/pc8: Readd verbose error message
    
    I deemed them a bit redundant (assuming that developers are the only
    ones that look at them anyway). But Paulo requested that I readd them
    for the education of QA.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a5d40a9bf27c2a41a981cb6fa168b1e68bfc0b3c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 11 20:53:40 2013 +0200

    tests/kms_flip: fix igt_assert
    
    I've blown the conversion in
    
    commit 37e5b318c5dac290611099e2eec21df1e49fa71f
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Fri Oct 4 18:42:26 2013 +0200
    
        tests/kms_flip: use igt_assert more
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=70332
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 98a2b5b01f915c05ef50364494d8092668b94d8c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 11 20:22:19 2013 +0200

    tests/kms_flip: Skip if the kernel doesn't let y-tiled bo slip through
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9f3794f5fd6baf613594422b64d4eb050f27b78e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 11 19:58:43 2013 +0200

    tests/kms_flip: exit handler needs a fixture
    
    Since it can fail.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=70332
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ce5becbb616637753e2c7e441c5e019f3864b3f7
Author: Thomas Wood <thomas.wood@intel.com>
Date:   Thu Oct 10 12:23:19 2013 +0100

    testdisplay: Allow getopt to print error messages
    
    By not assigning opterr, getopt will print its own error message that
    includes information about whether an option is unknown or just requires
    an additional argument.
    
    Signed-off-by: Thomas Wood <thomas.wood@intel.com>

commit ffdece38e2b6aec64b0d96e83cd2324c035b1867
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 10 14:20:43 2013 +0200

    tests/gem_suspend: test debugfs/sysfs reads while s/r
    
    Just a very quick hack cobbled together with /bin/sh and exec. We
    can't use system since that does stupid things with singals ... Still
    we need to whack the child process pretty hard to get rid of it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8a9b275b96f1ea5637d21e4568647dcb7fed98f2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 10 11:22:09 2013 +0200

    tests/module_reload: fail if the module didn't unload
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=70336
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f014878722f7d9371e54e936de668d8a3b8115f1
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 09:07:55 2013 -0700

    gem_pin: Use iterator for blit batch setup
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a7934e26ae206c6558ff3b34af8728ca7ef04fb5
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 08:55:24 2013 -0700

    gem_exec_blt: Use iterator for blit batch setup
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 637162d0f7dee79c08c49d717c295be0b0d4696e
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 08:37:48 2013 -0700

    gem_evict_*: Use iterator for blit batch
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit aa6fbd18d4f52b2bc9e6bf9c16b9bcd585a1ae6b
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Wed Oct 9 09:07:55 2013 -0700

    gem_linear_blits: Use iterator for blit batch setup
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 4de3b1765e6f76f4e0f40434f5278f0edac0c61e
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 17:36:21 2013 -0700

    gem_exec_faulting_reloc: use iterator for batchbuffer
    
    This will help keep the code clean for new platforms which might have
    differently sized relocations.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6f8c30d8edf8ee0c57689704e32b949b003bfb02
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 9 21:20:40 2013 +0200

    tests: add kms_addfb
    
    Just a bunch of testcase to check that all the addfb sanity checks
    work as they should.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 590f6101402b51bca54f69c002380bda967484ea
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 9 20:50:50 2013 +0200

    lib/drmtest: extract rawer __gem_set_tiling
    
    For tests that expect failures. Also apply the existing gem_set_tiling
    helper a bit wider.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 40599b077972e1a721fdfcc93455e60b5b564a13
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 19:47:53 2013 -0700

    pwrite_pread: Get devid only once
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a2925b0989463a1d225a3b870a3a0e06fa74ad97
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 19:45:30 2013 -0700

    pwrite_pread: Extract batch building
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 41ae28e498afed2685feaa95ab8bf4ffdd687b62
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 19:41:49 2013 -0700

    pwrite_pread: use execbuf.batch_len for size
    
    This will make an upcoming change easier.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 96f665cabb3038905a8a9839dae025f5156ae80e
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 20:32:12 2013 -0700

    gem_tiled_blits: Squash bo leak on simulation
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f75dec0b415c8c319b9aae32cfdbac6144f3e770
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Oct 8 18:30:13 2013 -0700

    gem_tiled_blits: Squash memory leak on simulation
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 304c458d542a3eee928c0004432aea8f20ca42fb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 7 22:55:14 2013 +0200

    tests/kms_flip: Skip if no clone configuration could be found
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bc888c2b42ab42d628d9c11181a5ba09df66fdcc
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sat Oct 5 16:21:11 2013 -0700

    configure.ac: require dri2proto for overlay
    
    With the introduction of
    
    commit f9a50de3dcc501e930de6c60983a4feb57121e7e
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Sat Aug 17 11:12:07 2013 +0100
    
        Introduce intel-gpu-overlay
    
    dri2proto became a dependency (and there is no way to disable overlay
    explicitly. The actual version chosen was arbitrarily stolen from mesa.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ae599546fadb3b8ebc3114f8ab5b58cffc467952
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 4 19:55:56 2013 +0200

    tests/pc8: Fail harder
    
    If the test enviroment isn't properly set up we should fail the
    testcase, since otherwise there's no way to make sure a feature
    actually works.
    
    To cut down on bug triaging time extract the basic test (which was
    previously used to skip all subtests) into a "basic" subtest.
    
    Also fail the test hard if the msr interface isn't available. And
    switch all other check in setup_enviroment to igt_require.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=69838
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3dc91f32424191f28d7512014b2871e22b5a05b9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 4 19:49:36 2013 +0200

    tests/pc8+: Only skip i2c subtest if i2c /dev interface is unavailable
    
    Through the magic of igt_skip we only need to fail this subtest, not
    the entire thing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 37e5b318c5dac290611099e2eec21df1e49fa71f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 4 18:42:26 2013 +0200

    tests/kms_flip: use igt_assert more
    
    I've left the time delta checks as-is since those are tricky math and
    my mind is feeble.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 54b5f7251ac8f28338ea59f110f680c3ac8b6c74
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 4 18:11:37 2013 +0200

    tests/kms_flip: check flip count in both directions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 47d0a6fa6954a2742a50b988461f48597f960b24
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 4 11:10:48 2013 +0200

    NEWS: Mention gen7 perf counters release
    
    This is too great to be omitted!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b53f22cee7323df6984f2d34464b51264a92ef2a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 23 12:32:43 2013 +0100

    tests: Simulate missed breadcrumb irqs
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 11d5859b28727e1dac9d5b15b3027938a7023067
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Tue Apr 2 22:54:08 2013 -0700

    intel_perf_counters: Add support for Gen7 platforms.
    
    We finally received permission to release this; the counters should be
    properly documented in the Haswell PRMs.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>

commit 16b61932bb1b54a21b67b6c209ba405f5a36f174
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 3 22:45:53 2013 +0200

    tests/kms_flip: use igt_assert in the dpms helpers
    
    No need to route the error code around really.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0b19cb5dc2afe55084b946b053c527b9f44a011f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 3 18:30:56 2013 +0200

    tests/kms_flip: Check the dpms confusion
    
    Some kernels inadvertedly forwarded dpms changes to crtcs connected to
    shared encoders even though that specific output wasn't enabled.
    Hilarity ensued.
    
    Note that we only have shared encoders on hsw (DP+HDMI) and with sdvo
    cards (multi-function encoders).
    
    v2: Do a full OFF->ON->OFF transition to make sure something actually
    happens.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a8bf10c9cf5000083b102549a335239bd01d4f2f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 1 22:20:38 2013 +0200

    NEWS: testdisplay now with 3d support!

commit 1f0addb689a5707bc3e5a5e36d28fea2745ea352
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 30 21:38:09 2013 +0200

    tests/kms_flip: scale test runtime
    
    On machines with many outputs and many crtcs it takes too long.
    So scale the runtime by the number of output combinations we're trying
    to light up.
    
    Compensate the test runtime a bit by doubling most subtests' duration.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3f89d5403ef85c1f101c0f1026cf9b800bbaaea9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 30 21:35:47 2013 +0200

    tests/kms_flip: fail harder
    
    At least for pipe A/B we should always fail the test if we can't light
    up the preferred mode - the kernel should filter out impossible modes
    and for our hw pipe A/B are the least constrained.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6de613f8e5b76435150a74a38f5863f93195b473
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 30 18:03:33 2013 +0100

    testdisplay: Print the stereo mode being tested
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e836b60d3751475e768a339f29d231509ac1596c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 30 17:42:33 2013 +0100

    testdisplay: Make -o and -3 work together
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8393bb41a1717691674809361908050974d71fbf
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 30 17:41:56 2013 +0100

    testdisplay: Remove mode resetting now that we don't adjust the timings
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c128b731dceff48200a9e6e84436a5e726dc4706
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 30 17:02:21 2013 +0100

    testdisplay: Respect specified_disp_id in the stereo loop
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 28cf66de94962081e7de833166f274807f333f39
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 30 16:56:29 2013 +0100

    testdisplay: Remove printing out the eyes geometry
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 21a89a9f073a892424428631503c7bbb69c5187f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Sep 26 18:34:06 2013 +0100

    lib: Adjust dump_modes() to the new stereo encoding
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a7d1937cd777e23bb6f234156e6164aafe151fbe
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Sep 26 17:56:01 2013 +0100

    testdisplay: Use DRM_MODE_FLAG_3D_MASK
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 578c1cefc9c0b80927b69584ef730acd3a1eb2f0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Sep 17 18:59:52 2013 +0100

    testdisplay: Remove the timing adjustements now that the kernel does it
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d89f4a2c1a773c0dc33cc7d94d475798fc0fee41
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 16 17:52:41 2013 +0100

    intel_infoframe: Display the VIC in decimal
    
    It's not customary to display the VIC in hexadecimal and lead me to
    scratch my head for a couple of seconds. Print it in decimal instead.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9a8fda7a4aaba11d191ebcd93c2b1ef648703148
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 10 13:33:26 2012 +0100

    testdisplay: Test the stereo 3D modes
    
    Now that modes have flags to describe which 3d formats the sink
    supports, it's time to test them.
    
    The new test cycles through the supported 3D formats and paint 3D
    stereoscopic images taken from publicly available samples:
      http://www.quantumdata.com/apps/3D/sample_BMP.asp
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 951b37e2d0d69ef7c013bf3ee7a57f7d6bd15119
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 6 11:44:41 2013 +0100

    testdisplay: Provide a full path when opening pngs
    
    This way one doesn't have to be in tests/ for testsdisplay to be able to
    open pass.png.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5d996349137e368c7ad8a3b2ce708c77c006a2db
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Sep 4 14:21:55 2013 +0100

    testdisplay: Free the array of connectors
    
    That's an array we allocated earlier in this function. Let's be symetric
    and free it once done.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 66477a230fba36a349783020b77ed4a030f204f5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Sep 5 16:49:11 2013 +0100

    testdisplay: Untangle dump_info() from the main testing loop
    
    -i is just supposed to show some information about the DRM resources.
    Right now it works in a quite convoluted way. Untangle this to call
    dump_info() when -i is given, exit the program and be done with it.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b9db1a6a96581645e222b6d43bd0cd795c6c7501
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Sep 4 12:31:18 2013 +0100

    testdisplay: Fix CRTS typo
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit eecd0061eb5bf45a3db515fa1cedb1184f98ca44
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Sep 3 19:46:19 2013 +0100

    testdisplay: Properly handle the life cycle of framebuffers
    
    When cycling through the modes, let's make sure to free the previous
    framebuffers. This is the perfect occasion to use kmstest_remove_fb().
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5a1d84300ba31bec08c05db7d1c602c80e932021
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Sep 4 12:12:37 2013 +0100

    testdisplay: Map the fb inside paint_color_key()
    
    So the code for this is self-contained. This goes along the way of
    reducing the number of global variables in testdisplay.
    
    Take the opportunity to unmap the fb after use as well.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0396273972076909f92429503232cff1be38e640
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Sep 3 14:57:31 2013 +0100

    testdisplay: Move the code sanitizing depth into main()
    
    It'll be shared by the set_mode() and set_3d_mode() functions.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 79f4cfedbf8f4249291c0915d040d79af97d1389
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 6 18:22:53 2013 +0100

    lib: Add a helper to write a png from a struct kmstest_fb
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit dac45f5f067136496a76bf755a3df0224a2c3ea4
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 6 17:26:32 2013 +0100

    lib: Split create_image_surface() out of create_cairo_ctx()
    
    So we can use it in the next commit.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bde7060e3c30eba807295c6831e10d7e4365a33b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Aug 23 16:46:45 2013 +0100

    lib: Add a helper to paint a PNG using cairo
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 30e0710ca374eb937806ad79e20f53a222cab54a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Sep 12 14:21:29 2012 +0100

    lib: Dump information about the supported 3D stereo formats
    
    When dumping the details of a mode, let's add the 3D formats the mode
    supports.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9edaf7fa7364e03115edd1bc3a1e99a282fce9ce
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 6 15:17:48 2013 +0100

    testdisplay: Add left/right images of a lovely scene
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 05493f736d41dbaa2f6f8b8c1c235d30d2370800
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 6 15:20:35 2013 +0100

    testdisplay: Distribute pass.png

commit 76dfa9195a489aa8de954f888895278bdccec3b7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 30 16:04:38 2013 +0200

    tests/gem_evict_everything: tune down forked subtests
    
    On new machines with gobloads of memory and cpu cores, but slow swap
    on spinning rust we need to limit the runtime a bit for sanity.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f3c54d0cb4744af9d58b5be45f574b625bbc8231
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 25 14:36:59 2013 +0200

    tests: use igt_assert/igt_require more
    
    With the new _f variants we can replace almost all of them.
    
    Also remove a ton of checks for argc != 1, they're a bit useless ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 88ad6d7be8ab5741b7019a535952145c96577c9c
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Mon Sep 23 13:46:06 2013 -0700

    intel_l3_parity: Make compilation possible without udev
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6020b951dff9584b9cfdb6819bdb1f6b0293db70
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Sep 23 16:05:21 2013 -0300

    tests/pc8: fix supports_pc8_plus_residencies
    
    Bug caused by bad copy+paste+replace.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 4d3e10d2161200e1c6ccf400775716b9899f3c13
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Sep 22 19:00:59 2013 +0100

    overlay: Some very raw usage information
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 145c0d1a2697316da5de8441e4cc1847dbf3a28b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Sep 22 13:15:43 2013 +0200

    NEWS: Start with release notes for 1.5
    
    Also extend the underlying for 1.4 to the full lenght ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 799aeb6d00881fc8f19b80ddf70f8b2b4c532f28
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Sep 10 14:21:23 2013 -0700

    intel_l3_parity: Support a daemonic mode
    
    v2: Add a comment explaining the dangers of directly accessing the DFT
    register (Daniel)
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit bfa7a5906d53a016b43eaa5592d91c1fb955daf7
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Sep 10 10:40:54 2013 -0700

    intel_l3_parity: Support error injection
    
    Haswell added the ability to inject errors which is extremely useful for
    testing. Add two arguments to the tool to inject, and uninject.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5f95ea780bba6027767b3f3411ce41717317e879
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sat Sep 7 20:38:18 2013 -0700

    intel_l3_parity: Actually support multiple slices
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8ddcfd6882a9afd17daf5399f78f74bfc6ef3d7a
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sat Sep 7 20:10:27 2013 -0700

    intel_l3_parity: slice support
    
    Haswell GT3 adds a new slice which is kept distinct from the old
    register interface. Plumb it into the code, though it's only 1 slice
    still.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 48d1b362c52803f490080be0ee26b43ae5f7dc27
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sun Sep 8 16:50:23 2013 -0700

    intel_l3_parity: Hardware info argument
    
    Add a new command line argument to the tool which will spit out various
    parameters for the giving hardware. As a result of this, some new
    defines are added to help with the various info.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a9cd76b36e112389c61ccc315df185a2eaf17c01
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Sep 6 21:10:50 2013 -0700

    intel_l3_parity: Use getopt for the l3 parity tool
    
    Add new command line arguments in addition to supporting the old
    features. This patch only introduces one feature, the -e argument to
    enable a specific row/bank/subbank. Previously you could only enable
    all. Otherwise, it has what you expect (we prefer -r -b -s for
    specifying the row/bank/subbank).
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e740bdf5bd1339b58912eb359902ca68529b438d
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Sep 6 11:40:03 2013 -0700

    intel_l3_parity: Assert all GEN7+ support
    
    v2: Don't assert for Valleyview (Bryan)
    Rework code to be a bit more readable.
    
    CC: "Bell, Bryan J" <bryan.j.bell@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 318c0b22d7756d2ae33328935c2f15cd790f6b01
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Tue Sep 10 15:34:54 2013 -0700

    intel_l3_parity: Fix indentation
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 64cfe4eefe9b91ad648df216ba385d9a1e67dd78
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 19 19:56:03 2013 +0200

    lib/drmtest: Improve printf-like igt_skip_on/require
    
    Ben Widawsky suggested to use vasprintf, which perfectly fits the bill.
    
    Also fix the logic conversion bug in tests/gem_storedw_batches_loop that
    crept in again :(
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e5cdd62624342180a16630b4f6b1d604f6e6e581
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 19 16:37:07 2013 +0200

    lib/drmtest: igt_assert|require with format strings
    
    v2: Add a comment about the pitfalls around va_list handling.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b3525129535c6e8e3588f63960e2296d598f6e9a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 19 15:51:33 2013 +0200

    tests/gem_stored_batches_loop: use igt_assert more
    
    Terser code ftw!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 867b1a51a6310d63f34acc8ffe602355694da7ee
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 19 11:01:14 2013 +0200

    tests/gem_reloc_overflow: New subtest for overflowing buffer_count
    
    Luckily everything seems to be fine.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bf6f166035bdd85042c2d6dee0e0b088e122ae81
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 19 10:20:46 2013 +0200

    tests/gem_reloc_overflow: Extract reloc_tests
    
    I'll be adding more stuff soon ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0a587e24b77707099a21d6ad00cbfd19a4661b8b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 18 18:28:18 2013 +0200

    tests/gem_storedw_batches_loop: Add testcase to check secure dispatch
    
    v2: Use the mrb_exec function since otherwise we can't pass flags.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 195f04c3008c079c8edb762a8907903c264da83c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 16 22:45:14 2013 +0200

    tests/gem_persistent_relocs: Tune down the test a bit
    
    Takes too long.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 31139f6b8fc2d5f0c1623de1cbaf24f8a3d5473d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 12 16:18:10 2013 +0200

    tests/gem_fenced_exec_thrash: Add interruptible and busy-load subtests
    
    Usual progression for gem tests up the nasty-scale.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d1b9bc0dc17dbc49d707abf861d31020fbcb5ff6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 12 16:17:33 2013 +0200

    lib/drmtest: check that igt_exit is called for subtest tests
    
    I get this wrong for almost every conversion to subtests ...
    
    v2: Don't install the check when just listing subtest names.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7b3634364a1f5cf1797a55a1d0d042ec8d9f510c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 12 14:38:13 2013 +0200

    tests/gem_fenced_exec_thrash: New subtests that uses all fences
    
    igt runs under the assumption that nothing else (besides maybe fbcon)
    is using the gpu. So we should be able to use all fences.
    
    Keep the conservative testcase around though in case someone has a
    broken setup.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 14e12b80085db3ab9d9035ce962b5679fe862570
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 12 14:21:56 2013 +0200

    tests/*: scrap get_num_fences
    
    Just use gem_available_fences directly.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit deba86806670e28bfd8110ef5b6e05ab818b1935
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Sep 9 15:38:40 2013 -0400

    intel_audio_dump/hsw: rename some audio configuration registers for Haswell
    
    For Haswell, some audio configuration registers have changed their name and
    some bit definitions.
    
    This patch applies the changes, and uses subfunctions to parse registers for
    code reuse.
    
    Here is the name change list:
    Audio configuration: AUD_CONFIG_x to AUD_TCx_CONFIG
    Audio Misc Control: AUD_MISC_CTRL_x to AUD_Cn_MISC_CTRL
    Audio M & CTS programming enable: AUD_CTS_ENABLE_x to AUD_TCx_M_CTS_ENABLE
    Audio EDID data block: AUD_HDMIW_HDMIEDID_x to AUD_TCx_EDID_DATA
    Audio Widget Data Island Packet: AUD_HDMIW_INFOFR_x to AUD_TCx_AUD_INFOFR
    Audio Pipe and Converter Configs: AUD_PORT_EN_HD_CFG to AUD_PIPE_CONV_CFG
    Audio Digital Converter: AUD_OUT_DIG_CNVT_x to AUD_Cn_DIG_CNVT
    Audio Stream Descriptor Format: AUD_OUT_STR_DESC_x to AUD_Cn_STR_DESC
    Audio Connect List Entry & Length:  AUD_PINW_CONNLNG_LIST_x to
                                            AUD_TCx_PIN_PIPE_CONN_ENTRY_LNGTH
    Audio Connection Select Control: AUD_PINW_CONNLNG_SEL to AUD_PIPE_CONN_SEL_CTRL
    Audio DIP & ELD Control State: AUD_DIP_ELD_CTRL_ST_x to AUD_TCx_DIP_ELD_CTRL_ST
    Audio HDMI FIFO status: AUD_HDMIW_STATUS to AUD_HDMI_FIFO_STATUS
    
    NOTE:
    For Tx, x = A/B/C, meaning Transcoder A/B/C.
    For Cn, n = 1/2/3, meaning audio converter 1/2/3.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 3c7dc5cf32ad50cf3d8b691c921064a419917fc8
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Sep 9 15:38:32 2013 -0400

    intel_audio_dump/hsw: align code with tab
    
    This patch makes the file to follow kernel coding style:
    - replace leading spaces with tabs for alignment
    - fix some minor format issues
    
    But the max length of a line is set to 120 characters for readability
    on high resolution displays.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit cac586586ddcf9fa1679c35236cd0674237f3d37
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Mon Sep 9 15:38:20 2013 -0400

    intel_audio_dump/hsw: remove misuse of PCH transcoder configuration register
    
    The PCH transcoder config register (PCH_TRANS_CONF, 0xf0008) is not the
    correct config register for transcoder A, B or C. This register is in
    PCH and for CRT display, nothing to do with display audio.
    
    So This patch removes misuse of it as config register for transcoder A/B/C.
    
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>
    Reviewed-by: Haihao Xiang <haihao.xiang@intel.com>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit be28ba071baf33afa1852ed0fd9b4efee699cdbd
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon Sep 16 16:37:08 2013 -0300

    bump version to 1.4 and add the release date
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit a33d5576232bf7caf14c848828d632c3da886ee1
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Fri Sep 13 16:54:56 2013 -0300

    NEWS: Fix dates of previous releases
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 564a1dd99355ee0c626e43e4d547730c93b640c6
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon Sep 16 15:34:27 2013 -0300

    overlay: fix link error due to missing -lrt
    
    CC: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit a031a1bf93b828585e7147f06145fc5030814547
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 13 16:43:22 2013 +0200

    lib/drmtest: ducttape over fork race
    
    Whatever the reason (and I've thought there isn't one) if we fork and
    kill right away the child seems to not reliably die. We can work
    around this little race by forcing the default SIGQUIT handler. This
    should break anything since we reset our atexit handling anyway, so if
    the helper needs any atexit handling the special signal helpers will
    be reinstated.
    
    Note that inserting sufficient amounts of printf between the fork and
    kill makes this unnecessary.
    
    While add it also add the retry loop for the waitpid call, in case
    there's another guy constantly interrupting us.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9298dfabd9658315df34616b1e9a10b3579a92bd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 13 16:38:59 2013 +0200

    lib: add test for igt_fork_signal_helper
    
    If we're really fast we've trying to stop the signal helper again
    we somehow race somewhere and it'll never happen. So add a testcase for
    this. Since I expect more to come for testsuite tests add a separate
    make target for them. Run tests with
    
    $ make check
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 32f9c497957cf165a359d8b2c11f4d18dd5f743a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Sep 13 16:28:15 2013 +0100

    NEWS: smelling fixes

commit 35ee50769e5ae24189ae353c2f719191dcf049ce
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 13 17:02:07 2013 +0200

    initial release notes for the next release
    
    Please amend/improve.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 030c9c0f917155555bd09ff268c5defda6e94982
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 13 17:01:38 2013 +0200

    reconstruct NEWS file for the releases thus far
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 25dfea28a574988fa60278396433b65014ada809
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 13 16:00:05 2013 +0100

    overlay: Fix stale mention to x11-position.c
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3fda0b6714ae503e365ae6f130ae7b4074881b70
Author: Eero Tamminen <eero.t.tamminen@intel.com>
Date:   Fri Sep 13 15:32:43 2013 +0100

    man: Fixes typo in intel_lid.man
    
    Signed-off-by: Eero Tamminen <eero.t.tamminen@intel.com>
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 932716dd918a25ee49a4c8a9931a9a65dfd60486
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 12 14:00:09 2013 +0200

    lib/drmtest: skip suspend tests in simulation
    
    The simulator doesn't like this nor really support it :(
    
    v2: We've tried to a more gentle resume testing using the pm_test
    infrastructure, but that alos failed. So add a FIXME comment that we
    need to improve things a bit here.
    
    Cc: Ben Widawsky <benjamin.widawsky@intel.com>
    Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Cc: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 506ef293abfc83a79ae1e58193ee88bce5c667ce
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 12 12:56:20 2013 +0200

    lib/drmtest: drop unused oldsig variabel
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 212de08d0fd679069886d673fb719582f597503c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 15:46:43 2013 +0200

    lib/drmtest: Restore default sighandlers
    
    Forked tests ended up restoring the sighandlers already inherited
    from the parent, resulting in endless signal loops through our
    atexit handler.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 661f252f7e3ccb8fe936f2582d234408b8bb4764
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 15:05:20 2013 +0200

    lib/drmtest: don't frob signals in __igt_fork_helper
    
    We shut up the exit handlers already by clearing the array.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9fb316a6db16cd8cddba719d7acbdf068f9238ee
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 14:29:00 2013 +0200

    lib/drmtest: clean up children in an exit handler
    
    Also be a bit more careful with killing them in general.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1978aecf1d22f21265d64099e70565d6e5e384cc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 14:03:47 2013 +0200

    tests/gem_persisten_relocs: Update like gem_reloc_vs_pug
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5dc424f70d34add563ed86875d6167ab16a7a764
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 13:59:18 2013 +0200

    tests/gem_reloc_vs_gpu: some fixes
    
    - Clear the igt_helper_process struct to avoid hitting asserts.
    - Fix up the logic for enumerating forked processes.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bbc820302b49d3cdd0f05f2c2be3af63718e0fc1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 12:11:54 2013 +0200

    lib/drmtest: handle SIGBUS in the exit handlers
    
    Our kernel likes to occasionally kill process with a SIGBUS when this
    shouldn't ever happen. Hence also handle this signal in the exit
    handler infrastructure.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 14dd7cb8aa86d51b093c8cffa40df420c342c89a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 11:51:40 2013 +0200

    lib/drmtest: Reject igt_fork from within igt_fork earlier
    
    We reject it in igt_waitchildren already, but earlier is better.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5f790db084ca32de79a097c29cb4fa41dcc4cb43
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 11:09:08 2013 +0200

    lib/drmtest: Fix igt_stop_signal_helper for subtest listing
    
    We need to bail out early for otherwise we'll hit the
    !signal_helper->running assert.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b3a61c802872b4219699616f64dfcb572971afdd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 10:47:07 2013 +0200

    lib/drmtest: skip when prefault control isn't available
    
    Instead of crashing with an igt_assert. Fixes the only crashing test
    when running igt on non-intel systems.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2b218f69d7e2892ed1a2a2b3bc9663c35acee288
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 11 10:40:25 2013 +0200

    lib/drmtest: Use ARRAY_SIZE
    
    Less fragile ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 57e67461812eb3a1c123e590b0cf08b885417732
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 10 17:41:49 2013 +0200

    lib/drmtest: double-check that we clean up helper processes
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e73c1a07f3e573a2c46be73c139b0757dc8c4add
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 10 15:44:37 2013 +0200

    lib/drmtest: consolidate the helper process killing in one exit handler
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7c25e8cff15587712ce92f16b61b154080744fe4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 10 15:29:17 2013 +0200

    tests/gem_reloc_vs_gpu: use igt_fork_helper
    
    Now we do a waitpid instead of a simple wait which could eat
    the "wrong" child ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit edd723457c5b3488a26167087f8b3b3045944804
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 10 15:46:08 2013 +0200

    lib/drmtest: create helpers for forking helper threads
    
    The upshot is that we can share the logic to make sure the helpers
    are all properly stoved again in a 2nd step.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2096649053cf720258d66095af0c54453727e841
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Sep 8 14:03:20 2013 +0200

    lib/drmtest: fixup for the prefault rework
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fbd64de6be923e339675667525fcd1a294d9b172
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Sep 8 14:03:03 2013 +0200

    lib/drmtest: Avoid calling exit handlers multiple times
    
    - reset the count when forking
    - don't add the same handler multiple times
    - don't restore the exit signal handlers in the forked helper
      process
    - reset the exit handler count once called to make sure we don't call
      it multiple times when dying
    - don't wait for the signal helper if it's gone already
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b3dadedd2e899a8e3dd916aa8b0df6481e724d5a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 15:25:03 2013 +0200

    tests/gem_reloc_overflow: Add more checks
    
    For reloc offsets and batch start/len. Doesn't quite fit into the test
    subject at hand here, but meh.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 44d4a3defbbee770de3a1c07d479ad8f50fb2b8f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 14:43:06 2013 +0200

    tests/gem_reloc_overflow: convert to subtests
    
    More will come!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3c46789c8d74c0a1c7c071949dceec0b4ac8d8b4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 14:27:17 2013 +0200

    tests/gem_exec_bad_domains: enable conflicting write domains test
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4f496bafea81f24a3ae81179df7abaff648f0654
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Sep 4 17:02:19 2013 +0300

    lib: fix the fix for gen5 workaround emmision
    
    Fix the regression introduced in
    
    commit bfbe813f8fb587017c4e1d73c51395c2837eb395
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Tue May 29 22:14:06 2012 +0200
    
        lib: fix gen5 workaround emission
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit caf4608809012766c1db62865b39829cbe2c0c1d
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Sep 4 17:06:00 2013 +0300

    lib/intel_batchbuffer: remove code w/o effect
    
    Introduced when refactoring the patch in
    
    commit c1ee0bb53269ded7b79966d081518d689639bac7
    Author: Imre Deak <imre.deak@intel.com>
    Date:   Mon Jul 29 16:43:31 2013 +0300
    
        intel_batchbuffer: add support for non-32bit blt copies
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 52221651ab2bd2994a9e1d97f717ade432430c91
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 14:08:10 2013 +0200

    tests/gem_pipe_control_store_loop: Add subtest for reused buffers
    
    This exercises the slightly faulty kernel w/a that Eric fixed in
    
    commit e844b990b1df9242bb91b7d490552f3198946838
    Author: Eric Anholt <eric@anholt.net>
    Date:   Tue Jul 31 15:35:01 2012 -0700
    
        drm/i915: Don't forget to apply SNB PIPE_CONTROL GTT workaround.
    
        If a buffer that was the target of a PIPE_CONTROL from userland was a
        reused one that hadn't been evicted which had not previously had this
        workaround applied, then the early return for a correct
        presumed_offset in this function meant we would not bind it into the
        GTT and the write would land somewhere else.
    
        Fixes reproducible failures with GL_EXT_timer_query usage in apitrace,
        and I also expect it to fix the intermittent OQ issues on snb that
        danvet's been working on.
    
        Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=48019
        Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=52932
        Signed-off-by: Eric Anholt <eric@anholt.net>
        Reviewed-by: Chris Wilson <chris@chris-wilson.co.uk>
        Reviewed-by: Carl Worth <cworth@cworth.org>
        Tested-by: Carl Worth <cworth@cworth.org>
        Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0550092c9a6440536c6070cdc447ed83f3062896
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 13:25:28 2013 +0200

    tests: add missing igt_exit() calls
    
    Forgotten while converting to subtests, then copy&pasted.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5113df7891e7ca323bd74449b7d649d5bd0b80a9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 13:19:42 2013 +0200

    lib/drmtest: add igt_skip_on macro
    
    I've fumbled the logic inversion when converting to igt_require way
    too often, so lets add something for dummies like me ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f9d201be404fc277680d416d11f0d2d0d97f2cb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 4 10:36:28 2013 +0200

    tests: Update .gitignore
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 87c690f9e27237d62d0f7b397aa6b284d1acab62
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 15:30:02 2013 +0200

    tests: add gem_persisten_relocs
    
    This reproduces the 3.7 relocation regression ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 612252f3f9aaa67848f3f74b8a7237eb1fa72159
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sun Sep 1 12:34:36 2013 -0700

    intel_gtt: Raw PTE dumper mode
    
    ./tools/intel_gtt -d | head
    GTT offset |                 PTEs
    --------------------------------------------------------
      0x000000 | 0xe4005015 0xe2854015 0xe283e015 0xe283f015
      0x004000 | 0xe28ba015 0xe28bb015 0xe28b6015 0xe28b7015
      0x008000 | 0xe2828015 0xe2829015 0xe282a015 0xe282b015
      0x00c000 | 0xe2928015 0xe2929015 0xe292a015 0xe292b015
      0x010000 | 0xe2918015 0xe2919015 0xe291a015 0xe291b015
      0x014000 | 0xe291c015 0xe291d015 0xe291e015 0xe291f015
      0x018000 | 0xe2920015 0xe2921015 0xe2922015 0xe2923015
      0x01c000 | 0xe2924015 0xe2925015 0xe2926015 0xe2927015
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c6f9bdc66f9ed82c82c1e77bb8bbadc250648c6e
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sun Sep 1 12:17:23 2013 -0700

    intel_gtt: Properly support gen6+ GTT PTEs
    
    This finishes the objective in the last patch which was to actually deal
    with physical addresses, and not the PTEs.
    
    GEN6+ Provided support for physical addresses above 4GB. I'm not
    actually sure what Ironlake supported, and don't feel like firing up the
    timemachine.
    
    v2: Add support for gen4, gen5, and haswell.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8adfb5886dd1128fc8c8c70c79fffbc62b0a7975
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sun Sep 1 11:49:12 2013 -0700

    intel_gtt: Use function to get the physical address
    
    The GTT PTEs that the tool is trying to compare is really about
    addresses, and not the PTE itself. To accomplish this, make which
    calculates the physical address we actually want.
    
    This commit itself doesn't change any functionality; just the wording in
    the code.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a3276e9713a7014bfcd84f29fea4dceb5670f488
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sun Sep 1 11:47:57 2013 -0700

    gem_vmap_blits: Demote warning to note
    
    The warning that vmap isn't supported is useful, but it shouldn't get in
    the way of developers (or distros) being able to use -Werror.
    
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c42f344b781fef9e8839d439dfa63d7aa76d65ca
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Sun Sep 1 11:47:11 2013 -0700

    intel_reg_dumper: Silence GCC for uninitialized clock
    
    GCC 4.8.1 seems to think clock may be uninitialized.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 7db283f930b2e03f019bb23689d2c12daff8104c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 17:49:02 2013 +0200

    tests/gem_reloc_vs_gpu: add thrashing tests
    
    Using the i915_gem_drop_caches debugfs interface to thrash without
    really thrashing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2c7166eb7a60a87477be762d45aaafafb15aceff
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 11:57:56 2013 +0200

    tests/gem_reloc_vs_gpu: add forked versions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f4b93781be0032b4d99097d71b305638c8eb03e2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 12:22:09 2013 +0200

    lib/drmtest: use igt_require/assert in the prefault helpers

commit e45b7d9474da7b771f941d4729a435b49ef8529d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 10:59:13 2013 +0200

    tests/gem_reloc_vs_gpu: Add faulting reloc tests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 225a91bc54050d05450e3481d0fcab24d56f94fc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 10:38:29 2013 +0200

    lib/drmtest: include sys/mman.h from drmtest.h
    
    We need it for mmapping to get at PROT_READ|WRITE anyway.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9cc16e8afd0269d6f94107b2044240e45334e64d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 10:37:14 2013 +0200

    lib/drmtest: extract gem_execbuf helper
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd59d60275e8d7cce2ae4370cf8f8304abdc52fc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 3 08:57:42 2013 +0200

    tests/gem_reloc_vs_gpu: add interruptible version
    
    Exercise a bug where we've failed to propagate the error code
    correctly.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 472c9dac034479fe5c740a33022fbb19e4dbe381
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Sep 2 13:50:56 2013 +0100

    kms_flip: Fix use of fb_width for PAN subtests
    
    We need to be careful to remember that fb-width is not always the same
    as hdisplay, since for panning we allocate a larger framebuffer. So fix
    up the printfs to use hdisplay/vsisplay since that should be uniform
    across the array.
    
    Regression from
    commit 919d68901187fa797a9b648fcf87c838fae22fa3
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Thu Aug 29 15:33:53 2013 +0100
    
        kms_flips: Operate on an array of crtc
    
    Buzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68832
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6f118bf96a4d7236f8324dd53cf0c85390605bb0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 2 08:08:29 2013 +0200

    lib/drmtest: Improve output when igt_waitchildren fails
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8eaa0982d02e13d7d8d1e1a4601bbeb8adb531ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 2 08:04:19 2013 +0200

    test/gem_concurrent_blt: remove hack for testing igt_fork
    
    Oops, this shouldn't have been committed ...
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68830
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 859159a2725dde4175ec75062fbdeba1d1e1c82e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 2 07:51:24 2013 +0200

    tests/gem_tiled_swapping: fix igt_require conversion
    
    I seem to be incompetent at logic ...
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68831
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f73724c3628b61c41642837a709ac8427d699b99
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Aug 30 08:15:32 2013 +0200

    tests/gem_mmap_gtt: fix access checks
    
    Reading manpages advisable ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 694bd81ed6a90e31af311da114e206a3b3d3bc1a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Aug 30 08:13:05 2013 +0200

    tests/gem_mmap_gtt: clarify access check checks a bit
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a0aa8f1a2c927090d8e505565bcab035d605b711
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 29 21:44:48 2013 +0200

    lib/drmtest: Print info when children died due to signals
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8f5d54162086d9832bcd574af155e86a1a4d743f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 29 21:44:28 2013 +0200

    tests/gem_evict_everything: add swapping and forked subtests
    
    Much better at hitting the list corruption here on my machines
    than what we have thus far.
    
    Note that somehow I just can't reproduce the bug any more. No idea
    why. But I guess it's time to simply push this pile out.
    
    v2: Limit threads and rounds to something reasonable.
    
    v3: Use igt_permute_array to avoid EINVAL due to duplicated bo.
    
    v4:
    - Add a variant of the forked tests with multiple drm fds.
    - Tune the swapped forked tests a bit to complete in a reasonable
      amount of time.
    
    v5: Add some memory pressure from the cpu by using cpu mmaps (which
    directly hit shmem, so bypass gem completely).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5fe116e913192d092d3d73872484a2136217d6f1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 29 15:15:56 2013 +0200

    tests/gem_evict_*: Fix leak in copy
    
    This turned out to be the reason one one of my tests was hitting
    the list corruption bug - we need a good deal more memory pressure.
    So I'll now add a new testcase for that.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fa06b0bce3f45321f88f769d090af6c3a56eab9a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 29 14:01:34 2013 +0200

    tests/gem_tiled_swapping: Use igt_require
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cd1f220847c34610ab9e07c3cf1c5a7e77284eb8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 29 10:06:51 2013 +0200

    lib/drmtest: extract igt_fork from gem_concurrent_blt
    
    Making sure that we correctly collect the exit codes from all children
    is a bit a hassle. So add another magic igt codeblock for easy forking
    and joining.
    
    Note that children are (currently at least) not allowed to call igt_skip.
    Add an assert to enforce this.
    
    v2:
    - Properly propagate the exit code.
    - Fix the segfault.
    - Add a child int and num_children paramter to the magic codeblock as
      suggested by Chris Wilson.
    - Don't dump noise into stdout when a child thread fails, the parent
      will do that for us already.
    
    v3: Now with some docs.
    
    v4: Fixup igt_waitchildren to properly reset state so it can be used
    again.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 90a25055e3ec7d9779663bec9cbae93187671bfd
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 18:03:07 2013 +0100

    kms_flip: Remove debugging leftovers
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a60f9300181496e5539f6914c9074e6d1aed0fe3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 17:55:13 2013 +0100

    kms_flip: Set everything to zero to disable a CRTC
    
    Just setting fb=0 is not enough as the kernel thinks userspace is
    insane.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 93550043ca80caf7f754ae89825b1f618430b29d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 17:21:59 2013 +0100

    kms_flip: Use the first mode if we find no matching modes for the crtc pair
    
    We will check that we can set the mode on both crtcs before use, so
    hopefully this will work...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 865b7821e37dbca4cc0c2ff6f91236c09e91b26b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 16:43:18 2013 +0100

    kms_flip: Hook up primary events for page-flips
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1f2b3e99f9349dbc34750d506312b6eb353c14a4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 16:00:51 2013 +0100

    kms_flip: Run on pairs of connected outputs.
    
    The goal is to flip the same framebuffer on a pair of CRTCs (clone mode)
    and check that (a) the flip works in all combinations of workloads, and
    (b) that we can hit the desired refresh rate under the simplest, most
    ideal of conditions.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 919d68901187fa797a9b648fcf87c838fae22fa3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 15:33:53 2013 +0100

    kms_flips: Operate on an array of crtc
    
    This should be no functional change as we operate on an array of
    crtc[1]. Later we shall test clone mode across a number of crtc.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d0ed91210795e75847b3a3da6b48b1179ff53ede
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 15:11:47 2013 +0100

    kms_flip: Exercise flip-vs-render
    
    For machine with split BCS/RCS rings, we also need to test whether we
    correctly wait upon outstanding render work before flipping and changing
    modes. This should also serve to exercise the ring selection code for
    flips.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 59f134450d25ba5a3cdf2dbf945e3fb06322874b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 13:33:21 2013 +0100

    overlay: Increase idle timeout to 30s
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2b961d9573ae227b65db7f7c39e312969644af84
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 13:31:24 2013 +0100

    overlay: Hide idle processes
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2f297ed2b773a5c96fa256d3b976b9cd4d04cc80
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 13:19:29 2013 +0100

    overlay: Autohide Flip counter after a period of inactivity
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 474ce5396e3dc5a3f057da84cb70a642c0ac90d6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 29 12:01:38 2013 +0100

    overlay: Monitor per-ring context switch rate
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 75ef36713a75bc46faf5b92a4442869ef6999c3a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 28 12:40:20 2013 +0100

    overlay: Make it easier to renice
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9bebbbc49b2f828adea3cffb58907fb493813803
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 28 12:37:14 2013 +0100

    overlay: Generate unique name for snapshots
    
    Since we no longer increment the counter every frame, we need to use a
    timestamp instead.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a18023f67864841fbeee6c93e9c504768e652281
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 23:51:32 2013 +0100

    overlay: Add number of running processes to CPU display
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 11567e318e6a05936bab135e6ed90726583ab031
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 17:51:11 2013 +0100

    overlay: Include the core count in the cpu info line
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c6b26c5a406225868f05672949bcc4997c94c3ab
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 17:40:45 2013 +0100

    overlay: Scale the CPU busy value by the numer of active cores
    
    Having 100% always mean one processor fully utilised is much easier to
    understand (than having to remember how many cores are on each machine
    and scale appropriately).
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 177208b0d4cf64a3e2f18909a47afc5bd646a651
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 17:35:51 2013 +0100

    overlay: Tidy presentation of ring busy values
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b1d2a78a5db34e835a323364328263f5f4c605ce
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 15:42:48 2013 +0100

    overlay: Restore the correct default font size
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 65d2481900c619846eddadb85086edbc578d6c17
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 15:19:58 2013 +0100

    overlay: read rc6 status from perf
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ddcd1b2ee5645475725a8e2f78917fa3e7d57c1b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 14:25:38 2013 +0100

    overlay: Add support for multi-monitor positioning
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 87b66f4cf034c2e058f69d848763bb4bdc45bfbf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 13:32:26 2013 +0100

    overlay: Set the text color in case we do not have RC6
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 396fa1b3f52936f5b491e54aff658b272231b22f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 12:54:37 2013 +0100

    overlay: improve alignment of some labels
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d58aed18ee77b5e8afa7c9eda389786db6ab1818
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 12:24:18 2013 +0100

    overlay: Read interrupts from perf
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 14614060b8028f9ab4809f0b0e110a23980ecd14
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 12:24:18 2013 +0100

    overlay: Read frequency from perf
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1c3fd70357a57f823846010f59ba75f19e5d4af9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 27 11:20:43 2013 +0100

    overlay: Read power from perf_events
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6ec1d2c0ae631a3c0af445d4baa53561228be9a5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 26 23:32:07 2013 +0100

    overlay: Align the process names in the memory table
    
    And use a shade of gray to distinguish from the total instead.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 02c0d20fa87aaad4b791407e4eb3eaf4d6079de6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 26 21:16:37 2013 +0200

    lib/drmtest: restore in_fixture assert
    
    I didn't really want to revert those, too ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ad0f081f2b569a2392d0df1fe7bb140b57d91a46
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 26 20:41:00 2013 +0200

    Revert "tests/gem_concurrent_blit: Fix segmentation fault"
    
    This reverts commit 912a7d855600aadb937517ec5bab26bfd9b8953d.
    
    Now fixed for real!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8869e1e6281139f2c12a9a774becd6c1f892274f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 26 20:52:14 2013 +0200

    lib/drmtest: don't complete fixtures with a longjmp
    
    Longjmp creates havoc with stack variables of the current stackframe.
    And since fixtures should be used to set up such variables creating
    havoc isn't a great idea. With this I can revert a bunch of
    bogus patches I've done to paper over this by moving stack variables
    to be global.
    
    The same issue is actually a feature for subtest blocks since subtests
    should be independant anyway.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cf93ba45b00e302c755e1ea5fb860ee5f5379e24
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 26 19:43:59 2013 +0200

    tests/gem_mmap_gtt: Add testcase for the vma access manager
    
    Currently fails since the patches aren't merged yet.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c2c0efc21acac67a909b5047f9b100853a975ec7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 26 10:26:00 2013 +0200

    tests/gem_mmap: Convert to subtests
    
    I wanted to write a testcase for gtt mmap access restriction checking
    and only noticed after conversion to subtests that this here is for
    cpu mmaps ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 86f60ee593e3fb6808150d63088e508cf7068a75
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Aug 26 17:15:46 2013 +0300

    tests/kms_setmode: don't save/restore vt graphics for dry-run
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 40cc4b8d103f4406bb51334c1338b0ae774eed17
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Aug 26 17:02:49 2013 +0300

    lib/drmtest: fix handling of -h --help argument parsing
    
    So far we handled -h or --help arguments properly only if the test
    called igt_subtest_init_parse_opts(). Fix this for igt_subtest_init()
    callers too. Make sure we still don't exit for any other
    unknown options, which the caller may parse with a second getopt scan.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 04a4fae32e252666aa12729d232acbc20a0ea8ce
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 26 14:45:26 2013 +0100

    overlay: Trim the padding slightly
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 908df374a9b469a8d8accdc504564a1bd79eeab5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 26 14:11:27 2013 +0100

    overlay: Count number of semaphores used by each process
    
    This required me to contract the per-process information considerably,
    hopefully readability is not sacrificed too much.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1e65d5ac2f1c3b80444fd3c12e7bfcaf033a117f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 25 23:37:58 2013 +0100

    overlay: Allow simple positioning and resizing
    
    Using window.size=<width>x<height> or window.size=<scale>% in
    the config file, or --size=<scale>% or --size=<width>x<height>
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c9f0173764c5266ebd29a3d57ea8a379440346b4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 25 20:13:31 2013 +0100

    overlay: Monitor interrupts
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 39f9812315546b8b5044d8372c7e9c3055151882
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 25 15:17:39 2013 +0100

    overlay: Detach from terminal
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d929102591b25c1e9bf95ee58d95f86869e268fd
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 25 13:15:55 2013 +0100

    overlay: Add a raw kms output
    
    For when you don't have any display server, use brute force.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 20a25f5eafd37c2864e04c3065f6355e1306c6a6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 24 12:59:31 2013 +0100

    overlay: Draw the cpu busy line on top of the waits
    
    By drawing it behind the waits, it is obscured by the translucent waits.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a932c73ab7b0e768ceb723ec280847e55c5cf495
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 24 12:37:59 2013 +0100

    overlay: simplify types for object counts for 32/64bit porting
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 68c63ddd36bc8e5379bf9573c24894246f5d0aa7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 24 10:00:36 2013 +0100

    overlay: Expose sampling period/frequency as a user parameter
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 09d9089ead9ceec19888251807db4ccd8017c9ff
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Aug 23 22:32:29 2013 +0200

    tests/gem_evict_*: Add interruptible modes
    
    Also I've stumbled over igt_fixture again. Somehow gcc loves to wreak
    havoc with stack variables set up in igt_fixtures ... Duct-tape in the
    form of moving fd out to global scope applied.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1b6480114e368bcbda394e09b698268b356c1f8f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 23 16:02:42 2013 +0100

    overlay: Fix power reading from debugfs
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b22e90bc8b9c7fe27556558c31f00e35e689a12e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 23 15:59:06 2013 +0100

    overlay: Distinguish the root debugfs path and our dri node
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9574cb1a3de0dfe45c59420e2cb9a74fc23baecc
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 23 15:51:21 2013 +0100

    overlay: Search for right debugfs path
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit fd88db77cccf5d8d9be133dfcb3cdc3ff3f219f3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Aug 23 09:30:47 2013 +0200

    tests/sysfs_rps: Fix igt_require conversion
    
    Another fumble caught by QA.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68461
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ea80196d9f9380bb7ede871553db2b329a6a2713
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 22:50:05 2013 +0100

    overlay: Replace debug ticker with hostname
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 163b6a52a4dd44c48c40a609aa8b8b1ffc46881e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 20:42:58 2013 +0100

    overlay: Close DRI2 device after authentication failure
    
    So that we don't leave a master fd open when operating remotely.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 92a2f8010b5b786c52d676e87209e8332fd370a0
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 19:20:01 2013 +0100

    overlay: Double buffer the x11 window
    
    For pleasant remote transport.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b6ee8ccffe58a9d604ac0d593b4c6147d62f2898
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 19:19:03 2013 +0100

    overlay: Make the config parser more lenient
    
    Allow a dot-notation outside of the [ini] style to make commandline
    parameters easier to add.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c62cf67a6fe4ffcef0bcbdccd6607428b78e676b
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Aug 22 11:53:09 2013 -0300

    tests/pc8: don't work around the eDP I2C bug
    
    On the current Kernels, i2c operations on disabled eDP panels don't
    work because we don't enable the panel before doing the i2c
    transactions. Whenever we try these transactions we print an error
    message on dmesg and fail. The current test suite was trying to work
    around this problem: we count how many eDP outputs we have and add
    them to the final result.
    
    Daniel asked me to not work around the bug, so now the i2c test will
    fail until we actually fix the Kernel bug (or stop using eDP panels).
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 9d29670dee6cabd93785c6c80016bbeca3a80328
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Aug 22 11:50:05 2013 -0300

    tests/pc8: fix function return value
    
    Looks like I forgot to push this chunk... The test was passing in
    cases where you only have eDP monitors due to the fact that we
    consider i2c won't work on eDP monitors.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 7c52a3cf5243b42b632fd73789d1b484e81b9b0c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 15:07:48 2013 +0100

    overlay: Rudiments of config files and option parsing
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 184786988e5d78ae230139d76691b9ce7f97dca6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 10:59:58 2013 +0000

    overlay: Fill the blank charts with error messages
    
    Instead of showing nothing, show a "space left intentionally blank"
    message.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b20a6b827924bfaf0bf92a1eae818385f90dfbea
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 22 01:30:02 2013 +0100

    overlay: Remove busy estimation
    
    Too inaccurate to be useful.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4572067c88276c6f72e33e6b204527f8a7ba4481
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Wed Aug 21 15:13:13 2013 -0300

    tests: ddx_intel_after_fbdev loads intel ddx after fbdev was loaded.
    
    v2: Don't add to kernel tests.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5e66c8c23925090bc230557704a23aaadbd5ad9a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 21 13:49:45 2013 +0100

    overlay: Fix underflow for clamping initial values
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8b9f919b6346eac65be25e4f2e7c8f1b3168eb0a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 21 13:44:44 2013 +0100

    overlay: i915 pmu doesn't require a specific frequency
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit db35f8c6adfd3880910469beb5a55b0763e55fa4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 21 13:36:29 2013 +0100

    overlay: Put a faint outline around each chart
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e34fab5d2bad0ea9b6bb7e1eb45310640ccaf096
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 21 11:06:51 2013 +0100

    overlay: Fade the graphs behind the text
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e104037fff7c1274e1b36f6f458caf6fd868c6db
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 21 09:24:59 2013 +0100

    tests: Add gem_evict_alignment
    
    Clone gem_evict_everything and use it to exercise the misalignment
    paths.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e075e7b43ce54573df296bed3477e1d32d357176
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 21 10:22:13 2013 +0200

    lib/drmtest: fix logic fumble in gem_context_create
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68363
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3e7dddc1d1deff674c64b42d26aa1d31b47e495e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 21 09:16:25 2013 +0100

    overlay: Fix old mmio gpu busyness probing
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a7b742092700b68d049597d1f25574cac41bb63a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 23:19:45 2013 +0100

    overlay: Fix sampling of i915 perf event
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 0b78c1632c88d2995baa0cdf40e120e628ea8a27
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 21:58:22 2013 +0100

    overlay: Fix display of rc6 states
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b98bade56e28cdac0ad5d1b9adfe384410555c15
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 21:39:27 2013 +0100

    overlay: Add copyright statements
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2e482a34870c4ab37ad3ae066e3f1b9b8e6b6688
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 19:11:44 2013 +0100

    overlay: Use the new i915 PMU to query GPU busyness
    
    And so avoid having to hold forcewake indefinitely.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5cb8c77d69ffda7fed784cd194844b4efecedf52
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 19:24:33 2013 +0100

    overlay: Take a snapshot on SIGUSR1
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 57e573ecc1c53b3aafe6ac4784069d79bd73107d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 20 22:03:30 2013 +0200

    tests/pc8: Update to latest igt infrastructure
    
    - Use igt_require for magic SKIP results while still printing results
      for all subtests.
    
    - Wrap setup/teardown code outside of subtests with igt_fixture. This
      will ensure that the so wrapped code isn't run when an
      igt_require/igt_assert failed (and we're essentially just printing
      the SKIP/FAIL result for all subtests) or when just enumerating
      subtests.
    
    - Use igt_exit. Otherwise SKIP/FAIL results of subtests won't be propagated
      correctly.
    
    - igt_subtest checks should be run unconditionally to make sure we
      always enumerate the same set of subtests. A bit on the line here
      since this is a subtest hidden behind a runtime flag.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c158128de5541f67543ea7fcb2404bc06e5d8fa3
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Aug 19 13:20:02 2013 -0300

    tests: add pc8
    
    This test chekcs our code that enables Package C8+. The environment
    requirements for this test are quite complicated:
      - The machine needs to be properly configured to reach PC8+ when
        possible, which means all the power management policies and device
        drivers must be properly configured.
      - You need at least one output connected.
      - You need the /dev/cpu/0/msr file available.
      - You need the /dev/i2c-* files available.
    
    v2: - Many many changes due to the latest review comments and rebase.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7aaf85ac0708973bd1e34bb9b4a1443ea00cd89
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:56:54 2013 +0100

    gitignore: Add a couple of recent binaries to .gitignore files
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 84beb3a2a64dbe0e4bad952ea63625ed216bc224
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:55:16 2013 +0100

    quick_dump: Use AM_V_GEN when generating the bindings
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 993815ae3be4ddce2a10106c32e939a99b352a29
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:52:53 2013 +0100

    overlay: Include gpu-perf.h for distribution
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 01283245ab15453ffcb36fdf0d4c5d1805a0ce3b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:25:52 2013 +0100

    assembler: Disable the declare test
    
    It's not hitting a valid assertion that it tries to write an instruction
    without a defined execution size (because the "default" exec_size never
    end up being set).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit ca043f3a8ffa4d9d69a6833264717b59d0b2aa6a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:22:45 2013 +0100

    assembler: Disable tests that where already failing in the gen4asm repo
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f8b25a3612dd0a4df593bd73e3d944addcbbd0e4
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:12:49 2013 +0100

    assembler: Ignore make check output
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 751f8a73781b84d15088ee010dad10ef3a337efd
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 18:02:37 2013 +0100

    assembler: Fix the path of intel-gen4asm
    
    With the move to intel-gpu-tools, we need to update that as well.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 63720a4f86105c9988334ee4bbc7b9252331994a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 17:58:48 2013 +0100

    assembler: Revert "Fix missing environment variables problem in test/run-test.sh"
    
    Same as:
    
      commit 497814f2f2828efdc5bdd787ebc490d5083f61b8
      Author: Damien Lespiau <damien.lespiau@intel.com>
      Date:   Tue Aug 20 14:52:05 2013 +0100
    
          assembler: Revert "Automatically run all test cases."
    
    make check will define srcdir and buildir variables for us.
    
    This reverts commit 1c009349bc894bd195b5522540536898b0bee574.

commit 497814f2f2828efdc5bdd787ebc490d5083f61b8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 14:52:05 2013 +0100

    assembler: Revert "Automatically run all test cases."
    
    The tests where supposed to be run through make check, not running the
    "run-test.sh" standalone. So revert that patch to have make check work
    as intended.
    
    This reverts commit 6983eebf47f37def8f2315d5af1800b81644f240.

commit 5959b8bb41fd852f44c4b81276fc451d896c2f05
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 14:25:52 2013 +0100

    assembler: Tune the error message for invalid send on gen6+
    
    And be a bit more descriptive.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5b791671adc798486bb85213984e8e11094d19e3
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 14:20:06 2013 +0100

    intel_infoframes: Be future-proof about showing 3D_Ext_Data
    
    As Ville noted, future 3D_Struct must also send 3D_Ext_Data in the
    vendor infoframe.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b5acc1061aad3c73a32b5ecc20fcb71067c938b8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Aug 20 14:18:58 2013 +0100

    build: Fix the overlay build summary at the end of configure
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 2a37b1d78e8afedcd796dbb0b91d1bee6822d133
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 12:45:55 2013 +0100

    lib: Make igt_assert() abort under gdb
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 398be7d573fc20c42c737fdac3e3e979835c47fa
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 12:40:56 2013 +0100

    gem_evict_everything: Fix the error code checking after drmIoctl
    
    drmIoctl doesn't return the errno, so look it up after an error.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c615b5828974bd5f182b5ee35c5ed3393b3fe2b5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 11:53:22 2013 +0100

    tests: Add gem_evict_everything
    
    Exercise the eviction logic. This is just a naive test to ensure that we
    can evict old buffers to accommodate new batches, and in the process
    trigger the evict everything logic.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c6482b781462a291495b9a3b8befa26d49a5ebd0
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 11:09:11 2013 +0100

    overlay: Sample power every second
    
    Found the bug, but still only read the msr once every second - mainly as
    an exercise in handling different sample rates.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c888507b68c665e15d02defae9d341245c87b1c2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 11:08:13 2013 +0100

    overlay: use rc6_enable to drop useless information
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cf62d52eb414db54c7dd8c78e3052fbad30f94fb
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 10:58:02 2013 +0100

    overlay: Fix counting fail
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5c81cda0ff092a13c6a1eb24149e7bf98e7242fa
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 10:04:23 2013 +0100

    overlay: Add graph for GPU power consumption
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit baa5be07d6652bcd86353d25188505cb0199450a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 20 09:27:34 2013 +0100

    overlay: Add rc6 residency
    
    Not much point at the moment since we use forcewake to continuously
    probe the GPU busyness. But that will eventually change to a more
    power-efficient in-kernel.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 912a7d855600aadb937517ec5bab26bfd9b8953d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 20 06:39:43 2013 +0200

    tests/gem_concurrent_blit: Fix segmentation fault
    
    Apparently the simple changes introduced in
    
    commit 78865847f9fae7e590960f9836f2ec8b611a190e
    Author:     Daniel Vetter <daniel.vetter@ffwll.ch>
    AuthorDate: Mon Aug 19 07:23:49 2013 +0200
    Commit:     Daniel Vetter <daniel.vetter@ffwll.ch>
    CommitDate: Mon Aug 19 08:09:25 2013 +0200
    
        lib/drmtest: skip fixtures after an igt_skip
    
    pushed the stack space requirement for run_modes over some magic limit
    (I guess where the strack grow logic starts to fail, but I didn't
    check). Fix this by moving the data into .bss.
    
    Also add some asserts to check that fixtures aren't abused while at
    it (i.e. the useful parts of my debug printf/assert craze).
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68299
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 00282ed4589491732e921b66166ffa72e3ae11f3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 19 23:29:08 2013 +0100

    overlay: Wrap the colour index around the rgba array
    
    And stop assigning colours beyond the end of the array. Still needs a
    better method for colour assignment, big list of good colours & ida?
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f71d7aeb774ea8d603519d0d1fdef69ba83f2b68
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 19 22:26:01 2013 +0100

    overlay: Add missing include "debugfs.h"
    
    Later versions of gcc are apparently stricter.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 55b8c33ca50ce82393f99fb4412aaaed17f010fb
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 19 18:15:04 2013 +0100

    overlay: Auatomatically mount debugfs
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 34198b801ebca69fba654c8d1e011acea45b778c
Author: Mengdong Lin <mengdong.lin@intel.com>
Date:   Sun Aug 18 20:36:03 2013 -0400

    quick_dump/bdw: use hex() to convert devid to hex string in error message
    
    This patch is to avoid the error on device auto-detection failure
    "TypeError: Can't convert 'int' object to str implicitly".
    
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Mengdong Lin <mengdong.lin@intel.com>

commit b70d4c9e6824d648c34ffbd9993aa3e0dd482ac8
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Jul 31 11:59:38 2013 +0300

    tests: add kms_setmode
    
    Iterate through all valid/invalid crtc/connector combinations. At the
    moment only clone configurations are tested as the single output cases
    are tested already by testdisplay. Also from combinations where all
    connectors are on the same crtc (clone-single-crtc) only those are
    tested that are invalid, as I haven't found any machine that supports
    these (have to be GT2 with dvo and vga output).
    
    For configurations with one crtc per connector the FBs are per-crtc atm.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 5cabaae4dd8f3b4f78468b669d9177d593b4472d
Author: Imre Deak <imre.deak@intel.com>
Date:   Sat Aug 3 02:10:11 2013 +0300

    lib: add subtest extra command line option handling
    
    At the moment any command line option handling done by tests will
    interfere with the option handling of the subtest interface. To fix this
    add a new version of the subtest_init function accepting optional short
    and long command line options. Merge these together with the subtest
    interface's own long options and handle both together in the same
    getopt_long call.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit e55b89f1c375df20415e0ebe164001b168fb2bde
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri Aug 2 17:13:37 2013 +0300

    lib: handle SIGSEGV similarly to other error signals
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 9cbbce148f4a10aa7acf899d0f3cd47b98111cde
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri Aug 2 17:13:21 2013 +0300

    lib: shorten DP/eDP connector names
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 9a9f13167a655613abfca4a7bc567727e33cfabd
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu Aug 1 15:08:19 2013 +0300

    lib: export kmstest_get_connector_default_mode
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 8dbd1fb9d4ecdd686dac13fb64f7af02480ea849
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 11:09:25 2013 +0200

    lib/drmtest: igt_skip when drm_get_card fails
    
    Also add printf support to igt_skip to make sure there's always a
    reason why we fail a testcase.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9ad062d0b30f307cd5045ba03eeb7d2fa90487b0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 10:55:28 2013 +0200

    lib/drmtest: extract gem_create_context
    
    libdrm requirements are now up to it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 23eee394893541fa531543e8fb4b12610599817c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 10:47:53 2013 +0200

    tests: roll out igt_require some more
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5951ffb6a042037b74f7123d599b6a4f907ecff0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 10:34:34 2013 +0200

    lib/drmtest: rip out drm_open_any_master
    
    It's unused. Also most of our tests failed to ask for the right type
    of drm fd anyway. So it's imo better to just let them fall over when
    they don't get master but want it, like they already do today.
    
    This also allows us to garbage-collect the master parameter to
    drm_get_card and associated code.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4ba1f2e104310263a112846b19acfa04c8f95fe4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 07:57:03 2013 +0200

    lib/drmtest: Properly skip if no intel gfx supported
    
    drm/* kernel test nirvana!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 47a32a3aec22f3252a5f551d7b52bb3c2886d0a7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 07:28:42 2013 +0200

    lib/drmtest: make igt_fail work outside of subtests
    
    With the abortable fixtures we can now correctly fail all subsequent
    sutbests if we hit upon an igt_assert outside of a subtest.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 78865847f9fae7e590960f9836f2ec8b611a190e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 19 07:23:49 2013 +0200

    lib/drmtest: skip fixtures after an igt_skip
    
    This way we can just enclose all igt_skip/igt_require calls into
    fixtures even when we have subtests, and still output correct SKIP
    message for all of them. Wohoo, magic!
    
    The only thing which doesn't work yet is enumerating failed subtests,
    but I think that should work out on top of this.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3df8300e23a6a610f738722872743b0670298f99
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 19 08:20:15 2013 +0100

    overlay: Tweak label locations to include baseline offset.
    
    Still approximately, too lazy to query the metrics.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 34e4780c8e9c429a835c8be9c512cfe239241298
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 21:10:26 2013 +0100

    overlay: Add a X11 window backend
    
    Useful for remote hosts.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1c1a2798063df03633dc7dfbd215a37b71dbecd6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 19:20:24 2013 +0100

    overlay: Tweak a couple of the fill colours to be slightly less horrid
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1391ae08eb007205ad79d4201c3bf499239f8697
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 19:16:29 2013 +0100

    overlay: Don't smooth gpu freq
    
    This is supposed to be discrete jumps, so use straight lines to emphasis
    this nature.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 90ef68859c3e5edf2a6cd6b274f0443b936c9e0d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Aug 18 19:58:28 2013 +0200

    test/gem_dummy_reloc_loop: fix igt_require conversion
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68170
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5d41b13824d85c2e773cca5c4639882ea394e866
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 18:54:04 2013 +0100

    overlay: Remove the double ':' from object comm names
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6a38200b87b7b44d781470d4cbd6578182938aa8
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 18:45:14 2013 +0100

    overlay: Use a more compact 2x2 layout for the graphs
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 74032f4b4559fee909aec97b16617c40a81bc642
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 18:40:03 2013 +0100

    overlay: Rearrange GUI state
    
    Planning a new layout...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 7d950fa6f26e823a741f8c2db95ce4dd96c8d432
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 18:27:47 2013 +0100

    overlay: Print min/max GPU frequencies.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3f5129471fdcc81ae4291bfa717e497d223e35a1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 18:24:43 2013 +0100

    overlay: Convert gem objects to megabytes
    
    Less confusing, I hope.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e1ed5606c6dd9d320b97582a9575e2b86a17e844
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 18:17:05 2013 +0100

    overlay: Parse gem objects
    
    Condense the information and begin graphing it. Remaining todo for
    memory is to measure bind/evict flux, and perhaps clflush.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit de2c97b27fa176deec12a6277448397fcc246e47
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 16:42:25 2013 +0100

    overlay: Add GPU frequency
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6a64ee938b90a2d27342aa42ba1d2d90da40dc7b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 15:56:22 2013 +0100

    overlay: Include CPU usage in the overview chart
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 98572f0446e62eb889f28efe39fc1501e96093c1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 18 11:15:08 2013 +0100

    overlay: Count flips per plane
    
    Stop the misleading double-accounting of flips when we have multiple
    displays active.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b79a28355ded0118f6e53f745684d67c8201bf30
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 23:50:21 2013 +0100

    overlay: Improve the horizontal fit of the charts
    
    Notably fix the fill boundary to not extend past the right hand side of
    the chart.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f185f46114620ff8938abc965f89ecb4d295b4f4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 23:07:01 2013 +0100

    overlay: Correct layout of ring/seqno in raw sample
    
    For seqno completion, the events are too coarse i.e. one event may
    signal the completion of a few seqno. We will need to sort the events to
    properly compute the busy times.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 67f533f836487093a27e176d64de206772088345
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 22:33:35 2013 +0100

    overlay: Accumulate busy times
    
    Still a little too course as we add multiple overlapping seqnos and
    waits.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6233cac9c9f264961c62bb1330d8f48b3b6922b5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 22:22:21 2013 +0100

    overlay: Couple wait begin/end events together to fix accounting
    
    Since the events may be processed out of order (due to per-cpu
    ringbuffers) we need to be careful to associated wait pairs in order to
    compute the correct elapsed time.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e1d8d774f331ba4e515cad4e5efa91ddc18efad6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 22:07:49 2013 +0100

    overlay: Perf output redirection must be done after mmap()
    
    Effectively you choose to redirect the output of an event instead of
    mmapping it directly - but the target must already be mmapped.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit eed59eac47bae095513a5b1b6286fdd556d8a760
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 21:14:10 2013 +0100

    overlay: Show per-process wait times
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cc9de398cf5232e547e9131d72782732a552fc56
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 20:32:58 2013 +0100

    overlay: Graph per-process requests over time
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cbbd55af154f88fdd2c58c0398408f242124b005
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 20:04:11 2013 +0100

    overlay: Track requests per-process
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit be9937b65cbc7ba06f972b68db2a80c2100c4141
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 18:48:28 2013 +0100

    overlay: Drop unused mmap/comm events
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8cdb5bc5e838665bd8aafde3667a55152196e7f4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 18:24:39 2013 +0100

    overlay: Constify perf ringbuffer
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3e430a8b01ae13bac878863663bd3e2efd995c6d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 18:09:40 2013 +0100

    overlay: Fix wraparound handling of perf ringbuffer
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cc45a9a3dbbaa51a480c56bea53c1803dbd1859f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 17:38:37 2013 +0100

    overlay: Primitive integration with perf
    
    We can now record when a pageflip occurs by listening for the flip
    tracepoint. Merely proof of principle at this point.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 06c0cc0bb42d0a3f1c72e0c0d85d15107a392069
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 12:32:17 2013 +0100

    overlay: Show GPU waits
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f9a50de3dcc501e930de6c60983a4feb57121e7e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 17 11:12:07 2013 +0100

    Introduce intel-gpu-overlay
    
    A realtime display of GPU activity. Note, this is just at the point of
    minimum usability...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 7df9caeea1606b4f0272de35f0d7f70eedd5ec30
Author: Ben Widawsky <benjamin.widawsky@intel.com>
Date:   Fri Aug 16 14:54:36 2013 -0700

    quick_dump: add is_haswell()
    
    This was missed beforehand.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 0d320fdcedf9e5fd512597477e9f4913a3c7af33
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 16 12:07:56 2013 +0100

    gem_concurrent_blit: Purge the child bufmgr's cache
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68169

commit 6332994c269ae5613845a40cd798ffa2f1b86395
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 16 12:15:00 2013 +0100

    drmtest: Squelch the rude interrupter
    
    Stop printing the debugging information of how many times we emitted a
    signal.

commit 1b17cb9d04809f9528279abc44ad74f5559df3b5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 16 11:23:22 2013 +0100

    gem_concurrent_blit: Fix the leak from the children.
    
    As the children use the parent's fd, the kernel only has a single filp
    for everyone. Therefore we cannot rely on the process termination
    reaping the buffers we allocate for the children.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68169

commit 1ca607b458b63762846fc95c104b4686eb4eccb3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Aug 16 09:44:13 2013 +0100

    gem_concurrent_blit: Share total num_buffers between all children
    
    Apparently not all machines have more than 4GiB of RAM available.
    Spoilsports.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68169

commit 62298329350b965e4bbfc558e5a4b1b3646742ea
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Wed Aug 14 14:21:16 2013 -0700

    assembler: error for the wrong syntax of SEND instruction on GEN6+
    
       predicate SEND execsize dst sendleadreg payload directsrcoperand instoptions
       predicate SEND execsize dst sendleadreg payload imm32reg instoptions
       predicate SEND execsize dst sendleadreg payload sndopr imm32reg instoptions
       predicate SEND execsize dst sendleadreg payload exp directsrcoperand instoptions
    
    The above four syntaxes are only used on legacy platforms which support implied move
    from payload to dst.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 9d5e4fac207a9278ec26717576dff0e5d3766c57
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Aug 15 16:46:58 2013 +0100

    gem_ctx_basic: Fix misc warnings
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 92aca3b19e7201ed6e8f74b18207209d9312f8d2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Aug 15 16:40:47 2013 +0100

    intel_infoframes: Dump 3D_Ext_Data when using Side-by-side (half)
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bc1cf77534fa11fbdc5bb95313fe5728c6411235
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Aug 10 21:25:16 2013 +0100

    intel_infoframes: Add support for decoding HDMI VICs
    
    The HDMI vendor infoframe can contain a HDMI VIC (as of HDMI 1.4, only
    used for 4k formats).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Simon Farnsworth <simon.farnsworth@onelan.co.uk>

commit e58891d0aef37391ccd09091871db35516427884
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 15 14:00:23 2013 +0200

    tests/prime: test dma-buf llseek support
    
    This exercises a proposed patch from Christopher James Halse Rogers.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 79abed393f7c92255a1263c5ef3694befbea6812
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 15 11:55:32 2013 +0200

    lib/drmtest: Use igt_assert in the do_ioctl/do_or_die helpers
    
    abort results in "crash" test results in the piglit runner, igt gives
    us neater output.
    
    The downside is that we can now only use these in igt tests, but
    that's already the case (and given their placement in drmtest.h their
    intended use-case, too).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 610630622b4f5f9570f6faf136a0273535728536
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 15 13:47:15 2013 +0200

    tests/gem_ctx_basic: Use igt_require
    
    ... instead of threading the 77 return value through threads. Even
    better would be to check for requirements in the single-threaded setup
    part of the test, since now it's done by multiple threads in parallel
    and will result in interleaved and multiplied output on stdout.
    Whatever.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 176011eea776566ca73f98c48b0476db7f8b1e4d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Aug 15 10:55:22 2013 +0100

    Add intel_framebuffer_dump
    
    A simple utility to capture the currently active framebuffers and record
    them as a png.

commit f2198896087b160bdc13eb8cf9b2dd54e79d52da
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 22:13:38 2013 +0200

    lib/drmtest: fix subtest output when skipping all tests
    
    (null) isn't too nice ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ec834c995f96a9e2feb3a36cca5887c16c87dfc1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 22:24:43 2013 +0200

    tests/prime_nv_api: fixup conversion goof-up
    
    Oops.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eab7a322edc0a5b0553ff5f4c170096a98f8464f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 22:15:04 2013 +0200

    tests/primve_nv_test: use igt_assert for checking
    
    ... and drop the int return argument of the tests.
    
    Also:
    - make nv_write_i915_cpu_mmap_read functional again by dropping the
      goto.
    - add checks to i915_import_pread_pwrite
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 696c8f6434c7ec8db64f88125d4a7b31afd130bf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 18:30:03 2013 +0200

    lib/drmtest: documentation for igt_fixture
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 15c19229f404bcd04f90517925614d5716258057
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 18:03:09 2013 +0200

    lib/drmtest: add igt_subtest_name and use it in kms_flip
    
    Useful when the testname is constructed with igt_subtest_f.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b3880d3a969656b78fe246e5ca4dd5a4a2c70ef5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 18:02:46 2013 +0200

    tests: roll out igt_fixture
    
    Also sprinkle igt_assert and igt_require over the setup code to clean
    up code while at it. To avoid gcc getting upset about unitialized
    variables just move them out of main as global data (where they always
    get initialized to 0) - gcc can't see through our igt_fixture and
    igt_subtest maze properly.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c3dd8a8c85b3e1a4329282cbe82fd7f387cd2643
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 17:11:49 2013 +0200

    tests/gem_ctx_bad_exec: add subtest for vebox
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2dbd998429dc1c449abfa153060aba5a97b7c8aa
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 15:48:54 2013 +0200

    tests: Introduce igt_fixture
    
    Just a tiny wrapper to protect global test setup/teardown code when
    just listing subtests. Rolling this out over all tests with subtests
    should allow us to generate the testlist with piglit as an
    unpriviledged user on a non-intel system.
    
    The aim here is to make our QA team happy who currently suffers from
    this. Even more so for the prime tests since you need a system with
    intel _and_ nouveau gpus to just be able to list tests.
    
    Exemplary conversion with gem_concurrent_blt.c
    
    Fixture is the same name other test suites like googletest use for
    setup/teardown code used by multiple tests.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f8c0dfe399d7b5351a16d111285e85f54a5725ff
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 16:51:26 2013 +0200

    lib/drmtest: sprinkle documentation over igt_skip|fail|success|exit
    
    And make the behaviour of igt_exit() a bit saner.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a1ca8ef5b1f44845bb2d0eada0123eb35b7e0b21
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 16:02:24 2013 +0200

    tests: use igt_exit() consistently with subtests
    
    This is mostly important to get the SKIP reporting right, but I've
    found a few stragglers that wanted to get converted over to the igt
    result reporting completely.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ec283d6a52f49963b7f4d5d6582142f7f2025ded
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 15:18:37 2013 +0200

    tests/gem_concurrent_blt: extract run wrappers
    
    Functional programming ftw!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9a4957a1b3cdc31019c90fedc44c3ac7449344fc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 15:10:52 2013 +0200

    tests/gem_concurrent_blt: use the test helpers in the forked tests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5a598c9b2ec22c3161d2d48e6f05a132ce8d333b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 15:08:05 2013 +0200

    tests/gem_concurrent_blt: refactor basic run modes a bit
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 43779e37b50d3bb256706b0e7bbd23df79bc9912
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 14:50:50 2013 +0200

    tests: merge gem_*_concurrent_blt together
    
    Too much copy&pasting isn't good.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f542b0970a1e4104fb0af0f60079271ac1cf02b1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 13:48:10 2013 +0200

    lib/drmtest: Don't spoil stdout when listing tests
    
    Oops.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6234658063b4080778c34228a444e96eb901279f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 13:47:47 2013 +0200

    tests: add igt_subtest_f for snprintf'ing testnames
    
    Useful when stitching together combinatorial testnames.
    
    v2:
    - ## rules are just fun. We need 2 indirections to actually get
      __LINE__ to properly expand.
    - Kill stray ; which botched the logic.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1532af19d9bf962412bb150393aa10d13fae91d6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 12:13:28 2013 +0200

    tests/gem_dummy_reloc_loop: use igt_skip
    
    For tests with subtest we should use igt_skip to ensure that subtests
    are always properly enumerated.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c2d6773b253b7ab15fe8818730aef2f9f7e4a23d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 14 12:07:44 2013 +0200

    tests/gem_write_read_ring_switch: use igt_exit and friends
    
    And consolidate the gem_require_ring check a bit.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 99431a4f06bcaaa8944d1ed8fed118cd2b97078b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 14 11:03:34 2013 +0100

    gem_(cpu|prw)_concurrent_blit: Add contending processes
    
    Blindly fixed conflicts:
    	tests/gem_cpu_concurrent_blit.c
    	tests/gem_prw_concurrent_blit.c

commit 4f8c9a2c386154a5be94e117b4371ab0ef8b55a8
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 14 08:17:22 2013 +0100

    gem_write_read_ring_switch: Copy the missing igt_require
    
    An oversight in the mass conversion to the new framework as the test was
    called from two locations.
    
    Ideally, the checks could be moved back to the caller and the framework
    still work. This is just the patch of least resistence.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=68091

commit 6a746c82ab890cc7bcd6a0cdce78e6d69875f2bf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 13 23:51:09 2013 +0100

    gem_exec_lut_handle: Use linear regression analysis
    
    Simultaneously make the results more robust and compact by performing a
    linear regression to compute the amount of time required to perform the
    exec array walk and the relocations.

commit 629f48fa0e3d928a8d1999b4d547ad0ff9e2fd6b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 23:05:51 2013 +0200

    lib/drmtest: Don't run the rude interruptor when just listing subtests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 878ac4c3ab3315e767801b53cabecebda583672f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 20:07:32 2013 +0200

    configure: require libdrm 2.4.45
    
    We've started to use the VEBOX defines.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8f5387eb99b640771812d28a0b949aca729bf296
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 13:20:58 2013 +0200

    tests: introduce igt_require
    
    Since igt_skip has funny control flow we can abuse it and make it work
    like a special kind of assert which automatically skips tests if a
    requirement fails.
    
    Note that in places where we have a less strict test which should
    always succeed (e.g. ioctl works or isn't available) the igt_assert
    should be place before the igt_require with the more strict
    requirements. Otherwise we'll skip a test instead of properly failing
    it.
    
    Convert a few users of igt_skip over to igt_require to showcase its
    use.
    
    v2: s/gem_check_/gem_require_/ so that we consistently use "require"
    to indicate magic check that can call igt_skip. Imo hiding the
    igt_require for feature checks is ok, but for more traditional assert
    like use cases an explicit igt_require might be better.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5e25fcc285240353ab15bd4c3a0d0e02d970f45b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:56:06 2013 +0200

    tests: use igt_fail instead of exit(param != 0)
    
    Mostly a sed job with too manual fixups:
    - one case of using _exit instead of exit
    - and one case which under some conditions use 77, so convert that
      check to an igt_skip.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b30d95f33ca9c7c2cd3ef9e3e23ea965ee784a8a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:51:35 2013 +0200

    tests: s/exit(77)/igt_skip()/
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c9d037828130a97f5952164fba06007b056dfb4b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:50:39 2013 +0200

    tests: s/exit(EXIT_SUCCESS)/igt_success()/
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a4cb8954b2d8f103b613aaa9860d9f25e8e2954d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:49:46 2013 +0200

    tests: s/exit(EXIT_FAILURE)/igt_fail(1)/
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 907377da0e9c2d878f45201230b8d3900310cb0b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:45:14 2013 +0200

    tests/gem_readwrite: convert to subtests
    
    A bit lazy since the read/write tests are all smashed together. But
    since we have really evil partial write/read tests for coherency
    checking that doesn't matter that much really.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ef9e64577d2b3ddc94827433a763d5445d8b23b8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:41:20 2013 +0200

    tests/gem_ctx_bad_exec: convert to subtests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 83440953e50d1c46217ce9bdcd74aa9a4671913d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 12:35:58 2013 +0200

    tests: s/assert/igt_assert
    
    Just a wholesale rollout for now, we can refine later on.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2371c79bbd69f46c2849298fb7f216a5b9a21aa8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 11:56:24 2013 +0200

    lib/drmtest: roll out igt_assert
    
    I've left the asserts as-is where they check for tests that use the
    infrastructure in drmtest.c incorrectly. That way piglit's
    differentiation between a failed testcase and a crashing testcase
    should be more useful.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 646a6fefbc2f11df9d25811c317d1f05aa21da45
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 11:52:01 2013 +0200

    lib/drmtest: add igt_assert as a replacement for assert
    
    The aim is that we keep on running subtests even when a not-too-lethal
    assert failed in a subtest. To make that useful also print per-subtest
    test results from igt_skip|fail|success functions.
    
    If required we can always go googletest-nuts with different types of
    asserts later on, but I think for now we're good with what we have
    here.
    
    v2: Also print out proper SKIP message when skipping all subsequent
    tests since a global (i.e. outside of a subtest) init step failed and
    resulted in an igt_skip call.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c67ebf413a45dd225049b14562fd76d2bbc444e2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 13 11:40:57 2013 +0200

    lib/drmtest: fixup igt_fail for the list-only case
    
    Oops.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd161f8c042f710020137444a47cdeaea1bfd8f6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Aug 8 09:32:05 2013 +0200

    tests: add drm_get_client_auth
    
    To check we don't break the magic authentication check libva does.
    
    Ugh.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7433ec9eebfb0e5a40189943764c0cf1555dab3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 14:02:03 2013 +0200

    tests: scrap old automake based kernel test runner
    
    Upstream broke our dynamic creation of the testlist, and I think
    adding stupid .tests suffixes everywhere just to appease upstream
    autohell tools isn't that great. So scrap it, we can use piglit
    instead.
    
    References: https://lists.gnu.org/archive/html/help-debbugs/2013-06/msg00000.html
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6877877558870c9c245e7fedcbd1d66ed2206d83
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 12:26:35 2013 +0200

    tests: s/return igt_retval();/igt_exit();/
    
    Requested-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1caaf0a6b6e00e3ab85a10d7e9e36907d4c1d577
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 12:17:35 2013 +0200

    s/drmtest_/igt_/
    
    Requested-by: Chris Wilson <chris@chris-wilson.co.uk>
    Acked-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 814b135541813a6ee623eda895119acdea7f7a2f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 12:15:16 2013 +0200

    s/drmtest_subtest_block/drmtest_subtest/
    
    The _block postfix meant to convey that a C statement/block must
    follow can be misread as the verb to block. So drop it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 16024841a12f71d52aea12603d9fb1cb63124fb6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 11:57:32 2013 +0200

    lib/drmtest: __ prefix for drmtest_run_subtest
    
    Now that callers must setup the longjmp target (we can't do that in
    run_subtest itself since that callframe won't survive) tests shouldn't
    call this function directly any more.
    
    Make this clear by adding a __ prefix.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d65d19d4f4ad98af42c628f3a81d273ce6ac4e5a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 10:46:55 2013 +0200

    lib/intel_mmio: Remove unused label
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7847ea2965e548f7f68c6d7a88499bdb255a697f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 11:03:29 2013 +0200

    tests: use drmtest_skip to check for rings
    
    To simplify things add a set of gem_check_<ring> functions which take
    care of this. Since I've opted for static inlines drmtest.h grew a few
    more header includes which was a neat opportunity to dump a few redundant
    #defines.
    
    This kills all the skipped_all hand-rolled logic we have.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7553ad6e10f76aa703359a10e08138e14501d54d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 10:43:59 2013 +0200

    tests: use drmtest_skip() in caching ioctl helpers
    
    This way we can rip out all the skip handling from the test control flow,
    and additionally (by using drmtest_retval()) even get correct exit codes.
    
    The only tricky part is that when we only want ot skip parts of a test
    (like for gem_pread and gem_pwrite) we need to split out those parts as
    subtests. But no addition of control-flow is required, the set/longjmp
    magic in the helpers all makes it happen.
    
    Also we make extensive use of the behaviour of drmtest_skip to skip
    all subsequent subtests if it is called outside of a subtest. This allows
    us to re-flatten the control flow a lot.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a4038d3853b98707a803f5d1fb5c9ebe32f0b84b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 10:39:33 2013 +0200

    lib/drmtest: make signal process cleanup more robust
    
    If we skip a test and and fail somewhere the parent might die before the
    child. So add some cleanup to handle this case. Also make sure that the
    parent indeed waits for the child to die.
    
    This is required to make the latest version of the piglit runner happy,
    it tends to wait for all zombies to disappear.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 740065f0f9cd8f5add5520e6b3db6b02befee0a9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 09:49:25 2013 +0200

    tests/gem_caching: convert to use drmtest retval infrastructure
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ba0d2acf0ed9faf8025c54857db661d37c3a1339
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 09:31:55 2013 +0200

    lib/drmtest: skip/fail handling
    
    Exitcode handling in igt testcases has too ugly facets in combination
    with subtests:
    
    - When individual subtest needed to be skipped for different reasons
      we need to painstakingly thread this information through the test to
      make sure that we still succeed if just one testcase worked (for
      running it with the simple automake test runner in igt). But it also
      needs to correctly report the skip exit value if only this one
      skipped testcase has been run (e.g. when run with piglit or in QA's
      test infrastructure).
    
    - We'd prefer to easily skip (and also fail) subtests without
      hampering other subtests. Again threading the return value of each
      subtest through the code is cumbersome.
    
    To simplify test case writing use longjmps to be able to get out of
    subcases easily. But since longjmps are funny things thug it all away
    into the newly added drmtest_subtest_block macro.
    
    Note that if drmtest_skip is called outside of a subtest, but in a
    testcase with subtests all subsequent subtests will be automatically
    skipped.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9f6365e4eacc7aa07fc3f9524500d1e217b61bb5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 09:04:24 2013 +0200

    lib/drmtest: Add drmtest_subtest_block macro
    
    Doesn't do more than an if (drmtest_run_test(name)) right now, but
    as soon as we get a bit of infrastructure to handle test failures and
    skipping, this will get more interesting.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 40ea6f4ea89dbf5a326677ea9482cc48743d2543
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 12 08:41:05 2013 +0200

    tests: s/cacheing/caching
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7b254f193933eda7c9761a7f10ac49049103b259
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Aug 12 08:39:26 2013 +0100

    gem_pwrite: Print the cache name not the number
    
    Bugzilla: https://bugzilla.freedesktop.org/show_bug.cgi?id=68003

commit 467796acc80ced3440740d267c2e2a4f246d4b8a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Aug 10 15:49:33 2013 +0100

    Expand gem_set_cacheing testing to handle the proposed DISPLAY domain

commit dbbf2e9b24d1488402269a803a230f341791d39a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 7 23:41:54 2013 +0100

    intel_error_decode: First try /sys/drm/card0/error for the error-state
    
    As the sysfs is almost always mounted and readable, we have a higher
    success rate checking for our error state there than in debugfs.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a285f03f56050b9a9cb02f232078b63b4a181ed2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 7 14:54:00 2013 +0200

    tests/prime_self_import: fix comment

commit 00280fa82acbca4cf2fac6ac27efb56d86bfcbe1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 7 18:36:31 2013 +0200

    tests/prime_self_import: Fixup previuos test
    
    ... not a great display of my prowess here.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8e11ab41923d0d45740c0530a8158edd354cf510
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 7 18:12:20 2013 +0200

    tests/prime_self_import: Add a flink/dma-buf self-import test
    
    This checks that we really always fill the dma-buf export cache. Which
    sometimes we don't.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e7c4fde8c1827783e8cd1ff17945c710f44b8723
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 7 12:01:35 2013 +0200

    tests: update .gitignore
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 57622965e57a9d9dfb491434169bce1ea3aa94fe
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 7 11:59:05 2013 +0200

    tests/gem_pwrite_pread: subtest annotation
    
    This testcase mixes correctnes tests with performance tests, so it's
    good to track the different correctness test separate for QA.
    
    Together with pread_after_blt the pwrite->blt tests here exercise the
    full cache coherency lifecycle of both snooped and uncached objects.
    
    /me is happy
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3dba47e8962ec6ebf7e8825531bd46ab54a84ec6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 6 22:27:37 2013 +0200

    tests: add gem_prw_concurrent_blt
    
    New testcase to check that pwrite/pread correctly synchronize with
    oustanding rendering. Just to catch regressions when we change
    something.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4901b5ff0e882b0b4e80d0adcbbf0c0f2a524560
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jul 25 21:09:43 2013 +0200

    tests/prime_self_import: Add racing handle2fd testcase
    
    Similar to how we test flink races. Note that on unfixed kernels this
    oopses, and with my current set of patches it still leaks like mad.
    
    v2: Only close the prime fd if we've successfully created it.
    
    v3: Add a reimport test to check whether we don't race when reaping
    the obj->dma_buf link.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9ff5161354f2f8023e08eb87ebc173c01c2f607a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jul 25 22:10:51 2013 +0200

    tests/gem_flink_race: Kill duplicate drm_open_any
    
    Leak test that leaks ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d9bc78767329bd183f3644b8d97c45fb2c2bd6e1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 18:03:18 2013 +0100

    gem_pwrite_pread: Use mmap to bypass pwrite/pread for comparison
    
    Just to help sanity test alternate paths.

commit e4a7c2fe6d2e2ddc052f264168e4835bebb1e81e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 16:14:59 2013 +0100

    gem_pwrite_pread: Measure how long it takes to upload/copy/download
    
    Further trying to determine the effects of setting snooping.

commit ab6ac672437fb403cea984b992ccab8336daf7ca
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 15:48:08 2013 +0100

    lib: Reset sig_stat after stopping the rude interrupter

commit 5d635f95f2cd7e97a925bae707bf35c8315603ad
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 15:18:30 2013 +0100

    gem_pread: Symmetric measurement to gem_pwrite

commit aad68d1a86a515c96e7af02c7d048680b5e83071
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 15:12:55 2013 +0100

    gem_pwrite: Time pwrites to both uncached/snooped memory

commit a661c098b0156a7cba4f29af0d6f223ca72560ba
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 15:09:50 2013 +0100

    gem_partial_pwrite_pread: Exercise different cacheing of the staging bo

commit 24eade08ab49bc2e1e16260472c34365e1e26d50
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Aug 6 15:03:40 2013 +0100

    gem_pread_after_blit: Exercise reading back through different cache levels

commit 3052fe2c91f927cce7f6b9340357ea14fed24c9a
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Jul 29 17:21:21 2013 +0300

    kms_render: fix gpu-blit for non-32bit bpps
    
    intel_copy_bo assumes a 32bpp bo, whereas we passed it bos with
    arbitrary bpp values. This resulted in thrashing GPU memory following the
    destination bo.
    
    Fix this by using a blit helper that can handle other bpps too.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 24de8bac80e61b9b8dbfd2b3b834f15a13e506e3
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Jul 29 17:19:58 2013 +0300

    lib: export drm_format_to_bpp
    
    Needed by the next patch.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit c1ee0bb53269ded7b79966d081518d689639bac7
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Jul 29 16:43:31 2013 +0300

    intel_batchbuffer: add support for non-32bit blt copies
    
    Needed by an upcoming patch fixing kms_render's blits for fbs that have
    other than 32bpp formats.
    
    Based on the corresponding SNA function.
    
    v2:
    - fix random ordering of src, dst parameters (Chris)
    - pass pitch in bytes rather than pixels (Chris)
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit a85548910cbb5f9f9c90b99a178e3b5bc1034730
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Jul 27 15:30:41 2013 -0700

    lib/intel_mmio: Fix the fixed fix (register access)
    
    When I moved code around here:
    commit 57bc7631e161a7bdcf7f68e1a46049dcb49c2256
    Author: Ben Widawsky <ben@bwidawsk.net>
    Date:   Thu May 23 11:09:55 2013 -0700
    
        lib/intel_mmio: Fix the fix
    
    I accidently dropped the intel_gen() for the PCI id.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=67289
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e3e4db93db8b41d8683361931a9da60169575561
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jul 25 21:51:27 2013 +0200

    tests/sysfs_edid_timing: use real bash
    
    The lib/drm_lib.sh load path trick doesn't work otherwise. Tsk.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit db225aa38dae079c8fb5a95e9fd6ddc5975be466
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 17:04:35 2013 +0200

    tests/gem_flink_race: correct thread count
    
    They all race against each another, no worker-slave relationship
    like in the other subtest.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bc62a64b8a28a65e6d2586defc29032ca44ab592
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 17:01:11 2013 +0200

    tests/gem_flink_race: fix up scanf format
    
    Oops, failed to git add.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 24bbca9237cbb6bd5e85db839dc517db65e693e8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 09:46:57 2013 +0200

    tests/gem_flink_race: actually make it somewhat useful
    
    - Enable subtest support.
    
    - Add a check for the same flink name in the racing threads, which is
      an issue one of my recent patches actually fixes.
    
    - Add the test I've actually wanted to write which races an flink
      against gem close (with no open in between). That one does indeed
      leak.
    
    - Readd the leak check, but note that this needs a fixed kernel.
      Otherwise the leak counter will be utter garbage.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit dfe942edec1a713568a19e15ce75e1ed01b9fb08
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 09:31:40 2013 +0200

    Revert "tests/gem_flink_race: count leaked objects"
    
    This reverts commit bd927662fcfb1443c5982fb04cc694f78e1c8d53.
    
    It's bogus.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aaeaca77208ef792dcb3fbf97c63e2c0303d7e5e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 08:01:35 2013 +0200

    tests/gem_flink_race: check for expected flink failure code
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd927662fcfb1443c5982fb04cc694f78e1c8d53
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 07:37:45 2013 +0200

    tests/gem_flink_race: count leaked objects
    
    And fail the test if the leak count is bigger than 0.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9736fc09e26e6d6a68e85189062d49532a5d95bb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 24 06:55:10 2013 +0200

    tests/gem_flink_race: kill debug printf
    
    Oops.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7b5440a09aa7257045c15643ae4b1bea79f90552
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 23 23:14:57 2013 +0200

    tests: add gem_flink_race
    
    This exercises a race in the flink name descruction of the current drm
    gem core. When racing a gem close with a gem open the open can sneak
    in and cause the kernel to leak the flink name and its reference.
    
    This results in leaked gem objects that won't get reaped even at drm
    file close time. On my 2 core/4 threads snb machine this leaks on the
    order of 1k objects per second.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8e46c382e359c7a3d465bb1505e7f8b63a7a5952
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 23 22:43:30 2013 +0200

    lib/drmtest: add gem_flink and gem_open
    
    Requires us to rename a few things in the gem_flink test to avoid
    variable shadowing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5fcb528cb3b9523226486ac9df40850285a75f14
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 23 21:07:16 2013 +0200

    tests: sort tests in Makefile.am and .gitignore
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 10834f86102e7dae242a0cbda463a2d7543401dd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 22 09:24:43 2013 +0200

    tests/gem_suspend: exercise fence restore code
    
    This exercise the bug fixed in
    
    commit 94a335dba34ff47cad3d6d0c29b452d43a1be3c8
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Wed Jul 17 14:51:28 2013 +0200
    
        drm/i915: correctly restore fences with objects attached
    
    For fun I've also added a subtest for the inverse transition.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5bc0324e86ac6cf7c67fea929f0f1f48ca9711f9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jul 19 19:08:43 2013 +0200

    lib/drmtest: document interface groups with one-liners
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 89d96a12d61cade801f07e0d78028a613b841978
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jul 11 09:59:46 2013 -0700

    tests: Basic tools tester
    
    Requested-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f801b928826f3a23979bf6e2747611895b1ea9c2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jul 20 10:20:52 2013 +0100

    test/gem_pread_after_blit: Make the test a little more stressful
    
    Extend the simply functionality by repeating it under the rude
    interrupter and chain together a couple of steps in new test cases.
    
    As a compromise for adding more tests, incorporate the piglit subtest
    framework.

commit 7d9dbd1fed62a9c22a616110db105ec7cf76c871
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 17:01:55 2013 +0100

    tests: Source drm_lib.sh instead of having its own INTEL_SIMULATION test
    
    One code path to maintain is always better.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a7c56938c84eb25d8cf95caa125c7bf09e72dc1c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 17:08:57 2013 +0100

    tests: Allow a shell test to declare it doesn't need to be DRM master
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit aefc5c63e4c60cba18c3941cafed926e23d114cf
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 15:42:20 2013 +0100

    lib: Allow users of env_set() to specify a default value
    
    So when the environment value isn't set, one can specify the default
    value to return.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 94444aea6eb731dbf4146ec431fa0d4376da8e2f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 16:08:11 2013 +0100

    build: Pimp up the configure summary
    
    This helps people compiling i-g-t figuring out what can be optional.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 2797596432b1e19e7a79ee5dab2e2e9946f2c529
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 16:07:18 2013 +0100

    build: Fix automake 1.13 warnings
    
    warning: deprecated feature: target 'sr' overrides 'sr$(EXEEXT)'
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bbce319b2912760f8b4118c250bf2dd6bf4bdc3d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 16:03:49 2013 +0100

    build: Fix unbalanced quoting in the python dumper AC_ARG_ENABLE()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 54ec3cbdd5ae7f535896c377789c2397a1594c9d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jul 19 16:03:29 2013 +0100

    build: Fix a small typo in configure.ac
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 289024b3280c4814da747c3709ae9e220da2a179
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jul 19 18:24:59 2013 +0200

    lib/drmtest: fix const mismatch warning
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fc5c6930144dfb33039a0e7359db6268fd70cbd3
Author: Xiong Zhang <xiong.y.zhang@intel.com>
Date:   Fri Jul 19 18:42:52 2013 +0800

    tests: add reloc, pread, pwrite slow path subtest
    
    the reloc, pread, pwrite slow path will be prevented by prefault,
    these subtests will disable prefault first, then do reloc, pread,
    pwrite, finally enable prefault.
    
    Signed-off-by: Xiong Zhang <xiong.y.zhang@intel.com>

commit 7ea2983b119a13f535a9a01fbfd28a05eb3014f2
Author: Xiong Zhang <xiong.y.zhang@intel.com>
Date:   Fri Jul 19 18:42:51 2013 +0800

    lib/drmtest: add drmtest_disable/enable_prefault() function
    
    V2: add exit handler to enable prefault (Daniel)
    
    Signed-off-by: Xiong Zhang <xiong.y.zhang@intel.com>

commit 161e610765b0b590a93c5a69468bc75f726c3f1b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jul 18 12:23:49 2013 +0100

    tests: Add some tiled tests to the runs on simulation
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 00ab9a1313997f6292f064989b2c295d3fb2903b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jul 18 11:53:55 2013 +0100

    tests: Instrument gem_seqno_wrap to run in simulation
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 204df6679814d67d0d932f9e60382f660dca915c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jul 18 11:36:56 2013 +0100

    tests: Instrument gem_lut_handle for simulation
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d1e862324b747a0ab5d985eaa6830076817231c5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Mar 25 20:06:20 2013 +0000

    tests: Instrument tests run in simulation to run quickly
    
    We tweak the tests marked as runnable in simulation to run more quickly,
    more often then not at the expense of stress testing (which is of an
    arguable interest for the initial bring up in simulation). Hopefully the
    values chosen still test something, which is not always straightforward.
    
    It does run quickly, the number on an IVB machines are:
    
    $ time sudo IGT_SIMULATION=0 ./piglit-run.py tests/igt.tests foo
    [...]
    real	2m0.141s
    user	0m16.365s
    sys	1m33.382s
    
    Vs.
    
    $ time sudo IGT_SIMULATION=1 ./piglit-run.py tests/igt.tests foo
    [...]
    real	0m0.448s
    user	0m0.226s
    sys	0m0.183s
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5fa15f79d00ba4f51f35cb83cf2e82a9460b60b2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Apr 29 18:40:39 2013 +0100

    tests: Black list tests we don't want to run on simulation
    
    Let's start by a small set of tests, to eventually consider running
    more.
    
    The current list should then be:
    
    gem_mmap
    gem_pread_after_blit
    gem_ring_sync_loop
    gem_ctx_basic
    gem_pipe_control_store_loop
    gem_storedw_loop_render
    gem_storedw_loop_blt
    gem_storedw_loop_bsd
    gem_render_linear_blits
    gem_tiled_blits
    gem_cpu_reloc
    
    gem_exec_nop
    gem_mmap_gtt
    
    v2 add (Daniel Vetter)
    gem_exec_bad_domains
    gem_exec_faulting_reloc
    gem_flink
    gem_reg_read
    gem_reloc_overflow
    gem_tiling_max_stride
    prime_*
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit cf4efd15977d5849fbe091e7992bf94e80129c19
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jul 18 14:49:46 2013 +0100

    lib: Remove old dead code intel_batchbuffer_emit_mi_flush()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 4b3476559436ca26d54b30dd90fc999adc304728
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Apr 29 16:04:52 2013 +0100

    lib: Introduce drmtest_skip_on_simulation()
    
    This will allow us to explicitely blacklist tests we don't want to run
    on simulation.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c25e892ec339660a5a0c3e0f995a2ce3cbe92135
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Mar 25 17:25:14 2013 +0000

    lib: Rename IGT_QUICK to INTEL_SIMULATION
    
    It's more accurate this way as the quick mode is really useful for in
    the simulation environment.
    
    v2: Use the INTEL_ prefix to have a chance to share the same environment
        variable as piglit OpenGL tests
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0193b69e1480707cd66b532a1d9c31bedb03748b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jul 17 16:25:29 2013 +0100

    build: Depend on cairo 1.12.0 for CAIRO_FORMAT_RGB30
    
    We've somewhat recently added RGB30 support to testdisplay, but we need
    cairo 1.12.0 for that. Barf early.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit edee952e6af1903d710ee3e2e0b90c03b072f3e3
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Fri Jul 12 17:02:04 2013 +0300

    tools/inter_error_decode: decode for ctl and acthd
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 05cc515f3a9782fdf7e1553df61437db51625ea0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 15 11:55:09 2013 +0200

    tests/prime_nv_api: check multiple foreign imports with flink
    
    We want prime to only ever create one native gem object for each
    dma-buf it sees. This can e.g. happen if multiple processes import the
    same foreign dma-buf, e.g. the application imports a yuv frame from
    v4l to encode it into a video stream and the compositor imports it
    into his fd again to display it with an overlay.
    
    Hence add a bunch of tests which check all the various orders in which
    this could happen. Currently they all fail.
    
    Checking flink names is the easiest (and afaik only) way to check
    whether we're indeed dealing with the same object.
    
    This checks both ways, i.e. exporting from i915 and from nouveau, each
    with two variants of the test: One reuses the prime fd, the other
    closes it and creates a new one.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d64a9458b26794cb85314a145581376cf128bc08
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 15 11:12:31 2013 +0200

    test/prime_nv_test: use gem drmtest functions for pread/pwrite
    
    Different argument order, otherwise the same.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bc1a85e813268160816761f021cf989eb049934c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 15 11:09:57 2013 +0200

    test/prime_nv_test: nicer test names
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4a9d50db1ba6e2733020ca35c0e5c43ae3bce4da
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 15 11:04:20 2013 +0200

    test/prime_nv_api: more descriptive subtest names
    
    Preprocessor magic ftw!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1a3c7e349389bbb28bbf98b4738ab32c3cacd756
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 15 10:59:55 2013 +0200

    tests/prime_nv_api: Drop bogus check from import-twice
    
    It's purely accidental that importing that same bo to different
    drm nouveau fds yields the same handle.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c28b898cd48f389f5f830ae1fdbeeccbcef5a5af
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 15 10:51:10 2013 +0200

    tests/prime_nv_api: convert to subtest infrastructure
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b37d89318de5b5e771ad065bb7b55102f6800391
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jul 12 10:05:34 2013 +0100

    tests/gem_write_ring_switch: Skip on pre-SNB
    
    The test requires MI commands only introduced with SNB, and so causes
    GPU death on gm45 and ilk.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=66838

commit 7dbc43f27af6731c8b8d92c1bdcc046466c27ab3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jul 12 09:54:55 2013 +0100

    tests/gem_write_read_ring_switch: Repeat under rude interrupter
    
    Another waiter that will then be subject to being interrupted, so retest
    the ring switches with the rude interrupter.

commit 9ee41661de50e5e6a602c2ff8ff919b9b34bb370
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 10 15:35:13 2013 +0200

    tools/quickdump: gitignore generated files
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 727440c48a6d247591d9cfc3af53e6f2e2b1b7f9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 10 15:34:56 2013 +0200

    tests: actually add gem_write_read_ring_switch
    
    Duh ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 21c0ab30a144a2d236221be86a8947c5ce19101c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 10 10:35:10 2013 +0200

    test: add gem_write_read_ring_switch
    
    This is meant to exercise the bug fixed in
    
    https://patchwork.kernel.org/patch/2825192/
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 037847a102ba5eb35977fe21b3b02efd546185ed
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 9 23:04:20 2013 +0200

    tools/intel_reg_dumper: fix up END register
    
    I'm full of fail ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d3221334d29f31d140b7bb64ba955701e59a1bf2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 9 10:46:09 2013 +0200

    tools/intel_reg_dumper: add gen6+ fences
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 79b3029fe8c5c9d8d4428b639f458305887ceac3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jul 4 01:11:05 2013 +0100

    gem_(tiled|linear)_blits: s/interrutible/interruptible/
    
    Spelling fix in "interruptible" subtest name.

commit db94faede57be86e4f4dbefaf2c1ea24f44acae1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jul 4 01:50:55 2013 +0200

    tests/kms_flip: don't run blocking relateve vblank waits with interrupts
    
    They simply take forever with the current kernel implementation. And
    since everyone switched over to the event based interface I don't see
    much incentive to try to fix that.
    
    So just disable them.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7e7d08513a46eb721e708e7c9f0520edf265085
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Jul 3 14:42:48 2013 -0300

    intel_reg_dumper: enable the power well
    
    The intel_reg_dumper tool reads a lot of display registers. If we
    don't turn on the power well, dmesg will get flooded with tons of
    messages about unclaimed registers. So here we enable the "Debug"
    power well register and then restore its state later. It's impossible
    to guarantee that other things won't mess with the debug register
    between our put and get calls, but at least we're trying our best to
    keep things working fine, and it's the debug register anyway.
    
    As far as I know, nothing else uses the Debug register for anything,
    so we should be safe for now.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit a1ca6f9ca5286b1f5ffa60eb590667871d655a09
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Jul 3 14:13:34 2013 -0300

    lib: fix WM_DBG register address
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit c013bb02e653f53e9033fe3d95e8204587e499a8
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue May 7 12:53:52 2013 -0300

    intel_reg_dumper: add hsw_debug_lp_wm
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit c6cec844f95e3fbd4b140586c2453916328b7aa4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jul 3 10:02:27 2013 +0100

    Make the failure message for drm_open_any() more specific
    
    Do not suggest retrying as root if we already are.

commit 9eb7d8950c199b9f4d93f3434aac9aa51c69d242
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jul 3 09:58:28 2013 +0100

    Avoid corrupting the exitcode with a failure to open a quiescent fd
    
    In the atexit handler, we attempt to quiesce the GPU. This involves
    opening a fd - which will fail if the test is not being run as root and
    will obliterate the test status and pollute the output.

commit 9360df4ab33697b6a64ed8ec05d84564c784d607
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jul 3 08:47:34 2013 +0200

    tests/gem_linear|tiled_blits: convert to subtests
    
    Finer granularity for nightly runs and regression reporting is always
    nice.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bc388b54d4325669bfffef314c6f18349c239a1c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jul 3 08:10:28 2013 +0100

    drm_lib.sh: Be more precise in detecting the i915 /sys path
    
    We need to be careful in case other devices grow an error file in the
    future. The first step here is just to check the minor that corresponds
    with the debugfs path found for the device

commit e50ae9596c544c3cca0f32c5eba94c655a1ebcd2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jul 3 08:00:13 2013 +0100

    tests/hangman: Be lenient towards a non-existent sysfs error state
    
    As /sys/class/drm/cardX/error is a new interface for 3.11, we need to be
    quiet when it does not exist or else we upset the automated tests.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=66533

commit ae452e327aa8dab739ca521e924a9ac9fcc506cf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jul 2 11:24:57 2013 +0100

    tests/gem_(linear|tiled)_blits: Repeat whilst being interrupted
    
    Since these two tests exercise a working set larger than aperture, they
    require stalls which are prone to being interrupted - so interrupt them
    and check that everything still works.

commit faf2a0223cb8655e7ac826592b50ad4e08ec04ee
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 2 09:13:57 2013 +0200

    tests/drm_lib.sh: Don't die if the sysfs path can't be found
    
    That just means that the sysfs error file isn't there.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3f93e1bc74850ded734e8667674d83711a26c19c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jul 2 09:09:56 2013 +0200

    test/drm_lib.sh: Updated sysfs error filename
    
    I've forgotten to bikeshed that part ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 857b464b34d8deb4f1676a40b1c75da357614df7
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Fri Jun 28 14:35:41 2013 +0300

    tests/ZZ_hangman: Test both error_state interfaces
    
    Test both debugfs and sysfs error_state interfaces.
    
    v2: sysfs error_state not mandatory
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    [danvet: Update sysfs file name.]
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6fd652ac1db1b572af6cc4a040ca357707503f5b
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Thu Jun 27 16:54:43 2013 +0300

    tests: add i915_sfs_path
    
    To access 'error_state' through sysfs.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3743a0b994a4e6035d9370ec658b70e0a8528c4a
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Thu Jun 27 16:54:42 2013 +0300

    tests: rename debugfs base path to be more specific
    
    In preparation to have sysfs entries used in scripts
    rename to more specific name.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4541cbeba4fdd71c7e0a14d0803fa4f7ef345696
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jul 1 12:24:55 2013 +0100

    tests/kms_flip: Repeat all of the tests whilst being rudely interrupted
    
    Once upon a time, our modesetting code used to fail if it was
    interrupted. So lets make sure that never happens whilst flipping.

commit b84b9e230c40d8ebfe834f2965c868a88016cffb
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Jun 26 20:57:34 2013 +0300

    quick_dump: Add VLV DPIO registers
    
    Add the names of all VLV DPIO registers.
    
    v2: Use the third element to signal DPIO registers, and split
        the code changes to a separate patch
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e87c2536f6e19dfd77fc2ede2a5a63e2675ff077
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Jun 26 20:57:33 2013 +0300

    quick_dump: Document the register definition format
    
    Add a small comment about what the elements in the register
    tuple mean.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit de92969a402da1ae070ca76efd8721138f46f376
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Jun 26 20:57:32 2013 +0300

    quick_dump: Add automagic DPIO register support
    
    Repurpose the (currently unused) third element in the register
    definition tuple to indicate the type of the register. 'DPIO'
    is the only special register type for now.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 26af13f84fe2e1244b91760870d3763f978d3c30
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Jun 29 18:31:45 2013 +0200

    lib/drmtest: set default sighandler for QUIT in the signal process
    
    Otherwise the thing doesn't reliably die when run from the piglit
    framework somehow.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 64ff612b81c29de3f808a55f2010e99924a10191
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Jun 29 17:50:49 2013 +0200

    tests/gem_cpu_concurrent_blit: stop signal helper again
    
    Not doing so totally upsets the piglit igt runner since we leave
    a bunch of zombies behind.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 13932d67de1ab11f768782138ea88a00fc2ff4a5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jun 29 17:17:52 2013 +0100

    tests/gem_cpu_concurrent_blit: Restore lost intel_copy_bo()
    
    Accidentally replaced the intel_copy_bo() with the set_bo() in the
    "overwrite-source" in 4fd34977aff60f58cd955eb9c2d568d5fb824611 when
    clearly I wanted to simply add the calls to set_bo() first.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b1f23fe1d475ee99f77a96e29f5a8d54d4d2c6fc
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jun 29 17:09:21 2013 +0100

    tests/gem_cpu_concurrent_blit: Undo debugging hack
    
    Accidentally left in the hack to run the
    "overwrite-source-interruptible" for only one loop, used whilst testing.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4fd34977aff60f58cd955eb9c2d568d5fb824611
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jun 29 17:05:24 2013 +0100

    test/gem_(cpu|gtt)_concurrent_blit: Move the set_bo() from create to the test
    
    Hiding the initial set_bo() required for the "overwrite-source" tests
    lead to a nice bit of hilarity as I missed repeating the initialisation
    for the multiple loops of the interruptible version of
    "overwrite-source".
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4c6f2d4e0c10fe3aa6ee8fffee1541f03cd9fa48
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jun 29 16:45:46 2013 +0100

    tests/gem_(cpu|gtt)_concurrent_blit: Restore the old tests and add the new interruptible as new tests
    
    Daniel preferred to keep the old tests intact lest we accidentally break
    them, and to add the new interruptible tests as new subtests.
    
    In the process also make sure the GPU is idle before starting each loop.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 95426dc206eee75a7092bc6f00a53572892ba0e5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jun 29 16:15:38 2013 +0100

    tests/gem_(cpu|gtt)_concurrent_blit: Enable signals
    
    In order to exercise the bug behind:
    
    commit 22fd5ca947b58901927d100d2b1aa0f1672b3435
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Fri Jun 28 16:54:08 2013 +0100
    
        drm/i915: Only clear write-domains after a successful wait-seqno
    
    we need to check for concurrent access with the potential to be
    interrupted by a signal. The framework for doing so is already in place,
    so just enable it and repeat the tests for longer to give better chance
    of being interrupted at just the wrong moment.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ebfd01908f787876040a679fc7895828b23d268d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jun 27 19:58:57 2013 +0100

    tests/gem_lut_handle: Quit when we hit ENOSPC
    
    I'd been working under the falsehood that we would always generate an
    error for an invalid reloc->target_handle before reserving any object.
    However, only the execlist is checked up front for validity before
    reservation so ENOSPC is a genuine error condition raised by the test.
    Fix it so that we stop reporting that limit as a test failure.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=65391

commit 60e3930987134ff855cb24dd1021eb5225b18857
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jun 24 13:53:44 2013 +0100

    tests/gem_lut_handle: Simplify creation of broken handles
    
    Limit the broken handles to UINT32_MAX-4096 so that we can be sure that
    they do not alias with a valid handle.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=65391
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6de9736394242f207a43e828a8236e4f63c16e03
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jun 24 12:03:54 2013 +0100

    tests/kms_flip: Suppress failure from setting mode
    
    We may fail to set a mode if it fails some hidden constraints, such as
    bandwidth on the third pipe. This is expected, so skip testing such
    modes.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=66111
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit fc6621f5f96f64a3d5ec7b36c64c8d110e99217d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jun 23 16:12:51 2013 -0700

    m4/ax_python_devel: Update to upstream
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit d2048819b9db8781c65399f28696f375448a03e6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jun 21 16:52:53 2013 +0100

    kms_render: Skip unsupported display configurations
    
    Certain modes may not be supported by certain combinations of pipes.
    This is impossible to determine upfront, and we await an atomic
    modesetting query operation. In the meantime, if we fail to set a mode,
    just skip that test.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=66000

commit e56754965fad7c53130cecd26a91b841e22a8ab9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jun 19 14:19:07 2013 +0100

    gem_lut_handle: Print some more information upon failure
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=65391

commit 5bb0897f73b2e42a32338432ae198289f6f8b91c
Author: Jani Nikula <jani.nikula@intel.com>
Date:   Tue Jun 4 15:42:15 2013 +0300

    quick_dump: vlv mipi dsi register support
    
    Signed-off-by: Jani Nikula <jani.nikula@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 67a4ea0ee1ebd3959fe9de9a2849671b97983d9d
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri Jun 7 21:29:02 2013 +0300

    lib: fix drm_fourcc.h include path
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 9d8fc1957c8cccb6875264334cd67bb24c6e7c54
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jun 7 11:44:40 2013 +0100

    gem_lut_handle: Avoid using a valid handle when testing BROKEN

commit 17523ef7bfae5a98f061e13916f25f64eacfb835
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jun 6 16:52:09 2013 +0100

    list-workarounds: Some workarounds start with WA, not Wa
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 528b1f381c4e67c2e63e23b5597070fffe8033d6
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu May 30 22:59:59 2013 +0300

    tests: add kms_render
    
    Add a test going through all connectors/crtcs/modes/formats painting to
    a front FB with CPU or painting to a back FB with CPU and blitting it
    to the front FB.
    
    Only formats understood by cairo are supported for now.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit f68d964c57c9229cad7321463e40f14b3974ec5d
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri May 24 17:26:54 2013 +0300

    lib: refactor kmstest_create_fb
    
    Factor out parts that will be used by an upcoming patch adding
    kmstest_create_fb2.
    
    Also call the fb paint functions directly, there is not much
    point in passing a function pointer for that.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit bfb0cdd668e6ecea56125586f5ddf1cf62cc0383
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri May 31 00:21:43 2013 +0300

    lib: add kmstest_get_connector_config
    
    This is used by multiple test cases, so make it shared.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 334baf05ca4f90a49a86893a702f4cd1270a8dbb
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Jun 5 22:11:11 2013 +0300

    lib: use kmstest_cairo_printf_line in paint_marker
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 542a40c485361909a40830ffd2421082a0e85c89
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu May 30 15:03:48 2013 +0300

    lib: add kmstest_cairo_printf_line
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    [v3: fix mode printing in paint_output_info() botched by debugging leftover :/ ]

commit 3a2aed1f30ea0e4373fa93eab8cb33cd8dd98670
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu May 30 22:53:53 2013 +0300

    lib: move connector_type_str and co to drmtest
    
    These are used by multiple test cases, so make them shared.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit 18bf2e6b343512cf829e8ff8eebd0958bbb59b51
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon May 13 17:54:12 2013 -0300

    intel_chipset: Adding more reserved PCI IDs for Haswell.
    
    At DDX commit Chris mentioned the tendency we have of finding out more
    PCI IDs only when users report. So Let's add all new reserved Haswell IDs.
    
    Bugzilla: http://bugs.freedesktop.org/show_bug.cgi?id=63701
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Acked-by: Kenneth Graunke <kenneth@whitecape.org>

commit 0476c646fa44f017e47030afca0525bccf16a3ae
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Mon May 13 17:54:11 2013 -0300

    intel_chipset: Fix Haswell GT3 names.
    
    When publishing first HSW ids we weren't allowed to use "GT3" codname.
    But this is the correct codname and Mesa is using it already.
    So to avoid people getting confused why in Mesa it is called GT3 and here
    it is called GT2_PLUS let's fix this name in a standard and correct way.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>

commit f1e9e300fa82181182e2e92ccce078682829a3a2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jun 5 11:10:04 2013 +0100

    gem_lut_handle: Make the error checking explicit for LUT handling
    
    What this test is interested in is the handling of the LUT for very
    large arrays, irrespective of whether such batch are actually
    executable. So adjust the pass/fail checks to be explicit in the error
    they are looking for, so that we do not conflate memory/aperture
    pressure as a failure in the LUT API.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=65391
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2e1c11546a4aa69c1e774aaa653bb9d84552e133
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu May 30 08:37:48 2013 +0100

    gem_reg_read: Only check errno after a definite error
    
    As upon success, errno is invalid and may give spurious false results.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=65157
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1cb4f90946289457c3b92773f2ce96b0b03e4a22
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue May 28 17:35:32 2013 +0300

    tests/lib: make sure the GPU is idle at test start and exit
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=64270
    
    v2:
    - Make sure also that the GPU is idle at start and error exit of any
      test using drm_open_any(). (Daniel)
    v3:
    - actually call gem_quiescent_gpu() at exit
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a3b47dbe69deebcaf353876feaefa105136dad05
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue May 28 17:22:57 2013 +0300

    lib: make sure all rings are idle in gpu_quiescent_gpu()
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 55876338fa2bc37f632a8ca970b3573541cacc38
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu May 23 11:16:52 2013 -0700

    quick_dump: fix text file
    
    I accidentally pushed
    commit a08d62257dbdc8f4d3f5e655e0ba7bd192af37ff
    Author: Ben Widawsky <ben@bwidawsk.net>
    Date:   Thu May 23 11:03:25 2013 -0700
    
        quick_dump: Add CCID
    
    before I was ready, in order to get the mmio fix in. This fixes a parse
    error in quick_dump.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 57bc7631e161a7bdcf7f68e1a46049dcb49c2256
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu May 23 11:09:55 2013 -0700

    lib/intel_mmio: Fix the fix
    
    commit 16e44f5499e1754dfb10fc62b22675f5aa6ac781
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Wed Apr 3 00:22:41 2013 +0200
    
        lib: fixup register access on gen2/3
    
    THis fix was incorrect for a few reasons:
    1. It didn't reflect the state in mmio_data.safe
    2. It skipped forcewake on gen6+ which is both incorrect and
    unnecessary (for gen<6).
    3. It had 2 goto done, the second of which was impossible to hit.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a08d62257dbdc8f4d3f5e655e0ba7bd192af37ff
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu May 23 11:03:25 2013 -0700

    quick_dump: Add CCID
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 81ba005381f06283e072a5a5cffd429c83651c53
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu May 23 12:11:26 2013 +0100

    list-workarounds: Don't prepend kernel_path to the driver directory
    
    We are changing the cwd, so we just need the relative patch from the
    root for the kernel git repo. This allows the script to work from
    anywhere.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1109c5acfd58d6f5d7c4b0f1d9961fdc3bfc7732
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed May 22 16:15:04 2013 -0700

    quick_dump: Add basic haswell support
    
    Mostly using the IVB registers + a few I grabbed from i915_reg.h
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 099a92ea28d3bceffaebf7d65ae5a9219038ae0e
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed May 22 15:54:53 2013 -0700

    quick_dump: Add more ring registers
    
    START + CTL (and reorder them in the file)
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 160feafa2dc3616a0731f600919056ba62581bf6
Author: Matt Turner <mattst88@gmail.com>
Date:   Mon Apr 29 10:58:26 2013 -0700

    assembler: Add support for the SENDC instruction.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>

commit 7fcd94b286dc7ef3dac362f97ce8f6de49b71735
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 22 17:40:48 2013 +0300

    kms_flip: add subtests for the DPMS OFF->modeset->flip sequence
    
    Add a double buffer and a single buffer version of the above sequence,
    to check if the modeset does a DPMS ON.
    
    Tested on IVB, with and without the relevant kernel fix, got the
    expected results.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 404f353394ab2e5b8ca55c519ba706ca7d33250c
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 22 17:40:47 2013 +0300

    kms_flip: do a DPMS ON when exiting with error
    
    Currently when exiting with error, we'll get stuck in a DPMS OFF state
    if the error happens while we have DPMS OFF set in the test sequence.
    This happens even though we switch back to text mode at exit. This might
    be a bug in itself to be fixed later, but in any case we want a working
    console, so do an explicit DPMS ON.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bce7d8a06133f1d92ca99acae23ff498552ad327
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 22 17:40:46 2013 +0300

    lib: export the exit handler interface
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4dec89aef746a60a98a1b93823e79b51a5a8a3c6
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 22 17:40:45 2013 +0300

    lib: fix exit handler when multiple handlers are registered
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0e8931925d725317d34bfbe0ba48b52b67ec7859
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri May 10 15:25:49 2013 -0700

    list-workarounds: Convert to python3
    
    The rest of the tool suite that uses python already uses python3.
    The tool configure requires python >= 3 (which is confusing because of
    the no backward compat problem).
    
    The world is slowly moving to python3.
    
    Converted with 2to3.
    
    Reviewed-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 397dcb745ec517eb116694575ac159242bc179bd
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri May 10 14:37:10 2013 +0100

    list-workarounds: Don't add an already present platform
    
    Currently if we come across several sites that say that a specific
    workaround is implemented for a platform, we just add the platform
    several times to the list. eg.
    
    WaFbcDisableDpfcClockGating: ivb, hsw, ivb, hsw
    
    This patch prevent that by only adding the plaform if it's not already
    there.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit eab0823e0e58c4a4ca09410a1aa22689b0de85d8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri May 10 13:41:32 2013 +0100

    ddi_compute_wrpll: Do not use a double constant
    
    Otherwise the expression will be promoted to a floating point
    multiplication
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3b793606421fda9ae6d58dfc253eba24edd944a3
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu May 2 16:38:30 2013 +0100

    ddi_compute_wrpll: Factor out a common expression
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 4897ac41da1bc14e4cc34c2914722a78dc977b5a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu May 2 16:33:56 2013 +0100

    ddi_compute_wrpll: Rework the logic around r2 and n2 a bit
    
    Let's not use the 2K variants of the frequencies it does not help
    in anything here and the explanations are hopefuly more understandable
    this way.
    
    On top of that, I noticed that we can just compute the desired min/max
    boundaries for r2 and n2, so use that instead of the two tests to
    discard out of range values.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bb1dfd5613256e516c86521cac806b4dd227b750
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu May 2 15:21:51 2013 +0100

    ddi_compute_wrpll: Fix the reference for 222525Khz and 296703Khz
    
    Assume that the budget for those frequencies were tuned after the
    reference table was created.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a59b0cd01d84ba4df03b4442e2b336c3c073a549
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu May 2 15:11:49 2013 +0100

    ddi_compute_wrpll: Fix the reference table for 37762500Hz
    
    The 5 was lost when stored in KHz.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8cf09e5ed4860d5d351588414bac0765e22b9b3f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu May 2 14:51:41 2013 +0100

    ddi_compute_wrpll: Code the reference frequencies in Hz
    
    Because the reference frequencies were stored in KHz, we've lost
    precision for 37762500Hz and the test is failing. Let's express the
    reference frequencies in Hz then.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0be2723c3045d04f6970add4214713af697e73df
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Apr 30 17:42:15 2013 +0100

    tools: Add a standalone tool to test the computation of r,n,p for WRPLLs
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3d9beff623f26de2847f38650c2dbfdff5bf93a7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 9 17:17:04 2013 +0200

    tests: fix script testlist
    
    Oops. This has been broken since:
    
    commit d798ab9c2a092a08e14c6f2dfb1777376ba407a8
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Tue Dec 18 22:55:58 2012 +0100
    
        tests: add testcase to check igt runtime enviroment

commit 01b408e43a50415c8d979c52c1b732785c1327ea
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 8 19:06:44 2013 +0300

    testdisplay: set VT graphics mode
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0009a4af3d76ada8df86ec012736792d0543fb08
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 8 19:06:43 2013 +0300

    kms_flip: set VT graphics mode
    
    This is one reason for some of the sporadic kms_flip failures.
    One such is https://bugs.freedesktop.org/show_bug.cgi?id=59834.
    
    v2:
    - use unsigned long for KDSETMODE/KDGETMODE
    - fix passing the parameter to KDGETMODE as it should be by value
    - actually testing that it works..
    
    v3:
    - don't do an explicit DPMS_ON, only switch to graphics mode.
    
    v4:
    - use the newly added drmtest_set_vt_graphics_mode(), which will also
      take care of restoring the original mode. (Daniel)
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cf26435be80232a30de918f6b231ffb7e3b30ee4
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 8 19:06:42 2013 +0300

    lib: add helper to set VT graphics mode
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d2f7a66fee4fa5e3b011866c0dcb30d77f20d4e5
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed May 8 19:06:41 2013 +0300

    kms_flip: suppress uninitialized var warning
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cc6c254ae91bf633ac0ff5851ba2593ded13ec45
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Apr 29 19:05:27 2013 +0100

    reg_dumper: Shut a warning down
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6587f66ff3fcddca443e4ed9da7f58c54d2401a5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Apr 29 18:57:47 2013 +0100

    lib: Add the declaration of intel_register_access_needs_fakewake()
    
    Otherwise gcc complains that the function hasn't been declared.

commit ec3e7a66f0511a7089d87b63d09d3371a52e3156
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Apr 29 15:51:59 2013 +0100

    Update .gitignore files with the new tests and tools
    
    Also sort them.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f5f6036bbea88e652ace24ad8e81173877bffa70
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Apr 29 14:53:07 2013 +0100

    lib: Remove the execution bit of intel_chipset.h

commit 6a82b68e3689e5a5d67fa39aaa0dcf97cb632107
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Mar 26 15:14:56 2013 +0000

    build: Make grep silent when running make test
    
    -q will prevent grep from writing to stdout and print "root" when make
    test is running as root.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 7e9fd56873aba26a196c18d233d8ea40a9f0eac3
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Mar 25 17:15:50 2013 +0000

    README: Reword a few sentences
    
    To be a bit more correct (they were understandable though).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b9765af636510fe0896c8e1648a4cd003cd91ca1
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri May 3 16:08:25 2013 +0100

    scripts: Add a script to list implemented workarounds
    
    We document the implemented workarounds with
    
      workaround_name:platforms
    
    with platforms being a comma separated list of 3-letters platform names.
    
    This scripts gather those tags and output a summary of implemented work
    arounds. Example usages:
    
    $ ./scripts/list-workarounds ~/gfx/sources/linux-2.6/
    WaApplyL3ControlAndL3ChickenMode: hsw, ivb, vlv
    WaCatErrorRejectionIssue: hsw, ivb, vlv
    WaDisable4x2SubspanOptimization: hsw, ivb
    WaDisableBackToBackFlipFix: ivb, vlv
    WaDisableDopClockGating: vlv
    ....
    
    $ ./scripts/list-workarounds ~/gfx/sources/linux-2.6/ -p ivb
    WaApplyL3ControlAndL3ChickenMode
    WaCatErrorRejectionIssue
    WaDisable4x2SubspanOptimization
    WaDisableBackToBackFlipFix
    WaDisableEarlyCull
    ...
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a417ef7cc8ebe01a3198849db8cf9e6896c54a0b
Author: Zhong Li <zhong.li@intel.com>
Date:   Fri May 3 15:55:34 2013 +0800

    i-g-t: gem_dummy_reloc_loop.c: add vebox test case
    
    Aside from adding VEBOX support, this test allows allows the "mixed"
    test case variant to work on platforms that have 2 rings which was
    previously not the case. To the best of my memory, this might therefore
    impact G45, and Ironlake.
    
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    [Ben: added commit message, remove num_rings = 1, s/LOCACL/LOCAL]
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8ddf84d1295925a831f4e37a33308aa7cb3c0e94
Author: Zhong Li <zhong.li@intel.com>
Date:   Fri May 3 15:54:48 2013 +0800

    i-g-t: check kernel enable rings or not
    
    1. add functions check kernel enable a ring or not.
    2. add function gem_get_num_rings() to check how many rings kernel has
    enable.
    3. gem_ring_sync_loop.c will call gem_get_num_rings() directly instead
    of original static fucntion get_number_rings().
    
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    [Ben: Wrapped commit message + whitespace fixes]
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 53d251ac23d8a3f5c4d0144794788a1423a5fa14
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 2 08:10:15 2013 +0200

    tests/prime_udl: don't put dirt into stderr when skipping
    
    It upset's QA's test runner.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bafbbf1cc8663fa192c57152f2c13a81e68f9089
Author: Zhong Li <zhong.li@intel.com>
Date:   Tue Apr 23 15:06:45 2013 +0800

    gem_exec_nop.c: add vebox test case
    
    v2 (Ben):
    Fixed whitespace,
    s/HAS_BLT_RING/gem_has_vebox/
    s/I915_EXEC_VEBOX/LOCAL_I915_EXEC_VEBOX
    
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 21e7e342c14a69d62a24a9bce89b66c3ef0fd208
Author: Zhong Li <zhong.li@intel.com>
Date:   Tue Apr 23 15:06:44 2013 +0800

    gem_cs_tlb.c: add vebox test case
    
    v2 (Ben):
    Fixed whitespace,
    s/HAS_BLT_RING/gem_has_vebox/
    s/I915_EXEC_VEBOX/LOCAL_I915_EXEC_VEBOX
    
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b6fa628db0459c4a6b5946527570879a0c551898
Author: Zhong Li <zhong.li@intel.com>
Date:   Tue Apr 23 15:06:48 2013 +0800

    gem_ring_sync_loop.c: fix an operator error
    
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8be812b86c1a6d03822bf788c05f38abb531cc0d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Apr 26 14:26:48 2013 -0700

    intel_mmio: Add intel_register_access_needs_fakewake
    
    I screwed this up in my recent patch:
    commit c7b6ec50007e2e524a208572c34faf1380eeab1b
    Author: Ben Widawsky <ben@bwidawsk.net>
    Date:   Wed Apr 24 19:05:18 2013 -0700
    
        clean warnings: Silence unused (or private) functions
    
    I've clarified the functions now, and added the proper call from the
    python script.
    
    Time to get a regression tester for our tools?
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 2facc1368d5af8417e240f68153cecdfb5dc731a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Apr 26 08:30:04 2013 +0100

    Check for vebox support before testing
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=63941

commit cae610a2e5ab137229c666f435b7bcb4a67a423e
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu Apr 25 15:18:19 2013 -0700

    fix breakage from newly used functions vs rebase

commit d6917cf72d823cc478f4ad8c21386e65ab503328
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu Apr 25 14:43:03 2013 -0700

    add punit and nc read/write tools for vlv
    
    Good for testing/debugging.

commit c7b6ec50007e2e524a208572c34faf1380eeab1b
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Apr 24 19:05:18 2013 -0700

    clean warnings: Silence unused (or private) functions
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit cf73a1f241542dadb49ae2c6d491c725218a68e8
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Apr 24 18:50:01 2013 -0700

    gem_storedw_loop_vebox: Modernize test to look like blitter
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 96baf59f3edd64117f8e90926b4af0b50cd89e21
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Apr 23 15:06:43 2013 +0800

    tests: storedw on VEBOX
    
    v2 (Ben): Define LOCAL_I915_EXEC_VEBOX
    Small copyright fixes
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f187990bbf4396c7ae1796030377301bdd493852
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Apr 23 15:06:42 2013 +0800

    gem_ring_sync_loop: test the new ring
    
    The code is surround by a #ifdef...#endif to avoid to break compiling against
    the current libdrm release
    
    v2 (Ben): Use VEBOX get param. Thankfully Daniel let us carve this out
    way back when.
    Spacing cleanups
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 0a413cd8a935744c1abf3c4ee3d95698dd68ca93
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Apr 23 15:06:41 2013 +0800

    gem_ring_sync_loop: check the rings supported by the kernel
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
    Signed-off-by: Zhong Li <zhong.li@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit afeb43190e705c91565d92f93afc33aaca4a7bd3
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Apr 22 11:36:03 2013 -0700

    intel_error_decode: HEAD stuff
    
    Show the decoded HEAD value, as well as print the calculated head offset
    per ringbuffer.
    
    This will be superceded in the next commit, but that patch is way more
    complicated than this one (read: error prone), so I want this here.
    
    Example:
    ringbuffer (blitter ring) at 0x00044000; HEAD points to: 0x00044950
    
    v2: Actually make it work for all rings.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 155aa1e1fa18b2d6665cb48b073af73bc86850e6
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Apr 22 11:07:35 2013 -0700

    intel_error_decode: Whitespacing fix
    
    The rest of igt has moved to kernel coding style. People had already
    been not conforming with the existing formatting in error decode, so we
    may as well fix it.
    
    This addresses two primary issues, tabbing (remove spaces), and space
    after function in function call. I may have missed some of the latter
    since that was done by hand.
    
    I have upcoming work in this file, and it was annoying me.
    
    v2: Fix case alignment (Chris)
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 70afbead463fd0b5c9af29ebd7a169d316364c29
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Apr 17 23:18:02 2013 +0300

    tests/prime_self_import: add subtest to export/import a second gem buffer
    
    Also add a subtest for the fd=handle_to_fd(), fd2=dup(fd), close(fd)
    case (idea from Kristian Høgsberg).
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    
    v2:
    - add a new subtest instead of modifying the original test (Daniel)
    - add a new subtest for testing dup (Kristian)
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6f0d8b011e412d9dfb03c87d58d9b30440058ca5
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Apr 16 23:09:25 2013 -0700

    quick_dump: Add dpio read
    
    The sample usage is in reg_access.dpio_read(). We should add some
    semantics to the text files to detect DPIO registers, and do the right
    thing.
    
    Cc: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>
    Reviewed-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a59b0ee5d403630152fd720cd9dde2846424bd8a
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 21 22:05:36 2013 -0800

    reg_access: Forcewake as necessary
    
    Don't try to be smart. Just poke all forcewake bits if it seems we need
    it.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 67ed990604254af6a2cb3aa4d128dabb7714f3e2
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 21 22:05:35 2013 -0800

    quick_dump: add register write
    
    Since there is no command line support, just do a pure integer version
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f60dd5153500514baba060857e115e6c0d3e1617
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 21 22:05:34 2013 -0800

    intel_mmio: a query for forcewake requirement
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8904d29416e784f7ba0fb74455505fc251dd894f
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 21 22:05:33 2013 -0800

    intel_mmio: Allow mmio without debugfs
    
    With the introduction of the forcewake dance:
    
    commit cac8f8b52621f246a7cff412f340a7db28cb1b99
    Author: Ben Widawsky <ben@bwidawsk.net>
    Date:   Thu Jul 28 13:40:19 2011 -0700
    
        forcewake: Add mmio code to do proper forcewake stuff for gen6
    
    We lost the ability to do register access when either debugfs isn't
    mounted, or when the driver isn't loaded. The latter can be beneficial
    in debugging situations.
    
    This patch will allow the driver to still do mmio (leaving forcewake
    management up to the callers) provided that the i915 driver appears to
    not be loaded (according to sysfs)
    
    Requested by Jesse.
    
    Cc: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ec107b019435ab49e8454664368bf1187f3d0273
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 21 22:05:32 2013 -0800

    quick_dump: say something when reg init fails
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 0b7da0afb10b3ebfd8615d7b3e50bde013aa2b0a
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Apr 16 13:16:31 2013 -0700

    fixup VLV reg offsets, add a few more

commit 25339595a764c0b50516b7db60fd117128a6c8bc
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Apr 16 13:14:58 2013 -0700

    add VLV punit & north cluster read tools

commit 2fe3f76c255b08f4b462fc64be12d5e4ac7b37cd
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Thu Apr 11 20:43:40 2013 +0300

    tests/gem_fenced_exec_thrash: Test with > max fences
    
    Make sure the kernel returns EDEADLK when the number of fences is
    exceeded for gen2-3. For gen4+ the test makes sure the kernel ignores
    the EXEC_OBJECT_NEEDS_FENCE flag.
    
    Note that I changed the code not to round the num_fences to an even
    number. Not sure why that was there, and if there's a reason for it,
    we need to add it back.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7ca33b673ee90b0a93ffdb18449256798f67786
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Thu Apr 11 16:11:28 2013 +0300

    tests/gem_seqno_wrap: verify debugfs write with readback
    
    Make sure that debugfs entry works as expected by reading
    back the sequence number that was written.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 918e763e2dd474a58c43c145c10e7f3aa4ec9a39
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue Apr 9 17:45:37 2013 +0300

    tests/gem_tiling_max_stride: Add a test for max fence stride
    
    gem_tiling_max_stride writes a data pattern to an X-tiled buffer using
    the maximum supported stride, reads the data back as linear, and
    verifies that the data didn't get scrambled on the way.
    
    The test also checks that some invalid stride values are rejected
    properly.
    
    v2: Check invalid strides
    v3: Check invalid stride with Y-tiling
        Include a few more invalid stride values
        Fix gen3 X-tile size
    v4: A few more invalid strides :)
        Drop the useless memset()
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Reviewed-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1d1f68316f420d8e174d3f16655f6be1549cd74c
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue Apr 9 15:25:38 2013 +0300

    tests: Use gem_available_fences()
    
    lib/drmtest.c provides gem_available_fences(). Use it where
    appropriate.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e37eb35e194de8fe1f244df085b8b8d2c530ce20
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue Apr 9 15:25:37 2013 +0300

    tests/gem_fenced_exec_thrash: Increase MAX_FENCES to 32
    
    IVB+ supports 32 fence registers, bump the maximum in the test.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b0c63a781dd597288c3a240b10996f4b313cbbd4
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Apr 4 14:33:59 2013 -0300

    intel_reg_dumper: improve the dumping of backlight registers
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit d6dd0bcb1c99cc7be5819851565128f5dc6651f0
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Apr 8 10:50:57 2013 -0700

    m4: Updates to ax_python_devel.m4
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 0a8bfbf7476d845b2136b6e7f9360cd3fbe6d426
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Apr 8 09:19:05 2013 +0200

    tests/gem_fence_trash: make threaded tests more through-rough
    
    With this at least the y-tiled test reliably fails on my machines, but
    x-tiled still passes on some. More ideas to tune this highly welcome.
    
    v2: Fill cpu caches with data for each newly allocated bo. This seems
    to do the trick on my snb here _really_ reliably. So apparently the
    backsnoop for llc gtt writes is the crucial ingredient here to make
    the test fail.
    
    While at it, also stop leaking mmap space.
    
    v3: Fixup commit message.
    
    Cc: Mika Kuoppala <mika.kuoppala@linux.intel.com>
    Cc: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cb3a44fa2691e0a642b150373b5fd9d0f554a7ce
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Apr 8 00:31:06 2013 +0200

    lib/drmtest: tune down signal handler stats
    
    Avoids tests with a spurious WARN result in piglit.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1677c2129113adfd7cda766548b09e0bfec10b3e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Apr 6 18:29:37 2013 +0200

    tests/kms_flip: don't leak gpu hang state
    
    We need to clear out the error_state. While at it also make sure that
    the hang was indeed detected.
    
    Whoever writes the next test to race against gpu hangs should probably
    extract these two functions into the drmtest library. Which just one
    user that's not really worth it right now.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c97a45ff098ba1e9772b5d1ebeedf52ec2b64652
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 4 11:36:27 2013 +0200

    tests/prime_udl: skip harder
    
    I fail.

commit d16dd3a0f896d7d7060427a4547d19472a0ea492
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 4 11:06:37 2013 +0200

    tests/prime_udl: proper return values
    
    ... especially skip properly if there's no udl device.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 16e44f5499e1754dfb10fc62b22675f5aa6ac781
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 3 00:22:41 2013 +0200

    lib: fixup register access on gen2/3
    
    This wreaked havoc with intel_reg_dumper since it's been broken in
    
    commit c6fe31bc473a7ae44bc42bad7da5faca3c924821
    Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
    Date:   Thu Jun 21 14:31:34 2012 -0300
    
        intel_reg_dumper: use intel_register_access_init/fini
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 74f6e413d3cba0e95d1233c71e119ff50cd406d2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Mar 27 11:32:47 2013 +0000

    gem_fence_thrash: Fix array allocation size for LP64 systems

commit 43a086269795c5b41bdab0dc2c456be0de97e762
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Tue Mar 26 22:06:39 2013 -0700

    intel_perf_counters: Add support for Sandybridge.
    
    While the Sandybridge PRM doesn't have any documentation on the GPU's
    performance counters, a lot of information can be gleaned from the older
    Ironlake PRM.  Oddly, none of the information documented there actually
    appears to apply to Ironlake.  However, it apparently works just great
    on Sandybridge.
    
    Since this information has all been publicly available on the internet
    for around three years, we can use it.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0811556747ce861730d8eb310860080b8840e202
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Tue Mar 26 22:06:38 2013 -0700

    intel_perf_counters: Abstract out Ironlake-specific code.
    
    We want to support this tool on more platforms.  This lays the
    groundwork for making that possible.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 85667f4f7d698ba994af32a65b1393d54b8d8784
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Mar 26 22:06:37 2013 -0700

    intel_perf_counters: a little tool for dumping performance counters.
    
    This reads the GPU's performance counters via MI_REPORT_PERF_COUNT and
    prints them in a top-style interface.  While it can be useful in and of
    itself, it also documents the performance counters and lets us verify
    that they're working.
    
    Currently, it only supports Ironlake.
    
    v2 [Ken]: Rebase on master and fix compilation failures; make it abort
    on non-Ironlake platforms to avoid GPU hangs; rename from 'chaps' to
    intel_perf_counters since that acronym isn't used any longer; write the
    above commit message.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9535fed171386713dba1147fb9e76f7310a6bc3f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 27 12:26:46 2013 +0100

    tests/Makefile.am: gem_fence_trash has grown subtests
    
    Need to move it to the right make target now!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ee79b8fccd64218fb8218d1c281ff34db1724e87
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Wed Mar 27 12:48:07 2013 +0200

    tests: add write-verify test to gem_fence_thrash
    
    Add write-verify test to gem_fence_thrash. Test will create
    multiple threads per fence then verify the write into fenced region.
    
    v2: non-threaded, non-tiled tests added. suggested by Chris Wilson.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7253eb4e4f875777104e24454b2216d17655cae1
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 22 14:28:24 2013 -0300

    intel_reg_dumper: debug SDEISR on Haswell
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 1043b22bb02ddb37e3abbcc2108c6ebe03eeb9f0
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 1 17:32:34 2013 -0300

    lib: fix HAS_PCH_SPLIT check
    
    So HAS_PCH_SPLIT on't be true on VLV.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 051e327247dbfeb4671fd5ece48e64aa52b7b835
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 1 17:12:29 2013 -0300

    intel_reg_dumper: dump HSW watermark registers
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit eb88ce64b7266b0593904b84c8fcaac5c59d0260
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 1 16:55:22 2013 -0300

    intel_reg_dumper: decode some useful Haswell registers
    
    I've checked the value of these registers many many many times during
    development.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 5c0ce0f2a9d7957b45bac3cfbab6a003a024cb9c
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 1 15:46:25 2013 -0300

    intel_reg_dumper: make Haswell dump useful
    
    It was previously printing ironlake_debug_regs and haswell_debug_regs.
    Since ironlake_debug_regs contains a lot of registers that don't exist
    on Haswell, running intel_reg_dumper on Haswell caused "unclaimed
    register" messages. Now I've copied the existing registers from
    ironlake_debug_regs to haswell_debug_regs, so we won't print the
    registers that don't exist anymore.
    
    Also removed DP_TP_STATUS_A since it doesn't exist.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 2fadf695ff54f282d88ced849d260de8cd201b15
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 1 13:53:40 2013 -0300

    intel_reg_dumper: recognize LPT
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit 29abdb96dca554858b86e6fe3c1e69ea4aecc521
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Mar 1 13:30:46 2013 -0300

    lib: detect PCH_LPT and PCH_NONE
    
    So we don't assign PCH_IBX to anything that's not PCH_CPT nor PCH_LPT.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit c3bfd738c71b2821fcdc5c769c088578d84dc0a1
Author: Kees Cook <keescook@chromium.org>
Date:   Fri Mar 15 11:09:07 2013 -0700

    tests: add gem_reloc_overflow to check wrapping
    
    This adds a test to make sure that the execbuffer validation routine is
    checking for invalid addresses, single entry overflow, and multi-entry
    wrapping overflow.
    
    Signed-off-by: Kees Cook <keescook@chromium.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7da0af8855c1ecf075dc6019d9b711d969219722
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Mar 4 15:34:07 2013 +0200

    kms_flip: Don't access freed data
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 069e35e0fc3785faa562adcfd2dd7bbed4cb1dea
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Mar 4 15:34:06 2013 +0200

    kms_flip: Add flip-vs-bad-tiling test
    
    flip-vs-bad-tiling tests that page flipping to a Y-tiled buffer returns
    an error correctly, rather than triggering kernel BUG for instance.
    
    Create a third fb for this purpose. After the fb has been created,
    change its tiling mode to Y. When performing a flip, target this
    Y-tiled fb and make sure we get the expected error value.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7ab8e53b5d44812d796e2e964dd084fe6692491c
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Feb 15 17:10:47 2013 +0200

    kms_flip: Add a flip-vs-panning-vs-hang test
    
    The flip-vs-panning-vs-hang is just like the regular flip-vs-panning
    test, except it also hangs the GPU. This will test whether panning
    works after a pending page flip has been cancelled by a GPU reset,
    and also whether page flip events get delivered correctly.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f5957c64ea5c28d785e60e36adaf2a507665b02
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Fri Feb 15 17:10:46 2013 +0200

    kms_flip: Split the "no events" logic into a separate flag
    
    Do not use the TEST_HANG flag to determine whether page flip events are
    used. Add a new TEST_NOEVENT flag that can be used to disable the use
    of events instead.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c6c6f0f5937da94c0efb70bbd56d72bba1dc0f96
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Mar 21 16:19:36 2013 +0000

    lib: Add a comment about why we only parse long options for subtests
    
    For thet next one wondering about that.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 764b9e503e83d7ad9d7f7dae61ab24763b7cac9c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Mar 4 15:59:00 2013 +0000

    build: Fix typo if the test setting enable_debugger
    
    Of course, a 'x' need to be inserted there.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 45919917697572214106d0f996d9ef5b33901600
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Feb 4 13:57:48 2013 +0000

    assembler: Mark format() as PRINTFLIKE in the disassembler
    
    So when making changes in code using that function, we get warnings
    about mismatches between the format string and arguments.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 92262e1ff8c1b2d68b910adcadafe24761469d10
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Feb 4 12:23:57 2013 +0000

    assembler: Fix the decoding of the destination horizontal stride
    
    dest_horizontal_stride needs go through the horiz_stride[] indirection
    to pick up the rigth stride when its value is 11b (4 elements).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d9afa5bfeac435dcfded66908b49fd342a007312
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Feb 4 12:12:29 2013 +0000

    assembler: Group the header inclusions together
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f0365d40b4e83d13c1865d48e571271737a58c65
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Feb 4 12:02:18 2013 +0000

    assembler: Don't use GL types
    
    sed -i -e 's/GLuint/unsigned/g' -e 's/GLint/int/g' \
           -e 's/GLfloat/float/g' -e 's/GLubyte/uint8_t/g' \
           -e 's/GLshort/int16_t/g' assembler/*.[ch]
    
    Drop the GL types here, they don't bring anything to the table. For
    instance, GLuint has no guarantee to be 32 bits, so it does not make too
    much sense to use it in structure describing hardware tables and
    opcodes.
    
    Of course, some bikeshedding can be applied to use uin32_t instead, I
    figured that some of the GLuint are used without size constraints, so
    a sed with uint32_t did not seem the right thing to do. On top of that
    initial sed, one bothered enough could change the structures with size
    constraints to actually use uint32_t.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 2d8b92a24b2d6aebe2ced1f014b6c3129f86b91c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Feb 1 14:54:46 2013 +0000

    assembler: Remove trailing white space
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 2f502bcaaa06419b8a8cfb328d2fbd8dc982f771
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Feb 1 14:09:41 2013 +0000

    assembler: Use defines for width
    
    Instead of just using hardcoded numbers or resorting to ffs().
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 2de8b40c4820a1159aa46ba683ab0849ada3efa5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Feb 1 13:59:32 2013 +0000

    assembler: Merge declared_register's type into the reg structure
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 45d87d7f0bf8e1be1fedd386b97a70b6b9505e5f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Feb 1 13:29:48 2013 +0000

    assembler: Finish importing brw_eu_*c from mesa
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit fa2b679cc926add04c22c1e5ffb32bf9d9bd8584
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 18:22:49 2013 +0000

    assembler: Use set_instruction_src1() in send
    
    No reason not to!
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 28ff66a13c9dcc7aeb7bcff8d173495ee53deef9
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 14:28:00 2013 +0000

    assembler: Put struct opcode_desc back in brw_context.h
    
    I originally moved struct opcode_desc from brw_context.h to brw_eu.h on
    the mesa side, but that was before the realization we needed struct
    brw_context if we wanted to not touch the code too much.
    
    So put it back there now that the mesa patch has been dropped.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e75faa3e43360995354683987c42e02b5ca16b19
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 14:25:42 2013 +0000

    assembler: Don't pollute the library files with gen4asm.h
    
    gen4asm.h is assembler specific while we want the library files to be
    somewhat of a proper library.
    
    This means that we have to redefine the GL* typedefs for brw_structs.h,
    not using any of thet GL typedef will be for a future commit.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 26da375471edfa02b5558e6a29470dc2adcdcfa6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 01:28:15 2013 +0000

    assembler: Use brw_*() functions for 3-src instructions
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 67f3f949bfaf0eefda22fb03f0eed827053c4247
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 01:27:36 2013 +0000

    assembler: Add support for D and UD in 3-src instructions
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a2a6583518682442865b683a1e48ec83c46ed100
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 00:53:46 2013 +0000

    assembler: Expose setters for 3src operands
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 49861a03b6b3c9316ca329dba231623e64930816
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 00:26:51 2013 +0000

    assembler: Introduce set_instruction_saturate()
    
    Also simplify the logic that was setting the saturate bit in the math
    instruction.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b21c2e60e9d9c3a2a8482d77a7f7e29f997d7dda
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 31 00:18:47 2013 +0000

    assembler: Introduce set_intruction_pred_cond()
    
    This allow us to factor out the test that checks if, when using both
    predicates and conditional modifiers, we are using the same flag
    register.
    
    Also get rid of of a FIXME that we are now dealing with (the warning
    mentioned above).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5d526c8317fb6f0fc7741ff558cbb9dcd0fdfc6e
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 23:39:09 2013 +0000

    assembler: Introduce set_instruction_opcode()
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6bf3aa84e0c608ae4c628c6215694d70245da53e
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 23:25:19 2013 +0000

    assembler: Isolate all the options in their own structure
    
    Like with the predicate fields before, there's no need to use the full
    instruction to collect the list of options. This allows us to decouple
    the list of options from a specific instruction encoding.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit bca2ff2a0229c6ddf29221fee71b45a12e941640
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 23:00:26 2013 +0000

    assembler: Unify adding options to the header
    
    Right now we have duplicated code for when the option is the last in the
    list or not. Put that code in a common function.
    
    Interestingly it appears that both sides haven't been kept in sync and
    that EOT and ACCWRCTRL had limitations on where they had to be in the
    option list. It's fixed now!
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit dfe6adacc923336fa1e98b781ff67abaada29b95
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 22:32:07 2013 +0000

    assembler: Gather all predicate data in its own structure
    
    Rather than user a full instruction for that. Also use
    set_instruction_predicate() for a case that coud not be done like that
    before the refactoring (because everyone now uses the same instruction
    structure).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9b78f74f23aee082fe6e2e5686b6325b1f942288
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 17:09:17 2013 +0000

    assembler: Move struct relocation out of relocatable instructions
    
    Now that all instructions (relocatable or not) are struct
    brw_program_instructions, this means we can move the relocation specific
    information out the "relocatable instruction" structure. This will allow
    us to share the relocation information between different types of
    instructions.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f6e9052e8d62606c3a89c2e6f138a66a003854ae
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 17:04:13 2013 +0000

    assembler: Unify all instructions to be brw_program_instructions
    
    Time to finally unify all instructions on the same structure.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d008064b3ef6a85181a61e97f51a9b4c9319ddc8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 30 12:31:45 2013 +0000

    assembler: Renamed the instruction field to insn
    
    This will be less typing for the refactoring to come (which is use
    struct brw_program_instruction in gram.y for the type of all the
    instructions).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 888b2dcae60cb2db0eb95adddfd894f58dc6dc89
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 28 15:29:26 2013 +0000

    assembler: Use brw_set_src1()
    
    Everything is now aligned to be able to use brw_set_src1() in the
    opcode generation, so use it.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d3a2a678d51ca23ca72aa2e066642ccce5abc0ff
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 28 15:27:59 2013 +0000

    assembler: Implement register-indirect addressing mode in brw_set_src1()
    
    The assembler allows people to do that and that's something available
    since Crestline.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8eb30d9493690471ad04953b609dfe7da35352d7
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 27 11:23:38 2013 +0000

    assembler: Fix ')' placement in condition
    
    A small typo in the condition.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1d53e1813e2519c966a527efc20a1b5795f25b60
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 27 11:05:50 2013 +0000

    assembler: Cleanup visibility of a few global variables/functions
    
    Not everything has to be exported out the compilation unit. Do a small
    cleanup pass.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6d3d36953549afed7ebc9afe5e26f133173d835d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 27 10:41:23 2013 +0000

    assembler: Port the warning and error reporting to warn()/error()
    
    This way we ensure to have a single place where these are handled. The
    immediate benefit is that now line numbers are always printed out, which
    is quite handy.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e7cca1a3cafb2f33b4ae94afb9a11dd01085b23d
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 27 02:06:22 2013 +0000

    assembler: Use brw_set_src0()
    
    Unfortunately, it's all a walk in the park. Both, internal code in the
    assembler and external shaders (libva) generate registers that trigger
    assertions in brw_eu_emit.c's brw_validate().
    
    To fix all that I took the option to be able to emit warning with the -W
    flag but still make the assembler generate the same opcodes.
    
    We can fix all this, but it requires validation, something that I cannot
    do right now.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1eb622a8477e1e850bbd7d6a1ff500a3b4eb4181
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 27 01:32:52 2013 +0000

    assembler: Add the input filename to the error/warning messages
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 95b12082d272699ade246f625d4fa231c3ae5204
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 26 23:55:01 2013 +0000

    assembler: Add a check for when ExecSize and width are 1
    
    Another check (that we hit if we try to use brw_set_src0()). Again,
    protect it with the -W option.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d70e9f824f6f837614bbc2714c5ccc5f77d2c539
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 26 23:09:42 2013 +0000

    assembler: Add a check for when width is 1 and hstride is not 0
    
    The list of region restrictions in bspec do say that we can't have:
         width == 1 && hstrize != 0
    
    We do have plenty of assembly code that don't respect that behaviour. So
    let's hide the warning under a -W flag (for now) while we fix things.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e9172aa22538216cd434c700d78915ec06142238
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 26 22:44:45 2013 +0000

    assembler: Add error() and warn() shorthands and use them in set_src[01]
    
    Now that we have locations, we can write error() and warn() functions
    giving more information about where it's going wrong.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit d94e8a6cf0952e0a905699a47a50e57181fb414f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 26 19:51:28 2013 +0000

    assembler: Add location support
    
    Let's generate location information about the tokens we are parsing.
    This can be used to give accurate location when reporting errors and
    warnings.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 574a249142f0b3140bda599326e581bb36b328da
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 26 18:26:03 2013 +0000

    assembler: Don't warn if identical declared registers are redefined
    
    There's no real need to warn when the same register is declared twice.
    Currently the libva driver does do that and this warning makes other
    errors really hide in a sea of warnings.
    
    Redefining a register with different parameters is a real error though,
    so we should not allow that and error out in that case.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9c72beb70123050db74281bb5f9e5250bb800491
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 25 15:48:58 2013 +0000

    assembler: Store immediate values in reg.dw1.ud
    
    Another step in pushing the parsing in struct brw_reg.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 103edccd9b1a660d82eb40cffd2d6f5b17d5f752
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 25 15:13:30 2013 +0000

    assembler: Fix comparisons between reg.type and Architecture registers
    
    Of course the assertion is there to make sure GRF and MRF have a reg.nr
    < 128. To exclude ARF registers, reg.file has be checked, not reg.type
    (channel type). Most likely a typo never caught.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6e83eb66b1a8c32b7ecfa212c831b46ef3da996f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 25 15:12:12 2013 +0000

    assembler: ExecSize can be as big as 32 channels
    
    See the IVB PRM, vol4 part3 5.2.3.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c0592b2882c5bc6f08983d054e51f28f9c8ebdf9
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 24 18:32:20 2013 +0000

    assembler: Factor out the source register validation
    
    The goal is to use brw_set_src[01](), so let's start by validating the
    register we have before generating the opcode.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9fcc1bdcad1a993d4681673d96443991d0c3bac4
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 24 16:16:35 2013 +0000

    assembler: Use brw_set_dest() to encode the destination
    
    A few notes:
    
    I needed to introduce a brw context and compile structs. These are only
    used to get which generation we are compiling code for, but eventually
    we can use more of the infrastructure.
    
    brw_set_dest() uses the destination register width to program the
    instruction execution size.
    
    The assembler can either take subnr in bytes or in number of elements,
    so we need a resolve step when setting a brw_reg.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5e0da9f854fea552cbc73f07a2e86a370f35aa92
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Thu Jan 24 12:21:13 2013 +0000

    assembler: Factor out the destination register validation
    
    The goal is to use brw_set_dest(), so let's start by validating the
    register we have before generating the opcode.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9d5a87a096a71a7c689437fdd25f2c8eb260625c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 22:29:23 2013 +0000

    assembler: Use brw_reg in the source operand
    
    Last refactoring step in transition to struct brw_reg.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c13613ea2df3a021263dc9c0514f940658024eb3
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 21:46:21 2013 +0000

    assembler: Get rid of src operand's swizzle_set
    
    swizzle_set can be derived from the value of swizzle itself, no need for
    that field.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a82722b60f9d4508a1ba41bff53a4d7cb3b49437
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 21:35:10 2013 +0000

    assembler: Consolidate the swizzling configuration on 8 bits
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0375073f0529f894d89d3de2f67799ce9312fc16
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 20:33:00 2013 +0000

    assembler: Replace struct dst_operand by struct brw_reg
    
    One more step on the road to replacing all register-like structures by
    struct brw_reg.
    
    Two things in this commit are worth noting:
    
    * As we are using more and more brw_reg, a lot of the field-by-field
      assignments can be replaced by 1 assignment which results is a
      reduction of code
    
    * As the destination horizontal stride is now stored on 2 bits in
      brw_reg, it's not possible to defer the handling of DEFAULT_DSTREGION
      (aka (int)-1) when setting the destination operand. It has to be done
      when parsing the region and resolve_dst_region() is a helper for that
      task.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 801b4eb1b3ea52f81587a30f3cdcff8affe9ab72
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 16:20:05 2013 +0000

    assembler: Unify the direct and indirect register type
    
    They are all struct brw_reg registers now.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 36f8f65aa06bfbd3785bb43bc9c646b6769b1be2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 16:17:28 2013 +0000

    assembler: Replace struct indirect_reg by struct brw_reg
    
    More code simplification can be layered on top of that (by using some
    brw_* helpers to create registers), that'd be for another commit.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit b33b8810e084a32adeae0c2da64484e3e1d2361c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 16:06:49 2013 +0000

    assembler: Replace struct direct_reg by struct brw_reg
    
    More code simplification can be layered on top of that (by using some
    brw_* helpers to create registers), that'd be for another commit.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit cce4fc2c36b18c349f0fe63f14f15ec6dd880fc0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 23 15:13:55 2013 +0000

    assembler: Make struct declared_register use struct brw_reg
    
    It's time to start converting the emission code in gram.y to use libbrw
    infrastructure. Let's start with using brw_reg for declared register.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6b5680475761e22ec0fb46bc518b5e4e61e0c863
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 22:17:54 2013 +0000

    assembler: Don't expose functions only used in main.c
    
    and make then static.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c74c80c9a5d2d84c55ba373d2d56ada635467ee6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 22:12:10 2013 +0000

    assembler: Make sure nobody adds a field back to struct brw_instruction
    
    Adding something there will break the library, so we might as check for
    it.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 79c62f1134b2200fc49c43178d846ecba8e37a7b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 21:41:36 2013 +0000

    assembler: Don't change the size of opcodes!
    
    Until now, the assembler had relocation-related fields added to struct
    brw_instruction. This changes the size of the structure and break code
    assuming the opcode structure is really 16 bytes, for instance the
    emission code in brw_eu_emit.c.
    
    With this commit, we build on the infrastructure that slowly emerged in
    the few previous commits to add a relocatable instruction with the
    needed fields.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a45a47183a98e07f7a44330cd68bf65fec8d6dea
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 19:28:41 2013 +0000

    assembler: Make explicit that labels are part of the instructions list
    
    The output of the parsing is a list of struct brw_program_instruction.
    These instructions can be either GEN instructions aka struct
    brw_instruction or labels. To make this more explicit we now have a type
    to test to determine which instruction we are dealing with.
    
    This will also allow to to pull the relocation bits into struct
    brw_program_instruction instead of having them in the structure
    representing the opcodes.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 73d58edab9fca04d9b00f9e1a9095bbbb00f25a4
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 17:07:28 2013 +0000

    assembler: Refactor the code adding instructions and labels
    
    Factoring out the code from the grammar will allow us to switch to
    using brw_compile in a cleaner way.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5e5861183df1326f74f66886c3f580d43d470d60
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 15:10:01 2013 +0000

    assembler: Make print_instruction() take an instruction
    
    No need to use a brw_program_instruction there as a brw_instruction is
    what you really dump anyway, espcially when the plan is to use
    brw_compile from Mesa sooner rather than later.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c716e2bdb43023cffb652582aeb21c9af228931e
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 14:45:46 2013 +0000

    assembler: Simplify get_subreg_address()
    
    This function can only be called to resolve subreg_nr in direct mode
    (there is an other function for the indirect case) and it makes no sense
    to call it with an immediate operand.
    
    Express those facts with asserts and simplify the logic.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8322802acba537777d8877fc7e74115df3a9bdef
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 14:04:59 2013 +0000

    assembler: Use subreg_nr to store the address register subreg
    
    Another step towards using struct brw_reg for source and destination
    operands.
    
    Instead of having a separate field to store the sub register number of
    the address register in indirect access mode, we can reuse the subreg_nr
    field that was only used for direct access so far.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 02019d4d554623f151f8c800a0812a8fee237ee6
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 20 21:52:05 2013 +0000

    assembler: Remove the writemask_set field of struct dest_operand
    
    writemask_set gets in the way of switching to using struct brw_reg and
    it's possible to derive it from the writemask value.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit db6f5e08ba358d9d7af8ca43ae61f19486e7dfa5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sun Jan 20 21:11:29 2013 +0000

    assembler: Use BRW_WRITEMASK_XYZW instead of the 0xf constant
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 042e9353e98610dd403a37c1f012148c11f5d23a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 23:27:46 2013 +0000

    assembler: Import brw_eu_emit.c
    
    Finally importing the meaty brw_eu_emit.c code that emit instructions.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 7902f2c08ce1cbe591f3ce43621d42d42a44bdf9
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 23:25:22 2013 +0000

    assembler: Don't use -Wpointer-arith
    
    Mesa's code uses the GNU C extension that allows additions and
    soustractions on void* (+/- 1).
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 241c5a1322e96871ca1c296266b89b25200d366b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 23:04:07 2013 +0000

    assembler: Import brw_eu.c
    
    Another step the road of importing Mesa's emission code.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 112075f8c217ba01c23d5f9562205ea08864a3f1
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 22:52:21 2013 +0000

    assembler: Import brw_eu_compact.c
    
    To be able to import brw_eu.c and brw_eu_emit.c later on. This could be
    used to get the assembler generate compact instructions at some point.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit a66cd60f2d5a748e0893fc0f31fbc9bdeb0bb758
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 22:50:57 2013 +0000

    assembler: Protect gen4asm.h from multiple inclusions
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8b10ceb61b2e33085eceab7d907dd4466a704c22
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 17:24:56 2013 +0000

    assembler: Make an libbrw library
    
    With the brw_* files imported from mesa.
    
    There are still a few things in that library that needs gen4asm.h, for
    instance the GLuint and GLint types. The hope is that eventually libbrw
    can be split out in its own directory and shared.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 609a8453fb907041db52e8e029bc33f6bd49d907
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 17:05:48 2013 +0000

    assembler: Introduce struct brw_context
    
    A lot of the mesa code use struct brw_context to get the GPU generation
    and various information. Let's stub this structure and initialize it
    ourselves to be able to resuse mesa's code untouched.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 3ee5808d63be8c9604849b491d64e692315e8470
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 11:51:08 2013 +0000

    assembler: Remove white space from brw_eu.h
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 14146b403736b481cf4dc9b815372076fa3ba4e5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 11:49:11 2013 +0000

    assembler: Import ralloc from Mesa
    
    This also add a new brw_compat.h that should help maintaining the
    diff between mesa's version and our as small as possible.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 4ca1a04b859ed039a41d46891a3019d953ab1dc2
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 00:30:18 2013 +0000

    assembler: Update the disassembler code
    
    From Mesa. This imports a bit more the of brw_eu* infrastructure (which
    is going towards the right direction!) from mesa and the update is quite
    a significant improvement over what we had.
    
    I also verified that the changes that were done on the assembler old
    version of brw_disasm.c were already supported by the Mesa version, and
    indeed they were.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 66fdc85d5bdab9d38d3d5fe255ec6481829ae2d9
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 18 13:21:32 2013 +0000

    assembler: Remove trailing white space from brw_defines.h
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 153aee37d75e0d3624c67b119d4c8fd377c72c19
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 18 13:14:23 2013 +0000

    assembler: Import brw_defines.h from Mesa
    
    Almost identical files now, the diff is:
    
    -#include "intel_chipset.h"
    +#define EX_DESC_SFID_MASK 0xF
    +#define EX_DESC_EOT_MASK  0x20
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 4431869bef02d96692dabfa26923b4a5b97e3481
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 18 11:52:01 2013 +0000

    assembler: Rename BRW_ACCWRCTRL_ACCWRCTRL
    
    To a more self-describing define. This hopefully will help its inclusion
    into Mesa.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5e7e3f43a5965d5757952f3798769111a2a21bc7
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Jan 18 11:04:37 2013 +0000

    assembler: Adopt enum brw_message_target from mesa
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 64e84284e3740f6348501e8513161dd80f895f0c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 16 15:11:05 2013 +0000

    assembler: Remove trailing white spaces from brw_structs.h
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c35e0677fe1afee4f9975ffdcd3d772f37ae1ae7
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 16 14:56:40 2013 +0000

    assembler: Adopt brw_structs.h from mesa
    
    Finally merge both brw_structs.h from mesa. One detail has risen in that
    last commit, the msg_control field of data port message descriptors.
    
    Mesa's msg_control field is sometimes split with messages-specific
    fields where the assembler (at least for recent generations) exposes the
    full msg_control value in the send instruction.
    
    As libva's shaders encodes the full msg_control value in its send
    instructions, I've chosen to not take the split msg_control from mesa.
    It's absolutely possible to have a patch fixing that divergence at some
    later point.
    
    I've also kept a hack introduced with ironlake to not have to rewrite
    shaders (that encode msg_control in the text, remember), and thus
    creates a another difference with Mesa.
    
    -	 GLuint msg_control:3;
    -	 GLuint msg_type:3;
    +	 GLuint msg_control:4;
    +	 GLuint msg_type:2;
    
    Once again, I've made sure that re-generating libva's shaders don't show
    any difference.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit f2059b7cc75deaeabb8ef2104a1fe7a595a94de0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 16 01:50:47 2013 +0000

    assembler: Rename bits3.id and bits3.fd
    
    As always, to sync with mesa.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit c7dac8495328f9b56895d3be410eea933079d8bd
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 16 01:44:41 2013 +0000

    assembler: Rename branch_2_offset to break_cont
    
    Once again, import the equivalent struct from mesa.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit cb425d6d203c9e36d20aaf4c975aecb3ca10b598
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jan 16 01:19:29 2013 +0000

    assembler: Rename branch to branch_gen6
    
    The purpose of this commit is to synchronize opcode definitions across
    the gen4asm assembler and mesa.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 0fde3ddccc4f2f1dcf9f81c2038ce18ef1a62a29
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 20:34:50 2013 +0000

    assembler: Rename gen5 DP pixel_scoreboard_clear to last_render_target
    
    The purpose of this commit is to synchronize opcode definitions across
    the gen4asm assembler and mesa.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit fe0bd3776e522c6a30060562cf57c6fc75196461
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 20:24:51 2013 +0000

    assembler: Remove struct dp_write_gen6 and struct use gen6_dp
    
    We ended up with 2 structures that where exactly the same, so just use
    one, which happens to be the one Mesa has.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 8fa561d4bbaec0ba0a4c9ccf2abe9131b893729a
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 18:47:05 2013 +0000

    assembler: Rename dp_gen7 to gen7_dp and sync it with Mesa's
    
    The purpose of this commit is to synchronize opcode definitions across
    the gen4asm assembler and mesa.
    
    I had to drop how mesa splits msg_control as the current assembly
    language gives access the the whole msg_control field.
    
    Recompiling the xorg and the intel driver of libva shaders doesn't show
    any difference in the assembly created.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 1f1ad5974655a241bcf202bcd79a3e2d236bcc1c
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 17:35:24 2013 +0000

    assembler: Rename dp_gen6 to gen6_dp and sync with Mesa's
    
    The purpose of this commit is to synchronize opcode definitions across
    the gen4asm assembler and mesa.
    
    I had to drop how mesa splits msg_control as the current assembly
    language gives access the the whole msg_control field.
    
    Recompiling the xorg and the intel driver of libva shaders doesn't show
    any difference in the assembly created.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 668e0dff7da8a604e626c1c5fefe65a3a8f2be19
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 16:40:06 2013 +0000

    assembler: Rename dp_read_gen6 to gen6_dp_sampler_const_cache
    
    The purpose of this commit is to synchronize opcode definitions across
    the gen4asm assembler and mesa.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 31259c5edc51d16afcfd453f7abaf81601a62a15
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 14:05:23 2013 +0000

    assembler: Rename three_src_gen6 to da3src
    
    Mesa's brw_structs.h has named/renamed this field to da3src. Sync with
    them.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e71f1d2ad46af09a61b0fd03f4b00514de5091e5
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 14 19:13:19 2013 +0000

    assembler: Sync brw_instruction's header with mesa's
    
    Two changes there, a field has been renamed and one bit of padding is
    now used for compressed instructions.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5d526899392caa9ec6fd954d1668a3a5355836c7
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 22 08:35:15 2013 +0000

    build: Add the debugger compilation status to the summary
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 5435708a50beb0368ed6694695ac89f9a8d49c07
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 21 23:02:36 2013 +0000

    build: Only build the assembler if flex and bison are found
    
    And start displaying a nice summary of what we are going to compile.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 9d3707a78f8adb5851ff65dbc4254d628556b03b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Sat Jan 19 11:54:05 2013 +0000

    build: Don't use AM_MAINTAINER_MODE
    
    This does not bring us anything these days, not using the macro at all
    is the same thing as having it always on.
    
    See this discussion:
    https://www.redhat.com/archives/virt-tools-list/2010-October/msg00049.html
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e5d07538b2d59034010e9c0f3ff1395faee6d4e3
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Jan 15 13:52:57 2013 +0000

    gitignore: Ignore TAGS files
    
    TAGS files are generated with "make tags" to quickly jump through the
    code. Ignore those by-products of automake/ctags.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit af7e11de69690e465e30632e546771ee3c3bdce7
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 14 23:25:14 2013 +0000

    build: Add CAIRO_FLAGS to the debugger compilation
    
    The library in lib/ exposes <cairo.h> in its main header and thus users
    must be able to include it.

commit 191c85976d7f924de781ac4d9ad8a73b034493bf
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Jan 14 23:21:21 2013 +0000

    build: Integrate the merged gen assembler in the build system
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit e466360df9ca2d43754e825eb496d8dd23c9ccf0
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Wed Oct 31 16:10:20 2012 +0800

    bump version to 1.3
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 5d727898489f6fb37a263abfa8aa0fcd6aafdcae
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Oct 23 09:21:15 2012 +0800

    Fix typo. "donesn't" -> "doesn't"

commit 93f2a4fc93b70d37a207589800f66ab8be81bd6e
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Mon Oct 22 16:13:51 2012 -0400

    Add the CRE enginee for HSW+
    
    This is also for media encoding like VME, which can do
    the operation of check & refinement.
    
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>

commit 495c4e14e7417610bf75ca397450b4b8447e29a3
Author: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
Date:   Mon Oct 22 16:13:51 2012 -0400

    Fix JMPI encoding for Haswell.
    
    It uses the byte-aligned jump instead of 64-bit units.
    
    Signed-off-by: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>

commit 8aa952873cbf3449815e75318c4807e43e74004e
Author: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
Date:   Mon Oct 22 16:13:51 2012 -0400

    Add initial support for Haswell.
    
    Signed-off-by: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>

commit 0c32e25c96355c4edfa589fc5dad3993da82a90e
Author: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
Date:   Mon Oct 22 16:13:51 2012 -0400

    Allow Gen version decimals.
    
    This is preparatory work for Haswell (Gen 7.5).
    
    Signed-off-by: Gwenole Beauchesne <gwenole.beauchesne@intel.com>

commit a5e5d94ce37356a6b5d2bf389456849f2f3c79ef
Author: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
Date:   Mon Oct 22 16:13:51 2012 -0400

    Bump gen_level to multiple of tens.
    
    Add new helper macros to check versions:
    - IS_GENp() meant to match Gen X and above
    - IS_GENx() meant to match Gen X exactly.
    
    Patch mechanically generated. No stale "gen_level" usage.
    
    Signed-off-by: Gwenole Beauchesne <gwenole.beauchesne@intel.com>
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>

commit ee321884221942e3dbe91d46d293e0115620fbfc
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Oct 19 11:18:23 2012 +0800

    Fix Gen7 JMPI compilation
    
    Gen7 JMPI Restrictions in bspec:
    The JIP data type must be Signed DWord

commit e221b0aa78ccd0f75f64dc3fab66c06fa9fb1828
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Oct 18 12:37:31 2012 +0800

    Fix sub-register number of an address register encoding
    
    The AddrSubRegNum field in the instruction binary code should be:
      code    value(advanced_flag==0)   value(advanced_flag==1)
      a0.0             0                         0
      a0.1        invalid input                  1
      a0.2             1                         2
      a0.3        invalid input                  3
      a0.4             2                         4
      a0.5        invalid input                  5
      a0.6             3                         6
      a0.7        invalid input                  7
      a0.8             4                  invalid input
      a0.10            5                  invalid input
      a0.12            6                  invalid input
      a0.14            7                  invalid input

commit 599d7d244afa4cf70de02d7b6799449fe8cbe57b
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Oct 16 14:14:25 2012 +0800

    Fix symbol register subreg number calculation rule symbol_reg_p
    
    When in normal mode, subreg_nr should not be divided by type_size.
    This patch fixes such bug.

commit 460fdc041b0d510f96b5d4cd0decd5e1c42d7fa8
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 28 14:10:00 2012 +0800

    Show warning when compiling the grammar parser

commit e8cb195c6d9bb9072896e15416f4207ccffdd919
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 28 14:05:51 2012 +0800

    Support Gen6 WHILE instruction

commit 2ad18c1c97a14edd9733b1d7319a1c50a170be92
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 28 14:02:25 2012 +0800

    Make sure Gen6 IF works

commit c56d78611641cfa7eff5b046054b051206a97dc6
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 28 13:46:21 2012 +0800

    Make sure Gen6 ENDIF work

commit 397e1ccccbd00fcf2ec763f9d6f8c82db8d395ee
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 28 13:43:44 2012 +0800

    Fix JIP position for Gen6 JMPI

commit c91bd8c76ffb3a5098791a7d9c8b45a789f77cc2
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 16:20:39 2012 +0800

    Fix Gen6 ELSE instructions code logic according to bspec.

commit ce55552470d8135070d4ceb2c21585f77de68210
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 15:44:15 2012 +0800

    Make sure BREAK/CONT/HALT work on Gen6.

commit 3de439e2f5e98b2afc909bd02b27403755d475ae
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 15:39:28 2012 +0800

    Support Gen6 RET instruction.

commit 7529682d0a7878160dfb5ef91da886acba27d22d
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 15:31:56 2012 +0800

    Support Gen6 CALL instruction.

commit b899aba57f0e1b8a01b3f74b26a8c575a69ab6ae
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 14:56:30 2012 +0800

    Replace variable init code in WAIT by src_null_reg

commit 7e2461b6fc357476adebad19095f5cfdb4038b31
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 14:48:14 2012 +0800

    Let ip_dst and ip_src become local const variable, so as to reduce replicated code.

commit 45ab3cf5a1fd810c380d7d973a5b034f8f3aa78c
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 14:20:32 2012 +0800

    Support Gen6 three-source-operand instructions.
    
    Add bits1.three_src.gen6.dest_reg_file according to Gen6 spec

commit 72a3c194db2682cb00ea882933f17940a5dfde7e
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 27 13:51:33 2012 +0800

    Compile ELSE and WHILE in Gen5 as same way as in Gen4

commit f55ed65bb28bd8bce416a9dfd32dfc0028cb61bf
Author: Homer Hsing <homer.xing@intel.com>
Date:   Mon Sep 24 16:39:36 2012 +0800

    Fix reloc_target_offset computing logic

commit 4bf84ec1461a5346a84259ade14ae0da2c4ac898
Author: Homer Hsing <homer.xing@intel.com>
Date:   Mon Sep 24 10:12:26 2012 +0800

    Fully support Gen7 branching instructions
    
    Also fix integer argument parsing rule for JMPI, IF and WHILE
    Fix shift/reduce conflicts in relativelocation

commit 88dfdf34df88949e61efefacde1be14c36e9966e
Author: Homer Hsing <homer.xing@intel.com>
Date:   Mon Sep 24 10:06:35 2012 +0800

    Supporting multi-branch instructios BRD & BRC
    
    brd: redirect channels to branches
    brc: let channels converging together
    
    also rewrite code converting label to offset

commit 5d589dbe132f32718ea144f932fbe3cd37017957
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 12:35:35 2012 +0800

    Use right-recursing in parser rule inst_option_list
    
    This recursing cost less memory. It is recommended by Bison.

commit a7b1c09d18fc25069ddc39ef6c6aa00ab67537ad
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 12:33:13 2012 +0800

    Support subroutine instructions, CALL & RET

commit c0ebde27866d6638bc6326ab4996081874a04ae0
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 10:14:31 2012 +0800

    Merge replicative code in gram.y

commit b0b540f02a67ca8d7d1e6748586a51e5bd755503
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 10:06:20 2012 +0800

    Reduce replicative code in gram.y by reloc_target field in src_operand
    
    Bspec says JIP and UIP should be the source operands. It is better if
    src_operand has a field "reloc_target" according to bspec.
    The replicative code in JMPI and branchloop rules can be merged into one.

commit 1f9a4d71e8b87ab08209cd42b6651b4e0c04a433
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 09:51:55 2012 +0800

    Restrict type of relativelocation2 to int
    
    Original rule set it to EXP | NUMBER, then YYERROR if it is NUMBER.
    This patch set it directly to EXP, restricting its type to int.

commit ccd17211909ce0a1c64904e70774a770feb8b8a4
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 09:37:06 2012 +0800

    Rewrite label matching code. Collect labels in a linked list.
    
    Label matching is faster because of searching only in a small list,
    rather than searching a label in all instructions.

commit 751838e809003529cbb3753e4e332e5a191905d6
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 21 08:39:57 2012 +0800

    Add second_reloc_target in the data structure.
    
    Since Gen6+, some branching instructions have two relocation targets.

commit d6f02c181f9c25b60575bfe54d70fd5f58c6e5b4
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 20 14:06:06 2012 +0800

    Add test case for ".declare" overriding feature.
    
    Later same name .declare pragma will override previously defined
    one. This patch add a test case for that feature.

commit 2ab4c0d9b8b15e770ef6a6af4f60a2f5bf007c2b
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 20 14:04:20 2012 +0800

    Fix memory leaking in the parser
    
    STRING has been malloc'ed by strdup in src/lex.l but forgotten to
    be freed in src/gram.y.

commit 741008e0503df0a0626d27da99a30aac0c880c29
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 20 13:09:15 2012 +0800

    Fix field length of JIP for one-offset-branch in Gen6
    
    Such JIP has 25 bits length in Gen6.

commit 6983eebf47f37def8f2315d5af1800b81644f240
Author: Homer Hsing <homer.xing@intel.com>
Date:   Wed Sep 19 09:34:58 2012 +0800

    Automatically run all test cases.
    
    In the past test/run-test.sh run only one test case per call.
    This patch let it automatically run all test cases.

commit 1c009349bc894bd195b5522540536898b0bee574
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 16:44:45 2012 +0800

    Fix missing environment variables problem in test/run-test.sh
    
    Currently test/run-test.sh cannot get the value of ${srcdir} and
    ${top_builddir}. Thus we cannot run any test case. This patch uses
    $0 to get the absolute path of run-test.sh. Now test cases work.

commit 868cbf7dc56d96dce1463cd9288730ece7ee9e9b
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 16:32:39 2012 +0800

    Add a generic hash table algorithm. Reuse for declared_reg_table and label_table in the future.
    
    Rewrite find_register() and insert_register(). The hash table code
    has been extracted. We may use those code for label table in the future.

commit 131f61f2ef2ecac4f0e4cb207a58449f36abfa36
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 16:28:27 2012 +0800

    Add a test case for ".declare" pragma

commit c3bcc7dbeb520fcca387dac510f47d4847cc32b8
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 13:57:20 2012 +0800

    Rename brw_instruction.bits3.if_else to branch
    
    Because that field will be used for all branch instructions

commit bebe8179e1b97ac8111756de1cf27f54eebee150
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 13:47:22 2012 +0800

    According to BSPEC, put PLN & BFI1 to binaryop, put SUBB to binaryaccop
    
    bspec: BFI1 should not access accumulator. PLN should not use accumulator
    as source.
    future work in gram.y: show warning if acc is used as dest for
    ADDC/SUBB/CMP/CMPN/SHL/BFI1.

commit 74383f4db4c348be1fd3c227653493c8eb5dab67
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 13:25:53 2012 +0800

    Explain the difference between binaryinstruction and binaryaccinstruction
    
    Developers may add new instructions in wrong place in the future
    if they don't know the difference between binaryinstruction and
    binaryaccinstruction.

commit 375d1fd7b2858accb91c277b8606eaa98837ce75
Author: Homer Hsing <homer.xing@intel.com>
Date:   Tue Sep 18 13:12:50 2012 +0800

    Renaming according to BSPEC: jump_count -> JIP; pop_count -> UIP.
    
    Since bspec SNB+, jump_count and pop_count is renamed to JIP and uIP.

commit 6171c61e0c13d563d5aaad85c74940ceaaf6afa9
Author: Homer Hsing <homer.xing@intel.com>
Date:   Mon Sep 17 16:11:49 2012 +0800

    Use bits3.if_else.jump_count instead of bits3.ud for readability

commit 5defbd37b6d0c18801298edaa2eba3e9e09cd24d
Author: Homer Hsing <homer.xing@intel.com>
Date:   Mon Sep 17 16:01:16 2012 +0800

    Pad NOP instructions instead of the ILLEGAL instruction for entry
    
    If a label is an entry, the assembler will pad empty instruction
    before the label until offset % 4 == 0. In the past, the ILLEGAL
    instructions are padded. It may raise exceptions. We use the NOP
    instructions instead.

commit e6d61ac20284b0de9b4dc81cb9ba27109b477cd1
Author: Homer Hsing <homer.xing@intel.com>
Date:   Mon Sep 17 13:34:38 2012 +0800

    Merge same if branches in declare_pragma section in gram.y

commit c19f8338d726fd9d4fcec7596118228f515f8dc1
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 15:27:19 2012 +0800

    Reduce memory cost in entry_table
    
    Original code double entry table space if there is no space. It may
    waste 50% memory of the entry table. Now we use a link list to store
    entry items.

commit f02a1ed42758c38ab97d5a58a4dd821b8daaf0eb
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 13:40:08 2012 +0800

    Make the entry point padding code logic looks nicer

commit 73ab2f6a680035414c9f97fd691b476ace722d6b
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 10:50:09 2012 +0800

    Fix a typo in src/main.c: "in unit of type" -> "in unit of byte"

commit 7186723f81f42b56be44709c4aa6f178553ce2dc
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 10:06:39 2012 +0800

    Reduce hash value collision probability in src/main.c
    
    Original code use "hash_value = *name++", which may produce
    hash value collision for word permutations like "abc", "bac" and "cba".

commit 940522588af6ac1881765edfdbc23637f67db45b
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 10:02:53 2012 +0800

    Move program_defaults init statement into variable declaration
    
    In original code, the init value for "program_defaults.register_type"
    is put inside main(), which may be hard to maintain.

commit 77dcc41cfdb2156e5953eeb5a50a2b8fab94ab8c
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 09:42:30 2012 +0800

    Better comment text. Change "c like" to "C style" in main.c

commit 81859af1106362deb3f410a93fe906dae7c6864d
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 09:34:58 2012 +0800

    Replace bzero by memset.
    
    bzero has been removed from POSIX.1-2008. Should use memset instead.

commit b1ef3bc209f2b4beece1bc84a7a01df3e80b653a
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 09:02:01 2012 +0800

    Supporting integer subtraction with borrow
    
    subb: subtract unsigned integer src1 from src0. store the result
    in dst and store the borrow (0 or 1) as a 32-bit value in acc.

commit 9e711a4f2ccf3d2008d25dc613b5f9e8c6639193
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:56:36 2012 +0800

    Supporting find first bit instructions
    
    fbh: Find the first significant bit searching from the high bits
    in src0 and store the result in dst.
    
    fbl: Find the first 1 bit searching from the low bits in src0
    and store the result in dst.

commit b094cd8648bcbcdb6015ae6373f01555e7408d2b
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:50:18 2012 +0800

    Supporting half precision to single precision float convertion
    
    The f16to32 instruction converts the half precision float
    in src0 to single precision float and storing in dst.
    
    The f32to16 instruction converts the single precision float
    in src0 to half precision float and storing in the lower word
    of each channel in dst.

commit 4285d9c2ce80f5e5306f544ec47e1485b925e83c
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:41:16 2012 +0800

    Supporting count bit set instruction
    
    The cbit instruction counts component-wise the total bits set
    in src0 and stores the resulting counts in dst.

commit d4f48a7271cf94073194112fb763685043e723dd
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:32:12 2012 +0800

    Supporting instruction "reverse bits"
    
    The bfrev instruction component-wise reverses all the bits in src0
    and stores the results in dst.

commit 4d6337dfaf6b91957d839f65695e15e4fe1a7856
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:27:41 2012 +0800

    Supporting instruction Bit Field Insert 1
    
    The bfi1 instruction component-wise generates mask with control
    from src0 and src1 and stores the results in dst.

commit 5777bfa91fdbb0f89d6948570a5ba946ef1d7b34
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:24:54 2012 +0800

    Delete an extra space character in brw_defines.h
    
    Now the column is aligned and the code is nicer.

commit c3f1e0a732c4cbdca32544fefb887496f7b3f0c4
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 14 08:20:13 2012 +0800

    Supporting addc instruction
    
    The addc instruction performs component-wise addition of
    src0 and src1 and stores the results in dst;
    it also stores the carry into acc.

commit 8ca55688ea01a688677996570fb1f6626469d99d
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 13 11:05:50 2012 +0800

    Supporting bit field extract and bit field insert 2
    
    Supporting two new operators, bfe and bfi2
    bfe: Component-wise extracts a bit field from src2 using the bit field width from src0 and the bit field offset from src1.
    bfi2: component-wise performs the bitfield insert operation on src1 and src2 based on the mask in src0.

commit 210510cebbac669ce86cf557c6b5d37d757ac7be
Author: Homer Hsing <homer.xing@intel.com>
Date:   Wed Sep 12 13:04:49 2012 +0800

    Supporting LRP: dest = src0 * src1 + (1-src0) * src2

commit a034bcbd04b5cd67b94e8521f5c17738645a13fd
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 7 14:38:13 2012 +0800

    Support trinary source instruction "multiply add".
    
    MAD (Multiply ADd) computes dst <- src1*src2 + src0.
    
    Tried best to follow previous variable naming habit.
    
    Also renamed "triinstruction" -> "trinaryinstruction" in grammar parser
    for better readability.

commit 0d3f8495ea90515c3852c43fb38a345d5ac9c3da
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 7 09:53:17 2012 +0800

    add data structure in src/brw_structs.h for supporting three-source-operator instruncions

commit 75f1d80982e7cf16e5ca98f8cc295896fdcd339e
Author: Homer Hsing <homer.xing@intel.com>
Date:   Fri Sep 7 09:20:50 2012 +0800

    Comment magic words "da1", "da16", "ia1", and "ia16"

commit aab7cd5cc59c9af88bb5f1b7f73ab6f67ebdce93
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 6 16:12:08 2012 +0800

    close File yyin before calling yylex_destroy
    
    This patch makes sure file handler yyin is closed.
    yylex_destroy() calls yy_init_globals(), which reset yyin to 0.
    Therefore if we do not close yyin before yylex_destroy(), yyin
    will not be closed anymore.

commit 31401afe78e2a1a08fa89448ed2e4fa12760c64d
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 6 15:55:54 2012 +0800

    Call yylex_destroy() to free memory after yyparse()

commit 302ca73198bf9d7d2ae136201529d647ce26c1e2
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 6 15:33:41 2012 +0800

    Close input file handler yyin after yyparse

commit f282ea689b551999afb4331f8f345507704d309d
Author: Homer Hsing <homer.xing@intel.com>
Date:   Thu Sep 6 10:31:22 2012 +0800

    Fix a typo ... lable -> label

commit ea1fcf0b447d9677859bc3d9692d29434b7fb5be
Author: Lu Guanqun <guanqun.lu@intel.com>
Date:   Wed Aug 22 09:09:36 2012 +0800

    fix the label checking logics
    
    Signed-off-by: Lu Guanqun <guanqun.lu@intel.com>

commit 4d75db550ee938067213dc60be9bf5116f4361e2
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jul 17 16:16:11 2012 +0800

    Waring if both predication and conditional modifier are enabled but use different flag registers
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 3ffbe96c1eb35da7fbaa22d48b26d3ec56b0e31d
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jul 17 15:05:31 2012 +0800

    Add support for flag register f1 on Ivy bridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 2f772dd67b353ecd9de7c6c7cbd7e94025b34428
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jul 17 14:18:54 2012 +0800

    s/flag_reg_nr/flag_subreg_nr for an instruction
    s/flagreg/flag_subreg_nr for a condition
    
    They are flag subregister number indeed
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 968d2d7ef644704a09089ed6fd87a2e41195e304
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jul 17 14:01:54 2012 +0800

    Remove flag_reg_nr from the DW3 of an instruction
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit f3f6ba24e6e576a315d14eaeb31a563e5f40459b
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jul 17 13:46:59 2012 +0800

    Change the rule for flag register
    
    The shift/reduce conflict mentioned in the comment has been fixed, so
    flagreg can return the reg number in the lvalue now. In addition, it will
    be easy to add support for flag register f1 on Ivy bridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 128053f120fba33394c5f05fbbe75eb9029d3792
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Jun 29 16:47:10 2012 +0800

    Accept symbol register as the leading register of the request
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit fc2995b59aae45b85880f6b281f68f862fae5b0d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jun 24 15:03:28 2012 -0700

    disasm: decode SENDC like SEND
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 35c217b98618e2f2a4b25c1cccb348671f54fa61
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jun 24 15:01:57 2012 -0700

    disasm: add gen6 style send decoding
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 22505dc0511e18f42bd97ff3ffd7503095071b97
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jun 24 14:43:45 2012 -0700

    disasm: add sendc
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 26c36abdf64dc64afff9cefa561ff4c1fb86f5d6
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Jun 23 19:36:48 2012 -0700

    disasm: add pln instruction
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 0b5f7fa0490be0e6f755d244b8e5d121c045c6d0
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Aug 11 15:35:14 2011 +0800

    A new syntax of SEND intruction on Ivybridge
    
    [(<pred>)] send (<exec_size>) reg greg imm6 reg32a
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit d6bc0e4ea30c576944838f0fed289d982d09fb9b
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jun 21 11:12:13 2011 +0800

    bump version to 1.2
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 86f8ca6af925b8d8985ba667e6fe634f0579b353
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue May 31 13:36:03 2011 +0800

    Support VME on Ivybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 27050395d21955cf91f70a10da7abb726fa0bf70
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Jun 10 16:04:30 2011 +0800

    Support DP for sampler/render/constant/data cache
    
    Since Sandybridge, DP supports cache select for read/write. Some write messages such as
    OWord Block Write don't support render cache any more on Ivybridge. So introduce a
    generic data_port messsage for Sandybridge+.
    
        data_port(
            cache_type,   /* sampler, render, constant or data(on Ivybridge+) cache */
            message_type, /* read or write type */
            message_control,
            binding_table_index,
            write_commit_or_category, /* write commit on Sandybridge, category on Ivybridge+ */
            header_present)
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit e97f0bca5fab4ddff3199470294d82d60fcc0b62
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon May 30 16:30:48 2011 +0800

    sampler/render/constant cache unit since Sandybridge
    
    since Sandybrdige, there isn't a single function unit for data port read/write.
    Instead sampler/render/constant cache unit is introduced, data port read/write
    can be specified in a SEND instruction with different cache unit. To keep compatibility,
    currently data port read always uses sampler cache unit however data port write
    uses render cache unit
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 6a3a9e7148723fcf7339e0878b5c89b1bb95b2b5
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon May 30 16:00:12 2011 +0800

    fix an error in commit cf76278
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 46ffdd5df74c8e502ea0bf3636927d6b257aafda
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Wed May 25 14:29:14 2011 +0800

    SEND uses GRFs instead of MRFs on Ivybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 67d4ed665d4f9e1267e2ff61b5a3005687b42b38
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon May 23 13:45:04 2011 +0800

    Add support for sample (00000) on Ivybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit c8d6bf353eb46ac109baeba3bd053e31a6a7835f
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon May 23 13:32:32 2011 +0800

    Add support for data port read/write on Ivybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 6fa6b45dafec7109b69e13a5d72e447bc8c31189
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon May 23 12:43:25 2011 +0800

    Add -g 7 for Ivybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 37d68103a83e27159ec2ddbca4675ff60215b784
Author: Feng, Boqun <boqun.feng@intel.com>
Date:   Tue Apr 19 08:43:22 2011 +0800

    Send instruction on PRE-ILK
    
    [(<pred>)] send (<exec_size>) <pdst> <cdst> <src0> <desc>

commit 52399867bfac2b8a7659acc291de45700fecd00c
Author: Zhou Chang <chang.zhou@intel.com>
Date:   Thu Apr 14 11:51:29 2011 +0800

    Add VME support in SEND

commit 83a5c38e12a7c8d1f342abf330c8c6bad1a376b3
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Mar 23 22:08:39 2011 -0700

    intel-gen4asm: add byte array style disasm
    
    I previously added a byte array style output for intel-gen4asm, but
    there was no way to disassemble here. Well here that is.

commit cbfab5f415a56517d4a8e3faed5e9936743ab476
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Mar 17 18:57:59 2011 -0700

    intel-gen4asm: have a C-like binary output
    
    Have the assembler support a byte array output. This is useful for
    writing blobs which can directly be linked code that wishes to upload to
    the EU.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e7f4dc6e39fbf35a2474048c11fbc6b086e59837
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Mar 1 16:43:02 2011 +0800

    fix the parameters of register region
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 85da7b9e8a4737afd4b2ae6684374d1d43fc4ba8
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Feb 17 13:24:11 2011 +0800

    send instruction on GEN6
    
    [(<pred>)] send (<exec_size>) reg mreg imm6 imm32
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 852216d6e35fafedd9d315e26c8761d5bcf83943
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Wed Feb 16 15:26:24 2011 +0800

    fix notification count register
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 27b4303a30cab372597c1a78f3c0b686451a8f53
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Dec 13 16:07:16 2010 +0800

    Support instructions which strictly follow the documents.
    
    Previously some instructions parsed by this assembler don't follow the
    documents.
    
    Signed-off-by: Chen, Yangyang <yangyang.chen@intel.com>
    Signed-off-by: Han, Haofu     <haofu.han@intel.com>
    Signed-off-by: Zou Nan hai <nanhai.zou@intel.com>
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 66649d7b4efc87063b0bb7677bd708b61973b2ac
Author: Chen, Yangyang <yangyang.chen@intel.com>
Date:   Mon Dec 13 15:36:02 2010 +0800

    1. fix DOT
    2. rule for instrseq
    
    Signed-off-by: Chen, Yangyang <yangyang.chen@intel.com>
    Signed-off-by: Han, Haofu     <haofu.han@intel.com>

commit bf06f07d5bee7ed4e3e52ebc984e56f6a40fbad1
Author: Chen, Yangyang <yangyang.chen@intel.com>
Date:   Mon Dec 13 15:30:48 2010 +0800

    fix CHANNEL select
    
    Signed-off-by: Chen, Yangyang <yangyang.chen@intel.com>
    Signed-off-by: Han, Haofu     <haofu.han@intel.com>

commit 14c0bd0fb3d0816d85db938337d16adda5686b5f
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Mon Nov 1 16:16:25 2010 +0800

    Support for headerless write
    
    Add a new parameter to write
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit d0ae3297086e671fa41f7d565c29f6ecc8d77077
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Oct 21 14:37:18 2010 +0800

    bump version to 1.1
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 5405532ffc1926f0616581a330db32d07335b960
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Wed Oct 27 09:42:56 2010 +0800

    add support for math instruction on Sandybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit f1f5208e1e36fe89660f600388613aa5cb3c61b0
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Oct 19 13:26:24 2010 +0800

    add support for plane instruction (pln)
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit dcdde5347eb95343d493f2e098ed41d930866b37
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Oct 21 14:33:35 2010 +0800

    Send on Sandybridge uses a message register as operand src0
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit c2382cab55ea44a45ff7836647dfec43588c0b73
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Sat Oct 9 13:57:48 2010 +0800

    no compression flag on Sandybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 718cd6cb4260847c1fa5b3e6d40bd8cecf12f3f7
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Sat Oct 9 12:52:08 2010 +0800

    print error message when using math function on Sandybridge.
    
    Sandybridge doesn't have math funtion, instead it supports a set of math
    instructions. The support for math instructions will be added later.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 9d2be258386aeefdfe86aef52ecd0c5fcdde5d26
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Sat Oct 9 12:46:15 2010 +0800

    sampler, urb write, null and gateway on Sandybridge are same as Ironlake.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit a8458d5d5e097c03536c47ea455257cf67f21c95
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Sat Oct 9 11:09:47 2010 +0800

    add support for data port read on Sandybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 61784dbc9739bc6dcd935311cc8aa2e1a6d02e73
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Oct 8 16:48:15 2010 +0800

    add support for data port write on Sandybridge.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 4f777e73f1b9fb0d70378d30aa4bda3fb60ee128
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Oct 8 15:07:51 2010 +0800

    fix send instruction on Sandybridge
    
    Send doesn't have implied move on Sandybridge, the SFID moves to bits[24,27] which
    is used as the destination of the implied move on Prev GEN6.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 55d81c4ce7ee5ec79fcaacf2c22d42580b49cf82
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Oct 8 13:53:22 2010 +0800

    add AccWrCtrl flag on Sandybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 5bcf1f5a0360bbfb3c135ccac1d0e67e558a71c0
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Oct 8 13:10:15 2010 +0800

    always set destination horiz stride for Align16 to 1 on Sandybridge.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 95d0ce48f667783d9b50d514c1ba928a64463743
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Oct 8 12:53:38 2010 +0800

    fix jump count for Sandybridge.
    
    It is same as Ironlake.
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit eb92c228cdf17d92b4d616bc33366aaf5144c3e1
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Fri Oct 8 12:52:34 2010 +0800

    add -g 6 for Sandybridge
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit db8aedc745faea10b10f96b2dca9e29543192e68
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Wed Apr 21 11:02:21 2010 +0800

    use left recursion instead of right recursion to avoid memory exhausted issue when compiling large source files

commit dea75a6935109e8fc3e667705375ae7f4f5b01ba
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Dec 22 17:06:47 2009 -0800

    Fix setup of immediate types for gen4 disasm.
    
    Caught by clang.

commit a6f1455019d719d554d3a07820ed767957b442fd
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 4 16:27:28 2009 -0700

    disasm: Print out ELSE and ENDIF src1 arguments like IF does.

commit 459c95b20c845be7d7bdeeb2353909b405f69b54
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 4 15:02:12 2009 -0700

    whitespace cleanup from Mesa import.

commit c6f2da4e82123a98f5a2d7fc462089363ea37f0c
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Wed Oct 28 10:14:19 2009 +0800

    1. type syntax :ud :uw etc
    2. empty instruction option
    3. remove a conflict

commit 5608d2765dfa22afc4d6ec843e9e8f1a40ceef4a
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Tue Oct 20 14:51:04 2009 +0800

     support simple expression

commit 8521146207abaefb8fbb0ba9850496902ff5557d
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Jul 23 10:43:27 2009 +0800

    add intel-gen4asm.pc.in
    
    bump version to 1.0

commit 60cf6e09dd006692414f7d83e7e9dcdfcb79c5fc
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Jul 23 10:33:55 2009 +0800

    the offset of JMPI is in unit of 64bits on GEN5.
    
    This fix is only applied for JMPI label. It is up to you
    to use a right offset for JMPI imm32|reg in your program.

commit 5261b8475e25f66043df4b389e7ef13d4ccf797d
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Jul 23 10:32:51 2009 +0800

    change read message format on GEN5
    
    to re-use a lot of shaders for GEN5.

commit 549b751afb30723c776747419d9abfc98319a6b2
Author: Xiang Haihao <haihao.xiang@intel.com>
Date:   Tue Jun 30 10:02:33 2009 +0800

    Add support for GEN5
    
    Add a new option [-g n], n=4(GEN4),5(GEN5). If don't use -g,
    the default value is 4(GEN4)

commit be9bcee15f82c9ba4557639ec77b8a00b303c884
Author: Zou Nanhai <nanhai.zou@intel.com>
Date:   Tue Dec 9 18:38:54 2008 -0800

    Add support for labeled and conditional branches
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5a2ec836e1b05d246f6312e32a6d76b612fecef9
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 18 20:07:45 2008 -0700

    Support more addressing modes in disasm

commit d866fff116d52c90aaa699b78ebd6d9526517aa4
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Jun 18 15:09:30 2008 -0700

    Fix compiler warning from missing include.

commit 807f8768e9a55fc4be4ef7f66211b1c9a53bde1d
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Wed Jun 18 15:05:19 2008 -0700

    Add support for dp_read message.

commit 26afe90126eefb2bed16dc9a7ac45aeb09cfb4f9
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Wed Jun 18 15:04:11 2008 -0700

    Add thread_spawner message target support.

commit 2033aea3dd429b94f5272a83ad1d46d95ecbff04
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 23:10:40 2008 -0700

    Add conditional support to assembler. Add align16 dest support to disasm.
    
    This is working towards round-tripping mesa programs. Still need indirect
    register addressing and align16 source support.

commit d8057c9bcdf65ffdcd180f017106bd73d9f17c88
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 19:28:23 2008 -0700

    Add math and urb units, deal with nop

commit ae85b10cf03ea1bdb920cb70af186830775f3b1f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 12:52:58 2008 -0700

    Add disassembler (intel-gen4disasm).
    
    Decodes most simple instructions. Still needs work on branching and send.

commit 082fbe8738988effb46749db905ddc3b2b3287d9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 11 11:04:42 2008 -0700

    Support #line directives

commit b81aca4948b18e65252f2629c5fdd446e8e6e818
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 30 00:58:40 2008 -0700

    Ensure that parse errors cause non-zero exit.
    
    Also, avoid creating output file when a parse error occurs

commit 2d4d401d709953520cec0c40d38781caa913f6f8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 30 00:58:28 2008 -0700

    Add packed vector immediate values

commit 3fd6e2fc7ba168ade75a98fc291ea8566188f8d9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 30 00:57:40 2008 -0700

    Add GCC warnings

commit 6e4b04a807c67c6c4a652994e836206964749af9
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 16:19:04 2006 -0700

    Add accidentally forgotten rnde test.

commit 713db8b220009c9fd10be0ce259bfa02bca7bdb0
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 16:18:06 2006 -0700

    More renaming of gen4asm -> intel-gen4asm, plus README update.

commit 09bf91ea75e7910dbf80c173bb47310f4638b37b
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 15:54:54 2006 -0700

    Update .gitignore for gen4asm -> intel-gen4asm

commit a1170c5e64b8fd9b7a3b3f2b88a8fafc364c3292
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 15:40:57 2006 -0700

    Rename package and binary to intel-gen4asm.

commit a6d95cc0ce10718b92175977b4c36a2a4746b14c
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 15:38:37 2006 -0700

    Use 0 instead of INITIAL, as the chosen lex on my debian doesn't supply it.

commit 09d8be4117105ce1759ff8023a19067cc87659cf
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 15:37:00 2006 -0700

    Use inttypes.h to get at uint32_t instead of sys/types.h.

commit 6be3ba41573acfe7ba25c69138bd37c8329604ce
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 13:57:02 2006 -0700

    Update the TODO with more tasks and a bit more description.

commit 4ee9c3d869742334672a1c622e2589ebeb8991cd
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 13:37:51 2006 -0700

    Add break, cont, and halt instructions.

commit 9201e4e2a0eb2311daf5333f198631a497e06313
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 13:37:07 2006 -0700

    Add tests for break, cont, and halt instructions.

commit f45ac8b2cca414224427069ae7edc28d5e8e4278
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 12:29:23 2006 -0700

    Fix the exitcode type for ENDIF to be D instead of UD.
    
    Fixes the endif test.

commit 7c3ba4d49dc0f3e0629d3d2018591acebc0d954a
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 12:25:22 2006 -0700

    Add a test for ENDIF, revealing issues.

commit 960ca001cadb2824ecbb93a2dffacf198e61cece
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 12:11:55 2006 -0700

    Fix initialization of null reg for ELSE, and set the pop count right.
    
    This fixes the ELSE test.

commit a8eb735270722182a4a9152604d40b9be5733853
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 12:11:24 2006 -0700

    Add a test for the ELSE instruction, revealing issues.

commit 1f58efa747e8cfedc3f4277bc0409ac3c348f6df
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 11:56:12 2006 -0700

    Add support for the WAIT instruction.

commit 055be60abf1dc4d3b9a77a75fe83b8256caaa52b
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 1 11:55:22 2006 -0700

    Add a test for wait instruction (not yet implemented).

commit d1b879192816aeccd6e49d872856f0e6e98bb1e7
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 16:19:08 2006 -0700

    Lex integers as unsigned long instead of signed int, fixing the immediate test.

commit d72f5c9828c76b0bd7d643b37e0215ebcba4759a
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 16:16:06 2006 -0700

    Add a failing test for maximum ranges of UD/D immediates.

commit 330903ad8189707069d8dff597ccf00706f35e94
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:59:14 2006 -0700

    Parse negative integers for imm32s, and don't exceed the IP count width field.
    
    This fixes the while test.

commit d538dfc4625aaadb3e6de07528d24abd0c1fa8df
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:57:35 2006 -0700

    Fix the width of the IP count field expected by the while test.

commit 892d6e7ed0b785c7e4fef754f5915e89d0282a20
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:53:53 2006 -0700

    Fix copy'n'paste-o in lexing of the WHILE instruction.

commit 56cdee41afae4e4f4cef67866dc590fcd3bdc138
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:28:10 2006 -0700

    Initialize the structure used for setting up the ip src/dst in branches/jumps.
    
    This fixes jmpi, if, and iff.  The while test still fails to compile.

commit 8828725dc9e5e20e22ef5968620e5b6ebde715a9
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:27:30 2006 -0700

    Add tests for jmpi, if, iff, and while, revealing issues.

commit cc865f1bc0c92f5469abdced839fcb923c081f67
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:14:23 2006 -0700

    Explain why rnde-intsrc is expected to fail.

commit 78cb82a1e2e0169237b836a60b5e7573066168e4
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 15:08:52 2006 -0700

    Add some masks in comments that will help with writing tests.

commit b6fe4bbe2e4bbefcca39a33fb337eb60956d3672
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 14:46:58 2006 -0700

    Add configure.lineno to ignores.

commit 863cd6a5b757740fdfb0598dbfdc4ee9df4be050
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 14:46:28 2006 -0700

    Add more unary operation tests.

commit e3cc73bec41038a63a4f0a09c562a627c1ea98b9
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 14:25:33 2006 -0700

    Start adding a test suite.

commit 356ce76d447a8a8707e399703002988f711bd0f3
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 10:27:48 2006 -0700

    Add a rule for the ELSE instruction.
    
    Untested.

commit 1e907c7aed7c11f9b29ca8ee4d6e7916d81a5277
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 31 10:21:15 2006 -0700

    Add rules for branch and jump instructions.
    
    Untested.

commit d77712994d7a6dd183e0274c2afb5f246b06c0d1
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 11:40:05 2006 -0700

    Add DO and ENDIF instructions.

commit 74c81af3ddd0af8488983acedf860fe44868ceb2
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 11:10:45 2006 -0700

    Fix a compiler warning by defining struct {in,}direct_reg at the top level.

commit cc05ba1d9ec0559c766175c06c4d3fc024cea957
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 11:09:52 2006 -0700

    Fix gram.h creation, fixing dependencies and distcheck.

commit c8939edc2822d09717ebfb37df77e2a9daef93d0
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 10:50:56 2006 -0700

    Fix issues in the grammar that caused errors in bison.

commit 9b40c3724a032b24837fdc689ba1e0ca6097350d
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 10:38:44 2006 -0700

    Add autotools build system, and rearrange directory layout.

commit 5fbc3990626328d18eeea4fbec2632b54d08772e
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 10:22:56 2006 -0700

    Add input/output file command line arguments.

commit 2d298742bfabc799251920c01b3b1db255b13145
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 30 09:57:20 2006 -0700

    Add support for register-indirect addressing in source operands.

commit 3bcf6b29cdef3cde36a55a5dde6d451a8d8e2f4b
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 29 18:31:34 2006 -0700

    Add support for register-indirect access in destination registers.
    
    This is untested.  Also, a few bits for source operand register-indirect access
    sneak in with this commit.

commit 2dac0a19a438d27b03e901cc70ef0a9a27039154
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 29 15:29:31 2006 -0700

    Add support for destination writemasks.
    
    This involved changing dest operands to have their own structure like src
    operands, as the destination writemask (which is align16-only) shares space
    with register numbers in align1 mode.

commit de1a889fe3554df47a6a751855ebae0cd1517e2f
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 29 09:30:32 2006 -0700

    Avoid shift/reduce conflict in predicate by making flagreg and subreg 1 token.
    
    Thanks to keithp for pointing out where the conflict was.

commit 0ed5d93cc2f7aa74a10674c8ea0c9a0125a8521f
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 28 23:05:51 2006 -0700

    Add support for predicate control.
    
    This is untested on programs using predicate control, and also causes a
    shift/reduce conflict.

commit 6a88ada7e8b1ea241c037137d7f88ab22a0e1812
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 28 22:11:18 2006 -0700

    Add support for swizzle control on source operands.
    
    This required restructuring to store source operands in a new structure rather
    than being stored in instructions, as swizzle is align16-only and shares
    storage with other fields for align1 mode.
    
    These changes were not tested on real programs using swizzle.

commit 2a0f135784ebdf24917da1a8fd1f4a1c08a358eb
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 17:44:55 2006 -0700

    Add acc[01] as src operands.

commit edc82a045c536a4b62750cd2c2f25e4b881877d6
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 17:42:05 2006 -0700

    Comment cleanup and add missing semicolons after rules.

commit 908f37d92d3d847aaf46ce825ef7e6568445ad33
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 17:33:02 2006 -0700

    Add support for more instruction options.

commit 6db54d7465656dee9f6e929672b86521cfc9b3bb
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 16:54:01 2006 -0700

    Typo fix in comment.

commit 1d7d04228e8263de5c42042f3ceaab7afacf9238
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 16:52:09 2006 -0700

    Rename direct_gen_reg struct to direct_reg now that it fills more roles.

commit 5297b2a7e89805e7e8d4f057578000ceda4139d0
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 16:50:17 2006 -0700

    Support src ARF operands in another place, and spell it arch instead of acc.

commit 2c7876583e723dc3ede8e1023b8215d98d99c608
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 13:53:48 2006 -0700

    Add support for more registers as source operands.

commit 883408eab8dc0d36d36acbccc4bb4cde432607ec
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 13:38:03 2006 -0700

    Add rules for more registers, and use some for destinations.

commit 2cca382cd23c6d18d498f55692088ee1112deb8c
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 11:10:00 2006 -0700

    Rename the resulting binary to gen4asm instead of lextest.

commit c81a6084de62479783443f57ce6c7431146d86f9
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 11:08:03 2006 -0700

    Add a negation that the initial disasm missed.

commit f914c6ace23dbfb0edc2988dddd655a61529771f
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 11:05:10 2006 -0700

    Add many more opcodes.

commit 569990bf6b6f1d95ffa88981d0afe8b16626e4be
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 09:46:18 2006 -0700

    Lex the register number with the register name.
    
    This avoids the need for a start condition to prevent for example g1.8<0,1,0>UW
    being lexed as GENREG NUMBER LANGLE etc. rather than
    GENREG INTEGER DOT INTEGER LANGLE etc.

commit 3d36079ae3f9cab993b7bbec68f6fa2fbfb60136
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 25 09:36:28 2006 -0700

    Add syntax for extended math send functions, and adjust packed_yuv_sf for it.

commit e865196a9d28d0097e76d606f727939c11bf6147
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 16:37:04 2006 -0700

    Add a syntax for urb write messages.

commit 5232981c8898489d5ce69be5a3fd6ffd32432ca8
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 15:43:50 2006 -0700

    Add some more generated files to ignore.

commit bf0b5ddbe780178fd6b31ac7fc38e61e8c8fa61d
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 15:43:20 2006 -0700

    Add packed yuv sf kernel from 2d driver.

commit 43313946e773568b59830601daa826039fcfc908
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 15:26:10 2006 -0700

    Add syntax for translating the DP write send message.

commit 16324215b26170b5add01028d2bc924c79d6b393
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 14:47:21 2006 -0700

    Fix respecting of instruction options (misunderstood default action behavior).

commit 56c4ccfc193ad3b57a0d1731570a1fc81a664ce3
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 14:35:10 2006 -0700

    Fix up sampler send message translation and give it a near-usable syntax.

commit e609d6ba93bf71be3c7d6543a8a9c7af4747dedc
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 12:36:56 2006 -0700

    Zero out the initial header instoptions.

commit 2093218bcdfc3ff687422335f1faec5ed5e47eee
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 12:36:21 2006 -0700

    There's no reason to provide typing or region on the null register.

commit 56b50b68032d181ae9f2bc75e8c606d2238266e7
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 24 10:51:48 2006 -0700

    bzero instructions before filling in the bits we care about.
    
    This avoids some set bits in padding fields.

commit 7c330fbf3aeb6ea488da87c1a399bf20bce37c93
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 15:21:44 2006 -0700

    Fill in type of null register to match Mesa.

commit ac32bb09ebdfc7fd675aab30c7663edde7e37102
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 15:21:28 2006 -0700

    This code was supposed to be null instead of acc0 (brw_disasm.c gave "a0").

commit a34d1e0d8ce889ea93833c5b02128e93f3c69290
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 14:52:14 2006 -0700

    Fix translation of message registers.

commit 90aea5198313fe5b548f31badc714a63aa0dffce
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 14:46:39 2006 -0700

    Fix translation of saturate value, and wire conditionalmod to 0 for now.

commit b9e6224587f13846eab5ccf6db5054d129169529
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 14:43:03 2006 -0700

    Remove generated source from repo.

commit dc96c56d9e9da633795fe512067efcc444bcbe2d
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 14:42:45 2006 -0700

    Add support for negate and abs to source operands.

commit 0d929b430b301859d775c05f4687db1665a1f6f9
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 13:33:41 2006 -0700

    Fix imm32 translation.

commit 0edcb2561d5ccde869b6f3b67479de37a62ceeb6
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 13:15:38 2006 -0700

    Fix dest_horiz_stride translation, and destination type.

commit b798c7c9daa298acc64cd8fd9ca53b8f3922561d
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 13:15:00 2006 -0700

    And add a comma.  This was supposed to be a minor change.

commit fc022c1bc23588515dbb91f21764cd34138bb79a
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 13:14:09 2006 -0700

    Remove generated file.

commit d4c82e8278a901c9c329906f0e43512ac6669f5d
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 13:08:26 2006 -0700

    Fix horizontal stride translation.

commit f2f18561e524a202163cf73a00b11f5a4647ce9d
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 12:46:37 2006 -0700

    C warnings cleanup.

commit 1c62350848470e9cfe357bb59119742f50542be0
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 12:44:28 2006 -0700

    Add Wall.

commit a58d896dfea42bdd9e5da05a1263bcd2b4e55e6d
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 12:42:25 2006 -0700

    actually print out last uint32_t of instruction.

commit 19f1c1cec4ad712c6e3e4a257d624dec2da4bb97
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 12:41:09 2006 -0700

    Start correcting the translation.

commit 6c98c8d578ab5feb65a9f6827a7e1bad11468575
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 11:54:19 2006 -0700

    Get the wm program to parse.

commit 22a1063cc014437bee07bdaff2c38c2e843d12d2
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 22 10:15:33 2006 -0700

    Initial gen4asm code.

commit 7ee278f17613d07ee18070f83aca9f050a526a72
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 20 14:40:07 2013 +0000

    build: Guard the inclusions of config.h with HAVE_CONFIG_H
    
    autoconf can be configured to not generate a config.h but to give the
    defines with command line arguments instead. In this case, there's no
    config.h to include.
    
    To work in both cases autoconf adds a HAVE_CONFIG_H define on the command
    line to signal there's a config.h to include.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit aa2bd8a6921b751d2f8a5caa0001e386f139fecc
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 19 00:39:04 2013 +0000

    lib: Allow to override the device id at run time
    
    Using the same environment variable as libdrm so one doesn't have to
    remember two different things. This is helpful to run a test under a
    fake identity, to, say, dump an aub file.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 75f52a6e3b334e817d5adb2e5fb0b00a4de36b8f
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Feb 18 23:49:48 2013 +0000

    lib: Factor out a function to check if an environment variable is set
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit 6c04309579805e595749e7918c7901d63a36f581
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Fri Mar 1 15:36:20 2013 -0800

    intel_chipset: Fix Haswell CRW PCI IDs.
    
    The second digit was off by one, which meant we accidentally treated
    GT(n) as GT(n-1).  This also meant no support for GT1 at all.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2155b16af2a382055b4059ce21786b77305d8910
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 21 18:31:20 2013 -0800

    quick_dump: prettier printing
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit cf17d10828a42bacce9932d1d19f4d64d14a9479
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Feb 19 09:53:43 2013 -0800

    fix arch build: update ax_python_devel.m4
    
    I complained about the broken m4 script, and it got fixed. I love the
    internet.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 84b525cf46c2d835f81f778a6e732cf69aa20bea
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Feb 18 21:41:10 2013 +0200

    intel_chipset: Add multiple inclusion guards into intel_chipset.h
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d7b06f50d2856c6d78b704e835b7af57a8d70060
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Mon Feb 18 21:41:09 2013 +0200

    intel_chipset: Use parens around macro arguments
    
    Protect the macro argument evaluations with parens.
    
    This is already touching most lines, so while at it, fix up all white
    space to uniform style throughout the file.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6526d8c6fcc10f1b100c570f1d924154cd43b2e9
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Feb 12 14:24:40 2013 +0000

    tests: Forbid to run the blit tests with count of 1
    
    Invoking say,
    
      sudo ./tests/gem_render_linear_blits 1
    
    does not make a lot of sense as we're creating a single bo. The test
    does not yell at you and passes, even if the rendercopy function does
    not do anything. This makes it quite harmful when trying to debug
    rendercopy without realizing that count is the number of allocated bos
    and must be >= 2.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 50c45f9586843bb3b83d9bed5d9738145ba05866
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 13 16:29:02 2013 +0000

    tests: Add a quick variant to the gem_storedw_* tests
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bb33d08845db2cf368240e737090ca3938b5ba64
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Feb 13 16:29:01 2013 +0000

    lib: Add a way to specify values for "quick" runs
    
    In some environments, we don't really want to loop 100000 times or
    allocate 152352621 buffers because it makes the tests too long to run.
    
    This adds a way to specify "quick" values to reduce the time taken by
    certain tests.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6157d242a572c21970e98d36e0837d106f6b2d0e
Author: Yi Sun <yi.sun@intel.com>
Date:   Tue Feb 12 23:11:35 2013 +0800

    tests/testdisplay.c: Remove the variable only_one_mode.
    
    That variable is useless, instead the variables specified_mode_num and specified_disp_id can cover all the situation.
    For parameter -o, all three instances should work:
    
    ./testdisplay -o 21,4 only test the 4th mode on the connector with id 21.
    ./testdisplay -o 21   test all the mode lines on the connector wiht id 21.
    ./testdisplay -o ,4   the -o is ignored, just like -a.
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>

commit 05795daebf3b4d37b89422a2fca0236ee6a26b73
Author: Matt Turner <mattst88@gmail.com>
Date:   Fri Feb 8 19:36:54 2013 +0000

    quick_dump: Makefile.am best practices and fix distcheck
    
    A few changes
      - Put CPPFLAGS in AM_CPPFLAGS instead of a per-target CFLAGS var;
      - Use _LIBS/_CFLAGS from pkg-config instead of hard-coded values;
      - List non-generated scripts in dist_bin_SCRIPTS;
      - Add chipset.py to the run that implicitly generates it, which fixes
        distcheck.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c73eab9f4043ee2c9be00250190a2833bf307aee
Author: Matt Turner <mattst88@gmail.com>
Date:   Fri Feb 8 19:36:53 2013 +0000

    configure.ac: fix autogen.sh
    
    Put -I m4 in ACLOCAL_AMFLAGS so ./autogen.sh just works
    
    [ben: commit message modified by]
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6b77e04560060c24b45a17059e135cd185871381
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 7 18:58:17 2013 -0800

    quick_dump: chdir us to where the text files are
    
    This is useful if you run out of the quick_dump directory.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit d8d114bca34239d046fb7ccb16b2efefff5fa41b
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 7 08:35:57 2013 -0800

    README: Add quick_dump info
    
    Reviewed-by: Paul Menzel <paulepanter@users.sourceforge.net>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1cce7eb21b0d78bf8a8848ad1698309f683b9d9d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 7 08:28:14 2013 -0800

    quick_dump: Give dumper an AM_CONDITIONAL
    
    It may sometimes be undesirable to build or install the quick dumper.
    This was requested by Damien.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1f2e037e8fabaa30264c1ad8c3dc0e4fc5e13769
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Feb 2 11:31:46 2013 -0800

    quick_dump: Use the register access library
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit beb5de858d38ec3c4d27da749fcecf460e6bd59d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Feb 1 20:13:25 2013 -0800

    quick_dump: Connect libpciaccess and other utils
    
    Make a register access library with sample to do register reads
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6437eed930c089a5b8b860daac03cfe537b285a9
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Feb 1 14:54:31 2013 -0800

    quick_dump: SWIG chipset interface
    
    This isn't strictly necessary it would have been easy enough to simply
    convert intel_chipset.h but this should be nice prep work for directly
    doing MMIO. It also serves as a nice review point.
    
    It's demonstrated with an autodetect function in the script. That
    autodetect has a hardcoded path that shouldn't be there, but it will go
    away in the next patch when we can properly link in libpciaccess.
    
    Thanks to Matt for helping whip the automake stuff into shape.
    
    v2: Switch to $(top_srcdir)
    
    Reviewed-by: Matt Turner <mattst88@gmail.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 508b5ce9a5e39a0fa78b2cf0e3706a53cb066bc6
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Feb 1 14:53:19 2013 -0800

    configure.ac: Add swig dependency
    
    As far as I can tell (and recommended to me by Matt) taking these m4
    extension macros from http://www.gnu.org/software/autoconf-archive/
    doesn't require the project distribute GPL. I am a bit confused from
    reading the license. I'd really hope someone can comment.
    
    The only other solution would be to roll my on m4 macros, or figure out
    a way to check that this autoconf-archive package is included from the
    configure.ac.
    
    Reviewed-by: Matt Turner <mattst88@gmail.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ebc918601ed3239f61d7d5c4d28e8c768422652a
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jan 31 11:09:15 2013 -0800

    quick_dump: vlv support
    
    This patch includes a patch from Jesse which removed a bunch of VLV
    registers which were useless in my original RFC.
    
    Cc: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b96821cb392639319a69dde8008f94b014ad7d3e
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jan 31 11:08:36 2013 -0800

    quick_dump: gen7 support
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 45cc039e315ca0eb4e673c480dcad371096b58ea
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jan 31 11:08:06 2013 -0800

    quick_dump: gen6 support
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ac1634e23cdedf0e9467e607220437c96f010a0a
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Sep 19 22:08:46 2012 -0700

    quick_dump: A dump utility different than reg_dumper
    
    This is the base tool for quick dump. At it's heart, quick dump is
    simply a basic text parsing thingie which plugs into intel-gpu-tools to
    do something similar to intel_reg_dumper.
    
    The format for the register definition files is very open, so it's just
    something simple for now.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 66ec9bd4e7abc7e65edf6518b034ec55b3b7d682
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 7 08:29:24 2013 -0800

    configure.ac: Move prime stuff to where it belongs
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 3a752a3d9a7aa2c9d8c710c7c889e9cd09384aed
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Feb 7 10:30:03 2013 -0800

    configure: slightly more standard --disable-tests
    
    Cc: Julien Cristau <jcristau@debian.org>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 7c170724003f42cd4ceea9f6c805292bbe2e81b2
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Tue Feb 5 16:17:54 2013 -0200

    Build: Add --disable-tests configure flag to avoid tests build
    
    Tests are still being built by default. However this request
    came from OSVs in order to allow them to include i-g-t in their
    distributions by default avoiding adding more and more dependencies
    since we are improving and adding more and more tests.
    
    v2: wait for Ben's spacing fixes and adjusted for new space rules.
    
    Signed-off-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Acked-by: Paul Menzel <paulepanter@users.sourceforge.net>
    Reviewed-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c75b8c60b52cd75f756e59fcfd4ce971e9189509
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jan 31 13:06:17 2013 -0800

    configure.ac: Add vim magic modeline
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 90f0b3dcf361cfed86f3222028f7a8d525159e66
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jan 31 13:04:18 2013 -0800

    configure.ac: Fix spacing
    
    Almost all based on vim's config file type. It got it wrong in a few
    places which were fixed by hand.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b8e5965e8fb1820f5709a4762e04af5b183b0a2c
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Feb 5 12:26:49 2013 +0200

    tests/gem_ctx_exec: properly test destroy_ctx ioctl
    
    Call context destroy with proper ioctl number and
    add test to verify that we can't post batchbuffers
    with destroyed context.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f5c3e5811e2d29ee0c00dc4fc49ab776f247203f
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Feb 4 17:47:53 2013 -0800

    intel_gtt: Fix PTE offsets
    
    Vincent sent me a patch which I think didn't go far enough.
    
    Honestly, I don't even know what this tool does.
    
    Reported-by: Cheah, Vincent Beng Keat <vincent.beng.keat.cheah@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit f9c8e365e972bf7ec6dd690096acaa21372e9826
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Feb 4 21:41:13 2013 +0000

    intel_error_decode: Don't barf on a malformed PCI ID line
    
    Whoops, someone added UTS_RELEASE with no newline before PCI ID which
    upsets our naive parser.

commit 34c66d073919424438356befbee7bc45609fb340
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Sat Feb 2 11:24:39 2013 +0100

    add more VLV PCI IDs
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 8c4bb7022b0b8327c3b41eeb34a14c415cca0d80
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Jan 30 14:52:24 2013 +0200

    kms_flip: Add flip-vs-modeset-vs-hang test
    
    The flip-vs-modeset-vs-hang test will:
    1. simulate a GPU hang
    2. exec a nop batch
    3. schedule a page flip
    4. perform a modeset operation
    
    With the current buggy kernel driver, the modeset operation will
    hang indefinitely waiting for the flip to complete. Since the
    rings are stopped, that will never happen. The current GPU reset
    code doesn't play well with page flips either, so a GPU reset
    won't fix things.
    
    Once the kernel driver is fixed, the eventual GPU reset will
    save the day.
    
    The nop batch buffer is required only because the kernel can't
    currently detect GPU hangs, unless there is at least one user
    submitted request pending.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e1d1beb47849875b65b4f970251e58d5918d6187
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Wed Jan 30 14:52:23 2013 +0200

    kms_flip: Make flip events optional
    
    Pass an argument to do_page_flip() telling it whether to request flip
    events.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fb7bc2e8d1dcc626778f4e8f3346a2ecbdfe4b04
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jan 17 15:07:50 2013 +0000

    tests/gem_lut_handle: Limit testing LUT interface to recent kernels
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d5517a1301f066465c3b2941542fb8aec66aa5e3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jan 17 15:05:20 2013 +0000

    tests/gem_lut_handle: Expand negative testing
    
    Pass in lots of execs and relocs trying to trick the kernel into making
    a mistake.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 230d77f1d0069a48d83b9829573712935d49fbd5
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Nov 14 12:15:01 2012 +0000

    tests: Benchmark new API for using a LUT with the execbuffer
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ec2eac6d7b3e11a37e8ba96bc0453ca1d91ba715
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Nov 14 12:15:01 2012 +0000

    tests: Exercise new API for using a LUT with the execbuffer
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cdd352df95b8dfd6a6bab7014be2a15526643721
Author: Yi Sun <yi.sun@intel.com>
Date:   Sun Jan 13 10:10:24 2013 +0800

    tests/testdisplay.c: Fix the issue which don't display anything until '-o' given.
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c612481a196f642ae6a3a67631d7a312e506e1b4
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Jan 8 13:16:06 2013 +0200

    tests/gem_seqno_wrap: skip if debugfs entry is not there
    
    Return error code 77 to skip test if debugfs entry is not
    available.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=59116
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2d0a8e8545351e70112a6df2ce86932a5a2046d0
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jan 7 11:43:38 2013 +0000

    tests: Add basic testing of gem_pin
    
    Including exercising races versus interrupts.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cda8bee056c71acd01b2a70258f99d43ba826198
Author: Thomas Jarosch <thomas.jarosch@intra2net.com>
Date:   Tue Dec 25 18:06:57 2012 +0100

    Fix out of bounds memory access
    
    cppcheck reported:
    [tools/intel_infoframes.c:836]: (error) Width 31 given in format string
    (no. 1) is larger than destination buffer 'option[16]',
    use %15s to prevent overflowing it.
    
    Signed-off-by: Thomas Jarosch <thomas.jarosch@intra2net.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 05bfbf422723fbb6c6e085e9b7f1bdb41afab7c8
Author: Yi Sun <yi.sun@intel.com>
Date:   Wed Dec 26 17:12:39 2012 +0800

    tests/testdisplay: Specify the display.
    
    It can specify the display by the connector id which list as the first column of ./testdisplay -i.
    E.g. command "./testdiplay -o 1,4" means setting number 4 mode line on the display with connector id 1.
    
    v2. Specify the display by id which can be got from option '-i'
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 33f09f6954d0b5213f26f987c39ab63182d55369
Author: Mika Kuoppala <mika.kuoppala@intel.com>
Date:   Fri Dec 21 14:06:02 2012 +0200

    tests/gem_seqno_wrap: adapt to new next_seqno debugfs interface
    
    - adapt to use debugfs interface that can set seqno to arbitrary value
    - fix dynamic buffer allocation
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5825cf807ea29772d2dff6135be9c15c61d04155
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 20 23:30:10 2012 +0100

    tests/prime_nv_pcopy: guard output for subtest listing

commit 71ba0038dbd8574a959f0e742e7dcac843426805
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Aug 14 14:16:04 2012 +1000

    intel/udl tests;
    
    basic test to share a BO, add as a udl framebuffer, and call the dirty
    ioctl on it so we cause the vmapping to happen
    
    [danvet: Snatched up from Dave's prime branch, ocd name and bikeshed
    whitespace a bit.]

commit d798ab9c2a092a08e14c6f2dfb1777376ba407a8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 18 22:55:58 2012 +0100

    tests: add testcase to check igt runtime enviroment
    
    Now that we've abandonded the autohell testrunner, need to port this
    over. Easiest is to just add another testcase ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f0546374a001bbf8a4e05548a5320d05f3cc2d02
Author: Ville Syrjälä <ville.syrjala@linux.intel.com>
Date:   Tue Dec 18 16:51:27 2012 +0200

    kms_flip: Add -lrt back
    
    kms_flip doesn't build due to missing -lrt.
    
    The build was broken due to a typo in this commit:
    
    commit acdf7171264a5139caabb78127c9eef5080c0682
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Sat Dec 15 00:48:47 2012 +0100
    
        tests: s/flip_test/kms_flip
    
        OCD wins!
    
        Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    
    For some reason libudev.pc brings in -lrt as well, which probably
    caused the typo to go unnoticed.
    
    Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cef68158dd39fa36f7273a603e2a571b98527d67
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 18 10:25:15 2012 +0100

    tests/kms_flip: don't die on stdin input
    
    Seems to be a leftover from fliptest ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0af2b184ad0d876936091e58028cca56de30b850
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 15 01:06:11 2012 +0100

    lib: extract kmstest_get_pipe_from_crtc_id

commit 573d59dd148d9fedceb8aaeeb88b76cfc5564c40
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 15 01:05:33 2012 +0100

    tests/gem_flink: enable flink lifetime subtest
    
    Somehow fumbled this.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit acdf7171264a5139caabb78127c9eef5080c0682
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 15 00:48:47 2012 +0100

    tests: s/flip_test/kms_flip
    
    OCD wins!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f56384c2c0264989acae7b8c7efb5030a6c94caf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 15 00:41:01 2012 +0100

    tests/flip_test: add flip vs. rmfb testcase
    
    To check that the kernel doesn't fall over when tearing down a life
    fb. Confirmed that it exercises the right codepath with printk.
    
    Also fix an issue Imre introduced in
    
    commit fe7fea0be3b5f418b76dc7834e73b31827484429
    Author: Imre Deak <imre.deak@intel.com>
    Date:   Tue Oct 16 04:09:43 2012 +0300
    
        flip_test: add event sequence number tracking
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit df41e1a6bbe75f047e83bb543e0b0564ed10862b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 13 21:30:43 2012 +0100

    flip_test: recreate fb
    
    ... to test the latency of rmfb, getfb and addfb. Since if those still
    can cause spikes, we have a problem.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8ed0112f88a8738d3e813428e5045333a6e07fbf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Dec 13 21:10:58 2012 +0100

    tests/flip_test: split out timestamp checks into subtest
    
    This way we can still test basic pageflips on kernels with broken
    locking while still failing when the timestamps/framecounts are wrong.
    
    Also disable the delay check on analog tv, timings on those ports are
    truely screwed-up
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f185699a4ba904569db286cdb3386512a2540af2
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sun Dec 16 10:38:54 2012 -0800

    tests/gem_seqno_wrap.c: include <signal.h> for definition of kill()
    
    Fixes build failure on Solaris:
    gem_seqno_wrap.c: In function ‘run_cmd’:
    gem_seqno_wrap.c:328:3: error: implicit declaration of function ‘kill’ [-Werror=implicit-function-declaration]
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c2e05af3538830f0fd1f0e750a99b2e10b84e991
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 15 15:38:31 2012 +0100

    tests/prime_nv_pcopy: convert to subtests
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cc4eeb990f0378f2e3166c4d03699d4873747c38
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 15 15:30:19 2012 +0100

    tests/prime_nv_tests: convert to subtests
    
    And properly fail the failing ones - bloody hate it when the tests lie
    to me ...

commit c0a74d8d505b00ff823ce2ad47b0fc2f7d0cebb7
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu Dec 13 14:11:24 2012 -0200

    tools: intel_gpu_abrt bug report template.
    
    checking if file has been generated and output a template for a good bug report

commit 3ab148331a37ace6eb73d17bd3803602eabd7c17
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu Dec 13 14:11:23 2012 -0200

    tools: intel_gpu_abrt checking for root access
    
    needed by other igt tools that are collecting more usefull information.

commit 616a4de567f574e42233b10d3546a3e1b5394e66
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu Dec 13 14:11:22 2012 -0200

    tools: intel_gpu_abrt collecting more useful info

commit 7150a04124ae151c3e917bbad03442cebaeaecd6
Author: Rodrigo Vivi <rodrigo.vivi@gmail.com>
Date:   Thu Dec 13 14:11:21 2012 -0200

    tools: intel_gpu_abrt "get" function
    
    A function to make it easy to collect any file or directory needed later.

commit a2452d68a062e3fda2ac1c3bc92b8fd083a0cf68
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Thu Dec 13 12:43:35 2012 +0200

    tests/gem_seqno_wrap: dont sync when crossing half of seqno space
    
    For seqno comparison to work they have to be less than UINT32_MAX/2
    apart. So when crossing the half way of seqno space, be careful not
    to sync anything as this causes gpu hangs. Do real test with
    syncing only when we are about to wrap.
    
    v2: Don't spam if no rendercopy was found, only warn once

commit 7ab837b21473a9e7bf5565a8fa862349d37bc597
Author: Imre Deak <imre.deak@gmail.com>
Date:   Fri Dec 7 20:30:28 2012 +0200

    flip_test: fix link error due to missing -lrt
    
    Needed by clock_gettime(). This isn't a problem if libudev is used,
    as that pulles librt with it.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e0ce231bf3d0ca14a2c10423f0d0affca999b447
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 12 14:33:17 2012 +0000

    tests/gem_*_tiled_blits: Use the vma limiter to present address space exhaustion
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=58113
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit de9621b4f5972fc6f137b241a1b904d7cac9742b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 12 13:58:04 2012 +0000

    tests/gem_tiled_pread_pwrite: Allow the kernel to reap the GTT address space
    
    Otherwise we can not run this test on 32-bit systems.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit b1ee03c540af86708a8dd1674032712cba7aa1f1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 12 13:56:09 2012 +0000

    tests/gem_tiled_swapping: Don't needless crash on 32-bit systems
    
    Only 32-bit of mmap address space, but with PAE we may be trying to
    allocate more than 4 GiB of memory.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4cd21795d2ba882a4197769e516b021a5a4c806d
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Tue Sep 11 19:01:46 2012 +0200

    tests/prime_nv_pcopy.c: fail if nouveau_pushbuf_kick fails rather than spinning

commit 30842637820b15916198cca45065826115864473
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 7 23:34:23 2012 +0100

    tests: disable gem_exec_bad_domains/conflicting-write-domain
    
    Kernel checks have been eased in
    
    commit c1f093e09c4ceb583b04d11e767bb3201812e4d2
    Author: Chris Wilson <chris@chris-wilson.co.uk>
    Date:   Mon Dec 3 11:49:07 2012 +0000
    
        drm/i915: Remove check for conflicting relocation write-domains

commit c0dbf04b0536aeff95dd56aa7847b3483d95e61f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 6 20:36:24 2012 +0000

    tests: Add a basic test for tiled render copies
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1945e2a7f18dc2e4c46010ab8b7774679fc217d3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 6 17:18:52 2012 +0000

    Implement a working gen7 rendercopy
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=57825
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3ad92902e1ed51894ddece2ae2a698ff55ac8adf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 6 19:32:14 2012 +0000

    tests: Add basic test for render blits
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 50fdf32e46bcfd01e83b813d6a1fd0dc5b686692
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 6 12:16:12 2012 +0000

    pci: Search for the first Intel GPU, rather than assume a fixed slot
    
    Everywhere else we search for a match based on an Intel display
    device, so if the quick check of the fixed slot fails, fallback to
    walking the PCI bus looking for a match.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 51f08301ab5702db673fd4c2543ead7251641939
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Dec 5 19:29:11 2012 +0100

    tests/gem_exec_nop: implemented correct SKIP reporting
    
    I think I need a testsuite for test writing.

commit 53e184b228b9bda43df75aa4ff919bc23f5caa09
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Dec 5 10:09:08 2012 +0100

    tests/gem_dummy_reloc_loop: some updates
    
    - convert to subtests
    - shut up stderr output for successful runs
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ad5919617cbccd2f7a2c8311c8ebe83e6d0acd52
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Dec 5 04:16:38 2012 +0100

    tests: fixup gem_exec_nop subtests
    
    Note to self: No more pushing after 12 o'clock midnight. Not a good
    idea, too embarassing.

commit d9d9578f3bd25734e8dc85b620c9c9073161d7fb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 4 17:13:05 2012 +0100

    tests: run no-op batches on all rings
    
    For Ben ...

commit 796fd58a17aa93e3e1a62549afde5984a10ebdee
Author: Mika Kuoppala <mika.kuoppala@linux.intel.com>
Date:   Tue Dec 4 19:43:13 2012 +0200

    tests: add gem_seqno_wrap
    
    This test uses debugfs entry to set next_seqno close
    to a wrapping point and then creates a load with dependant
    buffer objects or with specified command to induce the wrap.
    
    v2: Use new get_rendercpy_func as suggested by Daniel Vetter.
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d0f3a0d77a7792a38d7571b011bb6cf5ad604b4a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 4 10:42:15 2012 +0100

    README: piglit requires results-file for testruns
    
    Noticed by Mika.

commit 175fc656ebc17e5cb01d87215268af7628d700ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 4 10:37:55 2012 +0100

    tests/Makefile.am: Add a comment about the subtest infrastructure

commit df545c19689463a0f6f70fa4cc3f3dd3a1eabcdb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 4 10:34:46 2012 +0100

    README: add quick howto for using piglit as testrunner

commit 6daae8bcb6b4a930c9677f87fa24675581b69072
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 1 13:07:45 2012 +0100

    tests/gem_flink: check flink lifetime rules
    
    flink names may not be destroyed while there's still a userspace
    handle around. Test this by
    - exporting an flink name from fd2
    - open a gem bo from that name in fd
    - close fd2, then open a new drm file (so that the original handle
      disappears)
    - check whether the same flink name still works

commit d8df90dc6bce77842c781aa0907147cecce4b5f6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 1 00:51:53 2012 +0100

    tests/gem_exec_bad_domains: add more bad domains
    
    - mulitple write domains
    - conflicting write domains
    - not-yet-defined gpu domains
    
    Also convert to subtests while at it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit da6473184ccd35d203a1de435b7b500f5c222662
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 1 00:52:24 2012 +0100

    tools/intel_reg_dumper: add some cpt/ppt debug regs
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0d7139af5813f227f120bf13152c35dd08774e6b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 29 15:01:09 2012 +0100

    tests/gem_stress: prevent segfault in getopt parsing
    
    Needs a terminal element in the long option array.

commit 64f669f7a94d459437a4dd47142ef2bb9870c5e6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 29 14:59:57 2012 +0100

    lib: extract get_render_copyfunc
    
    Otherwise we won't update all the tests if we add new render
    copyfuncs.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d79414f64a599e5ec35f5e865a5e24858602d186
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Nov 29 11:27:32 2012 +0100

    tests: disable gem_non_secure_batch
    
    Seems to cause hangs on some of my old gen2/3 machines, but not all of
    them.

commit df11a6f31d98eb56568a3fc234e6e6294c72e4ab
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 13:25:12 2012 +0100

    tests/gem_tiled_partial_pwrite_pread: convert to subtest infrastructure

commit b0066d3659ce0814fba396626436e6bc7b369580
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 13:22:39 2012 +0100

    tests/gem_tiled_partial_pwrite_pread: refactor subtests into functions

commit 129d2013377f93da78e24c6616b61acac235dc0a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 13:10:26 2012 +0100

    tests/gem_set_tiling_vs_blt: convert to subtest infrastructure

commit ca2851f827d5f60283dc8c202006a2f5095c738b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 13:08:20 2012 +0100

    tests/gem_ringfill: convert to subtest infrastructure

commit 046b149b18d485ee0dbe3419944f5b9db47389fb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 13:08:07 2012 +0100

    tests/gem_partial_pwrite_pread: convert to subtest infrastructure

commit 1a55ca753e3250baec32aa87cdea18b746141325
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:47:26 2012 +0100

    tests/gem_partial_pwrite_pread: refactor subtests into functions
    
    This was a too big mess.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit af228d4edc44fc539e6a28ac68ce7a880d036f99
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:40:23 2012 +0100

    tests/gem_mmap_gtt: convert to subtest infrastructure

commit 7160c534f8283eb6fa1796406fcec70132b6b82a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:38:00 2012 +0100

    tests: re-enable gem_hangcheck_forcewak
    
    Was accidentally disable in ab3f4bdafe60dede32a48674ef9920df090bf3a7
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a2778575d5f469e67a3d2dbd5293cfe79cbe8b6e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:35:03 2012 +0100

    tests/gem_gtt_concurrent_blit: convert to subtest infrastructure
    
    Same treatment as for gem_cpu_concurrent_blit.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2a9e128b18df8e3683b165378d884ce24147f04d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:17:40 2012 +0100

    tests/gem_flink: convert to subtest infrastructure

commit 9d65d484f65c841c878fa946e905f9297df62dac
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:09:58 2012 +0100

    tests/gem_cs_tlb: convert to subtests
    
    Again required a bit of shuffling to avoid expensive setup and some
    logic to properly handling 'skip' when only running a subtest.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4f6ab180a11128627385db722d06db60fa6023ff
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 12:00:33 2012 +0100

    tests/gem_cpu_concurrent_blt: convert to subtest infrastructure
    
    Small changes to avoid expensive setup just to print out the subtest
    list, and setting up the source buffers such that "early-read" works
    without having run "overwrite-soure" right beforehand.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 792a05a0a1c7b901093c3542ec96b5d7a9a9f253
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 11:41:33 2012 +0100

    tests/gem_cacheing: convert to subtest infrastructure

commit 3cca0d8c6d33837e1e5a3f1bd1210cb37bb94a18
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 11:16:44 2012 +0100

    tests/gem_basic: convert to subtest infrastructure

commit c3d5c1292bac53ac14d8661d8ac76c5a79752016
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 27 20:33:15 2012 +0100

    tests/flip_test: use subtest infrastructure
    
    To make the testnames easier to handle in scripts, replace all
    spaces with dashes.
    
    The important part is to not print anything to stdout when enumerating
    subtests, so protect the timestamp test with the right check.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9fc7e1386aade4cf0cd0e27354f47cde48253fb6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 27 20:03:25 2012 +0100

    lib/drmtest: subtest infrastructure
    
    To make these helpers as least invasive as possible simply initialize
    the options with a getopt parser and let the control flow be steered
    with a simple helper which gets the subtest name as an argument.
    
    The only tricky part for using it is that the subtest check helper
    doubles up as the conduit to enumerate tests (and in that mode
    prevents any test from being run). It is therefore important that
    nothing gets printed to stdout outside of these checks.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 021909e10d1bf9192c6245802b0df4866681b3f0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 27 20:04:15 2012 +0100

    tests: dont polute stderr if the test succeeds/skips
    
    Results in spurious 'warn' results in piglit. Also don't print
    progress indicators when not outputting to a terminal.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4fae0c65c5c1fdf5403a31104890a279fd7b544f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 27 16:38:43 2012 +0100

    tests: remove ZZ_check_dmesg from runner
    
    This is getting in the way of piglit integration. If we want this
    functionality again, we should integrate it into the IGT piglit runner
    as an option.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c79c56cf8c994e5a2e679008576b1d1329f4e687
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 28 11:08:31 2012 +0100

    tests: infrastructure for piglit runner
    
    Piglit needs a way to grab the latest list of tests to run, so add new
    make targets to dump those. Note that for future extendability we'll
    dump 2 different lists, one for single-testcase tests and one for
    testcases with enumerable subcases. Some support code for the later
    will follow in subsequent patches.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b11887741cdcf28d962aa7957b2f8fd30b081e6b
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Tue Nov 27 19:14:05 2012 +0000

    testdisplay: Use the fb stride when painting the color key
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=55901
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e5315f9dad8eb1f24ce23d2a0b636a5ee3f4900a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Nov 25 13:55:55 2012 +0100

    tests: add gem_non_secure_batch

commit 314953117fde1b96aa9c310bd5ad1d53842fddd2
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu Nov 22 16:46:36 2012 +0200

    flip_test: switch to using monotonic timestamps (v2)
    
    Since monotonic timestamps are now the preferred time format, change
    timestamps checks to compare against monotonic instead of real time.
    Also add two tests for DRM's compatibility mode where it returns real
    timestamps.
    
    v2: drop the tests for the compatibilty mode (Daniel)
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b7067d6c10d44c73d35828c6a39056ed7862fb40
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu Nov 22 15:25:05 2012 +0200

    flip_test: use monotonic time to measure the test duration
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8a2593bd3c1f56f03a925d86c3865479505ddb66
Author: Imre Deak <imre.deak@intel.com>
Date:   Thu Nov 22 15:25:04 2012 +0200

    flip_test: skip check for last_received_ts for the first event
    
    The old way worked too, but just skipping the test for the first event
    is more logical/simpler thing to do.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b28caa0ac0fc7ae187100d0a79173ab11bb52128
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 23 12:07:52 2012 +0300

    flip_test: add wf-vblank test for expired sequence
    
    In v2:
    - Wait for the seq that just completed (current_seq) not last_seq - 1.
    - Do an equality check for ts and seq instead of >=. The previous
      issue didn't let us do this before.
    - Simplify the condition when we do an "expired sequence" check by
      only using the last flip event as a reference.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c7dd1dcdd9b04cf8aae12c59091497d71fe54a15
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 22 20:40:07 2012 +0300

    flip_test: add comment about the race between flip vs. vblank events
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7f32adc6c5364308f402f981ebde7f3689849471
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 22 20:40:06 2012 +0300

    flip_test: check if the vblank and flip states correlate
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 429dc016360946c4b126bf453187a2cb5d7dd003
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 22 20:40:05 2012 +0300

    flip_test: fixup zero timestamp for premature vblanks
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5fc312e9f1e19dfdbb1427d344489aa09002dcdd
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 22 20:40:04 2012 +0300

    flip_test: increase duration for vbl+flip tests with ts check
    
    We need a big enough duration, so the hotplug event's affect doesn't
    distort our final frame count too much.
    
    Without this these tests will exit with a "dropped frames" error.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 554237f35109b64d1ecd5a309190c4f654f49dab
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 18 22:37:20 2012 +0200

    tests/gem_cs_tlb: make it more robust
    
    ... using a fine roll of duct-tape. Dunno what exactly leaks out from
    the previous testcase, but the bo gets moved about a bit and makes the
    self-check of the test fail.

commit ea50871f15d02b2f0f57d9c430dc2c34398f2655
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 17 11:09:13 2012 +0200

    flip_test: check whether wait_vblank fails when it should

commit 3b1fbbf41208a7af3d8332179c66d1e90af1ed60
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 17 00:35:43 2012 +0200

    flip_test: drop vblank vs. pan
    
    pageflip vs. pan is interesting since we wait for outstanding flips
    before updating the fb base address. For vblank absolutely nothing
    interesting happens.

commit 7125a338ec6b42fa31090508063bef2432d94ec2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 17 00:34:43 2012 +0200

    flip_test: tune test-durations a bit
    
    15 seconds for timestamp checkers (to at least hit the dreaded hotplug
    once), 5 seconds for fast tests that check every vblank something, 30
    for slow test (dpms/modeset cycles).

commit 6473c537d8710a775991f2535dbcaedd49f68213
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 05:43:19 2012 +0300

    flip_test: add wait-for-vblank tests
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    [danvet: add {} for multi-line but single-statement if block.]
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ae62874cf16a759b753f8b9dbfa8eb999d1e1859
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 04:11:43 2012 +0300

    flip_test: add check to see if any event has occured
    
    At the moment select() would time out in case we don't get any event.
    When we add vblank events in a later patch, it's possible that we
    receive one type of events but not the other type. In this case select()
    doesn't time out and we need another way to detect this.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit fe7fea0be3b5f418b76dc7834e73b31827484429
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 04:09:43 2012 +0300

    flip_test: add event sequence number tracking
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 887a2597fab15281db7352460b52161d9e7ed3c8
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 01:47:15 2012 +0300

    flip_test: add logic to track pending events
    
    When we add the vblank tests later, it can happen that one type of event
    is pending while we are servicing another. Prepare for that by
    maintaining a pending/completed event mask.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit a7d9a57c4767b63deb241278e9d7eafdd0023e8e
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 01:47:15 2012 +0300

    flip_test: make page flip tests conditional
    
    Since later we want to add vblank tests where we don't want to flip,
    make the flips and corresponding state checks conditional.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit eecae8dfef452194bd183a86cfb7d31f8d93dcba
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 15 21:18:40 2012 +0300

    flip_test: unify the name of the current test in status messages
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 6c2b53d8948a0660e6a95b4d7350a0d15bf78ceb
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 15 21:15:18 2012 +0300

    flip_test: store the pipe id in the test context obj
    
    For DRM_IOCTL_WAIT_VBLANK we'll have to pass the pipe id - as opposed to
    the crtc id required by the rest of the IOCTLs we use.
    
    Thanks for Chris Wilson for pointing this out.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 641261f4fec9a4519f55a08c2df6913f65c4e9b4
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 16:18:08 2012 +0300

    flip_test: don't skip checks for sequence #1
    
    So far we skipped some tests for seq#0 and #1, since at that point we
    were missing the 'last' state against which we could compare the current
    state. Since in the previous patches we fixed the ordering in the test
    loop and moved the increment of count to the update state phase, we have
    a proper 'last' state for seq#1, so enable the tests already at that
    point.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit ee8f485e55f86ae850a233fabad9c0c200d81550
Author: Imre Deak <imre.deak@intel.com>
Date:   Mon Oct 15 20:37:01 2012 +0300

    flip_test: factor out the event state
    
    Factor out the status vars that are specific to the flip events into a
    separate structure. This will allow us tracking the vblank events with
    the same code.
    
    We move the increment of the flip event counter to the end of the test
    loop, but this shouldn't affect anything. This is the only functional
    change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 5fa695529c82d5f1b5c77c83e2b46194e503987b
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 02:41:02 2012 +0300

    flip_test: swap the order of check state/run test step
    
    At the moment we first check the state then run the test step in our
    test loop. Swapping the order makes the starting state of each iteration
    better defined, allowing an easier extension of these steps in the
    future.
    
    Since now it's guaranteed that we exit the event loop with no pending
    flips, we can also get rid of the final flushing of events.
    
    We don't want the first initializing flip to affect the test loop other
    than setting an initial FB, so before starting the test loop wait for it
    to complete by calling wait_for_events() and leave the flip event
    counter at zero.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 960a3895a0b2a73d2c2c29910d705070940cc376
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 02:37:15 2012 +0300

    flip_test: split the flip handler into logical parts
    
    The handler consits of handle_event/run_test/check_state/update_state
    logical steps, split the function accordingly. This is needed by the
    following patches that need to do part of these steps for both flip and
    vblank events.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 9e43ecdf2113f61a28a71f67a2c464d40c732d59
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 02:26:35 2012 +0300

    flip_test: store current flip/received timestamps in the context obj
    
    This is needed by the next patch that splits the flip handler function
    into logical parts. Make the timestamps accesible to these parts.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 161e525fd8d3a1617818c5acdee4b3be6d0a1bf0
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 05:50:22 2012 +0300

    flip_test: factor out the final state check
    
    Needed by an upcoming patch where we want to make a final state check
    for both the flip and vblank events.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit c96d18a994798ca2caccda4eeb4773966b4a87da
Author: Imre Deak <imre.deak@intel.com>
Date:   Fri Oct 12 13:31:25 2012 +0300

    flip_test: factor out the event loop/wait for event logic
    
    Needed by an upcoming patch where we want to wait for an event without
    starting a new round of test run.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 0699dc725925d36f49b833735c21f19f7cf498aa
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 14:47:51 2012 +0300

    flip_test: move output panning inside the flip_handler
    
    Move the panning to a more logical place where the rest of the test
    steps are performed. As Daniel Vetter pointed it out, the proper place
    is _after_ the flip command is sent, so that fb_set_base correctly waits
    for any outstanding flip. So move the function between the flip and the
    dpms/modeset off calls.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit 3731fee849e3b02cc565812656b540cc46297227
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 12:01:28 2012 +0300

    flip_test: store fb width, height in test context object
    
    We will need these in event handlers, so store them where the handlers
    have access to them.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>

commit f9f6bff80d9d3b7e508751c344fcd3bd059d7b68
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 17:34:41 2012 +0300

    flip_test: factor out drmModePageFlip
    
    For better readability and to prepare for the upcoming patch marking
    pending flip events with a flag.
    
    No functional change.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 43f6f873eb8c8e98194b5ba50675fd3a1e6b656a
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 17:34:39 2012 +0300

    test_flip: fix checking for delayed event reception
    
    The intent for the time limit seems to be 2ms, but the current condition
    will result in a 1s limit and makes the check against tv_usec redundant.
    Fix the condition to check for a 2ms limit.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 95a967faa2558a32a13390de71361af051926c75
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 17:34:38 2012 +0300

    flip_test: check drmHandleEvents()' return value
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    [danvet: s/assert/do_or_die]
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f1b1729a8a81d05e4c45d0c20f1a5843c4bb8b6d
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 17:34:37 2012 +0300

    flip_test: reset the state for each test run
    
    Each test run needs a clean state.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 472e8a70c227807cf77db13d460e695d82b300ae
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 17:34:36 2012 +0300

    flip_test: free FBs after each test run
    
    Though the FBs will be freed implicitly at process exit, with the
    growing number of test cases it's probably better not to let them
    accumulate and free them as soon as we can.
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 21393431f191d3c51b98f5acd507418b126f6cf7
Author: Imre Deak <imre.deak@intel.com>
Date:   Tue Oct 16 17:34:35 2012 +0300

    drmtest: add function to remove an DRM FB
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit dc3ac00f033245155c765f308fe76088f9f5bfc0
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Oct 15 10:05:56 2012 -0700

    sysfs_rps: Add negative test case for bad values
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 50d46750d90b30a06d15583abe693550955ebd50
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 12 10:45:52 2012 +0200

    lib/mmio: gen2 has a bigger register window, too
    
    It's split up into two parts, with the gtt pte range in between.
    Without this I couldn't read the ADPA register ...

commit 31dfc98a301b1071bfe483e5588cef2352dbcf13
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:45 2012 +0300

    fix warn in testdisplay: ignoring return value of 'chdir'
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0bf5fd894c386cbb6a2419056e43d400c4dec73b
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:44 2012 +0300

    fix warn in prime_nv_*: ignoring return value of ‘fgets’
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bcfc0f1e4b15dac830c1f7d61b2cca3c74b3ba69
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:43 2012 +0300

    fix warn in gem_reg_read: 'read' shadows a global declaration
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3a622b9784289615078f331df4571550aeaa7578
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:42 2012 +0300

    fix warn in sysfs_{rc6, rps}*: ignoring return value of 'fscanf'
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b614b4d648bc3534996601b4d17609439135e98a
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:41 2012 +0300

    fix warn in gem_readwrite: 'read/write' shadows a global declaration
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9de58cf6c1c1fd47ad56504cfa7cbff5cc75b885
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:40 2012 +0300

    fix warn in intel_reg_snapshot: ignoring return value of 'write'
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5efd3d3d227365421acb4c7b350cae9c34923b2e
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:39 2012 +0300

    fix warn in intel_error_decode: ignoring return value of 'asprintf'
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6456e75f0d91f35eb2e8c2b71629e2813b0aa72d
Author: Imre Deak <imre.deak@intel.com>
Date:   Wed Oct 10 16:04:38 2012 +0300

    fix warn: 'div' shadows a global declaration
    
    Signed-off-by: Imre Deak <imre.deak@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1a83c0990af469a0559002d4c2e9f99333edc996
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 22:47:59 2012 +0200

    tests/gem_exec_big: fixups
    
    - don't emit a self-modifying batch, the kernel doesn't like those
    - also change the buffer size, to exercise all corner-cases of the
      sg_table stuff

commit fa6b0208ab161f7021cfde09fa74ab02907073e6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 19:43:28 2012 +0200

    tests/gem_exec_big: add a reloc at the end of the big batch
    
    Since that's the other place where the broken get_page blows up.
    
    Actually it seems to only blow up on specific pages ...

commit 1431938c5c00786130a6870277a376009c34579f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 19:29:02 2012 +0200

    tests: add big batchbuffer test
    
    ... and use it in the hangman to stress the error_state capture a bit more.
    
    Uncovered a bug in the obj->pages ->obj->sg_list rework.

commit 5f94468f520ba790215a352a3f824b9580e268a7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 19:27:41 2012 +0200

    lib: remove auto-quiescenting of the gpu
    
    In retrospective, this is an ugly idea. Any tests that needs this
    can call it themselves.

commit b8e384a4d5b9910f655dc532636978d0c0e24054
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 17:50:40 2012 +0200

    lib: make drmtest_progress more robust

commit e5722bac9cfd5a643141117d1899bcd6aa7c3731
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 17:32:00 2012 +0200

    tests: update .gitignore
    
    I've thought I've fixed this, but looks like I've failed to commit.

commit c9795c6dfe1fc383dcbbd587ba633974dd4d0f67
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 17:30:59 2012 +0200

    tests: add gem_cs_tlb
    
    Should test tlb coherency, but somehow it fails to hit the bug I want
    it to hit ... needs more work.

commit a7787baccc187ef10ed497ad9d8dd940df70c6e7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 9 15:51:13 2012 +0200

    tests/gem_cs_prefetch: clarify what it tests
    
    I've forgotten ;-)

commit dc5d76e2bf95eadf299edfdfc51eee085f5c67d3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 4 21:40:54 2012 +0200

    tests/flip_test: check -EBUSY and -EINVAL behaviour
    
    We want -EBUSY for a pending flip and -EINVAL if the pipe is off
    (either dpms off or completely off). With the small exception that
    someone thought it would be funny to return -EBUSY when the crtc is
    fully off.

commit 1422c22e8909b189bb7cc67ee1ee403c5bd81d08
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Oct 4 13:22:16 2012 +0200

    tests/*storedw*: add subcases with more outstanding batches
    
    Just in case this is better at hitting seqno signalling races ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 826326bc7c464c7297687a82d03da83922555ca1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 3 23:16:18 2012 +0200

    flip_test: fix timestamp order
    
    When grabbing the timestamp after a flip, it has a decent chance to
    actually be after the flip. Surprising.

commit 630dd4087d50f6db3b9d4e9fc42ca159b6d39446
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 3 18:57:40 2012 +0200

    tests/gem_caching: only disable on vintage i965g/gm
    
    Hooray for confusing macros!
    
    Acked-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2d431fd6b6430261334f50a9dbba5bd473ded449
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Oct 3 13:44:30 2012 +0200

    tests: add drm_threaded_access_tiled
    
    This catches parallel access to bo->virtual causing sigbus
    
    Signed-off-by: Mika Kuoppala <mika.kuoppala@intel.com>
    [danvet: applied some bikeshed
    - changed prefix from drm_ to gem_, it's a kernel gem test
    - added autohell magic to link with pthreads
    - .gitignore entry
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9965299cf35496d10f8348a1539822a9f83940a8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 21:29:57 2012 +0200

    flip_test: add an explicit flag for timing checks
    
    We'll need this for the wait_vblank test cases.

commit aaa460951d9d54f27dc2a7d775ed5cf439b9768f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 21:40:46 2012 +0100

    gem_cpu_reloc: Do another pass explicitly moving to the CPU write domain
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 99a0824669374144d2c644c3a5d9bb7cf65ef716
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 21:04:36 2012 +0100

    gem_cpu_reloc: Use the mappable aperture size!
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 217511012a80461d465df33f7760c1f5f77c270e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 21:02:22 2012 +0100

    gem_cpu_reloc: And run the test in reverse to check with already bound batches
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8b2c19da0bf5d6f9c7b78f8cd6f5000bf49862cd
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 20:50:17 2012 +0100

    gem_cpu_reloc: Fix for running on SNB+
    
    I work with these everyday and I still made a basic mistake.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 43737163d3d5a798b63497003027ba6d5aba847c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 19:42:11 2012 +0200

    flip_test: increase runtime of the plain flip to 15s
    
    This ensures that we'll hit the stupid hpd poll handler in every run.
    
    Also don't yell around about jitter for tv outputs ...

commit 400535e82f6f6a3e5f9098fef009cdbd7c727a41
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 19:33:30 2012 +0200

    tests/flip_test: measure inter-frame ts jitter
    
    Yell if it's wrong.
    
    For some odd reason this blows up on my snb. And always on the same
    o->count frame on the 2nd crtc ... And we have to thank the hpd poll
    helper for that. Comment explaining this added, also made the error
    non-fatal.

commit 87f7dccab69631562fac20aa3fcc2b5762f48f24
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 17:38:04 2012 +0200

    flip_test: race against modesets, too
    
    Even slower than dpms switching ;-)

commit ef45b4403677ccf6207a3d80528c45f8d3a3f171
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 19:22:37 2012 +0100

    gem_wait_render_timeout: Fix SKIP return code
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3b9a76d2fa40b43ed3231d3c5382ea05317b9bde
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 17:27:16 2012 +0100

    tests: Add gem_cpu_reloc
    
    Attempt to stress test performing relocations whilst the batch is in the
    CPU domain.
    
    A freshly allocated buffer starts in the CPU domain, and the pwrite
    should also be performed whilst in the CPU domain and so we should
    execute the relocations within the CPU domain. If for any reason one of
    those steps should land it in the GTT domain, we take the secondary
    precaution of filling the mappable portion of the GATT.
    
    In order to detect whether a relocation fails, we first fill a target
    buffer with a sequence of invalid commands that would cause the GPU to
    immediate hang, and then attempt to overwrite them with a legal, if
    short, batchbuffer using a BLT. Then we come to execute the bo, if the
    relocation fail and we either copy across all zeros or garbage, then the
    GPU will hang.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d619a672df97f34cfbbebe89ed8cbe15827182a1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 17:22:09 2012 +0200

    tests/flip_test: also test pannning with dummy load
    
    Needs a bit more relaxed select timeout to work (which is not
    required when testing dummy_load vs. dpms, since the dpms forces the
    sync, not the select timeout).

commit 66fe119afd1cec2fdd47cec77523b4af2526df47
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 17:17:40 2012 +0200

    tests/flip_test: test interaction with panning
    
    Since panning with set_crtc is synchronous, we need to stall for any
    outstanding pageflips. This new testcase exercise that code. Unfortunately
    we still need eyes to check whether we don't loose the offset :(

commit 3441ad29bf82057db814d60f35c146f24c5896b9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 17:01:06 2012 +0200

    tests/flip_test: robustifications
    
    - don't yell around about dropped frames on tv connectors (and explain
      why in a comment)
    - wait a bit when using a test config that checks for dropped frames before
      starting. Also allow for 1% of fudge, this makes it reliably work
    - make the dummy load more variable, took too long on older machines.

commit cdad308a4bbc96bd7feb7ab57eb4f261c08dd1dd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 16:09:00 2012 +0200

    tests/flip_test: don't complain about timestamps in the future
    
    those can happen due to the scanline vblank timestamp adjuster ...

commit 4c7fc65cb63374a42ec9a41f4d5067d50e053aac
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 15:59:58 2012 +0200

    tests/flip_test: actually try to check what I want to check
    
    /me sucks

commit 6b034a6fd69c9e5bfac682a4c98208433079501c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 15:42:34 2012 +0200

    tests/flip_test: check whether timestamp isn't in the past
    
    This is mostly useful for when we add support for other clock sources,
    e.g. clock_monotic, to check whether the kernel picked the right
    clock.

commit 73af035c598047147957a081b26bfb156e01a530
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 15:37:24 2012 +0200

    tests/flip_test: check whether the pageflip event took too long
    
    We're suspecting that something is fishy with the event deliver/vblank
    timestamp handling on gmch platforms. Unfortunately, this isn't it.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f509d40fa95886266a6e78aa4aa1b2764769eba1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 2 12:59:16 2012 +0100

    flip_test: count the number of flips and check we don't drop any
    
    In the basic case of just flipping between two buffers with no
    additional work, we should neve drop a frame.

commit 93ea0182c4632ac69dcefd05a20b7ebabb2d7e18
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 11:50:20 2012 +0200

    tests/flip_test: re-enable disabled testcases
    
    oops

commit 4701dacbc5903303bdd3c35488f449eb2f425074
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 10:33:13 2012 +0200

    tests/flip_test: new testcase with a busy load before the flip
    
    I've hoped that this would be good enough to hang pch platforms, but
    it looks like those just complete the flip immediately on disabled pipes.

commit 3d4ebe9be3dc4e4375ac10e84b6355144d043851
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 10:32:25 2012 +0200

    fixup .gitignore for newly add sysfs_rps test

commit df7edaab90517cc8d5ed0f72a8a96dbdd04f0ed7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 2 10:32:10 2012 +0200

    lib: helper to convert gem_hanlde to drm_intel_bo

commit 9d1a3587acc75f39a1a070f92dd80f79504bf60c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 1 11:34:10 2012 +0200

    drmtest: use do_or_die

commit a65087a26e0f7a567a3d09887869d821bb5a7840
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Sep 28 13:03:02 2012 +0100

    tests/flip_test: Revamp to demonstrate race with modeset/dpms and pageflips
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4650505d7e48dce84baeeb7754409b3956e80ad8
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Sep 26 18:17:53 2012 +0100

    intel_infoframes: Dump HDMI vendor infoframes
    
    Those infoframes are programmed when using stereo 3D modes.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 53895acbe26c2cdb1ff536035231889f97a3500c
Author: Yi Sun <yi.sun@intel.com>
Date:   Tue Sep 25 17:13:17 2012 +0800

    Add option -o <number>, which can test only one specified mode.
    
    Each mode line has a number just like '[i]'. So we can only test the specified mode with giving the number of mode to '-o' parameter.
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d00f72a01bb66d63713a0628fc47b82321a92d4c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Sep 18 14:04:58 2012 +0100

    tests/module_reload: Silence warnings when unloaded shared modules
    
    So long as we spit out critical errors during i915 reload, or detect any
    oops the test will do its job.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=55040

commit 0cedccc8445943cc43ecbaf9af28807e2556d129
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Sep 7 18:12:07 2012 -0700

    sysfs rps test added
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 397cd4acd1c7789482eadb5cf24e667a9684d1fa
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Sep 13 15:05:34 2012 +0100

    gem_gtt_speed: Add a test that caches the mmapping across iterations
    
    Repeat the memset streaming performance test on the same mapping so that
    we can factor out the overhead of establishing the GTT/CPU mmaps.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f256ada3b689c4ecedfd2a2978a01ab01f266aaa
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Sep 13 14:55:53 2012 +0100

    gem_gtt_speed: Use a memset() to test streaming performance
    
    This make the reasonable assumption that the libc code for memset() can
    saturate the memory bandwidth -- at any rate it should do better than
    the copy.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit efd68f9d64caf7b359df2d7512f89d61c4b6e3ae
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Sep 12 17:48:21 2012 -0700

    intel_sprite_on: plane needs 16.16 width and height
    
    This only ever worked because we used to have a bug in our driver which
    was fixed months ago by:
    
    commit b4db1e35ac59c144965f517bc575a0d75b60b03f
    Author: Jesse Barnes <jbarnes@virtuousgeek.org>
    Date:   Tue Mar 20 10:59:09 2012 -0700
    
        drm/i915: treat src w & h as fixed point in sprite handling code
    
    Reported-by: Armin Reese <armin.c.reese@intel.com>
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 93e5b4477ffe12f70013da027ecdc086520e027a
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Sep 12 17:27:08 2012 -0700

    intel_sprite_on: coding style fixes
    
    It was driving me nuts...
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5b5a7a806f69dd6208822e3a35f3fb5a38d615b1
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Sep 8 13:40:04 2012 -0700

    intel_sprite_on: Idententation + Copyright fix
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 209ab470f248e1720ac0aff1be175fb992c827a1
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Fri Sep 7 11:42:20 2012 +0100

    tools: Update gitignore with intel_dpio_{read, write}
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c8b93b8b7738f74e710bcbe8a7015ee3eaad3aa1
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 3 16:16:29 2012 +0100

    intel_reg_dumper: Add more information when dumping single registers
    
    Now that we can dump registers giving a partial name, adding more
    information about the dumped registers seems useful.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 62a026eac5de8ed2acfe26161c718eb51fc537f0
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 3 16:16:28 2012 +0100

    intel_reg_dumper: Allow partial register names on the command line
    
    Let people give just a part of the register name. Handy when not
    remembering the exact name or if the register is defined with a
    different name than the one in the spec being looked at.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 763d22cbf83721982e43818cc07a0df999790afb
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 3 16:16:27 2012 +0100

    intel_reg_dumper: Also decode registers given by address
    
    One can now give an address instead of a register name to decode a
    single register.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2fd80079c0943a16b9b55bedc7926c47922e368e
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Mon Sep 3 16:16:26 2012 +0100

    intel_reg_dumper: Add a single register decode mode
    
    From time to time, one would like to decode a register value that have
    been captured at a certain point in time (and say printed out with a
    printk). intel_reg_dumper has all the knowledge to do that and this
    patch adds a way to ask it to decode a value.
    
    Example usage:
    
    $ ./tools/intel_reg_dumper PCH_PP_CONTROL 0xabcd0002
           PCH_PP_CONTROL: 0xabcd0002 (blacklight disabled, power...
    
    v2: friendlier invocation (Chris Wilson)
    v3: remove unecessary casts and use strcasecmp (Jani Nikula)
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bc62567b77cd3a790e2e8e2d7fd81ce950bfbe3f
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Aug 30 14:17:01 2012 -0700

    clang: Fix static analysis warnings from clang
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 54ed938d393970584a9b2a8b0783b0c0901255db
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Aug 30 14:03:54 2012 -0700

    clang: Fix warnings found through clang.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ac23daaa51c88eba3e120afeaff9e491a2d61168
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jul 16 16:41:16 2012 +0100

    tests/gem_cacheing: Exercise snoop coherency
    
    This is based on tests/gem_partial_pwrite_pread which aims to detect
    incoherency between CPU reads and writes to a bo whilst using it as a
    source and target for GPU writes.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 51baabb562caf1e1009bad5cae7efef126590117
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jul 16 16:39:57 2012 +0100

    Add bare-metal interface to adjust cacheing (i.e. snoop status) of a bo
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit dd5f40f50c02e8ef68ac9bbee3e94302e7baeed3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Aug 27 09:37:01 2012 +0200

    bump to 1.3 release

commit 7a02aa4cbfe4c63bb9435cf9cab487bd1df10185
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 26 21:22:15 2012 +0100

    mmio: Limit the uc- mapping to only map the registers
    
    In the future, we may like to enable wc mapping of at least the GATT,
    and so causing a conflict if we attempt to map the entire bar as uc-
    here. Obviously we need a better fallback plan, but for the moment only
    attempt to map the portion of the pci space that we use for register
    access.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a4783f9485f78c80e7cc1eb041634b4b8a3aa4b9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Aug 26 21:22:14 2012 +0100

    intel_gtt: Harden against changes to kernel mappings of the GTT
    
    Rather than use the common mmio segment which will be in future
    restricted to just the registers and so exclude the GTT portion on all
    architectures, explicitly mmap the GTT ourselves. Repeat this mmapping
    with a couple of flags until we matching the existing kernel mapping.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3d148e164d498d81cc3990c85b65afee8bcca3b8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Aug 25 00:01:27 2012 +0200

    s/NO_PID/NOP_ID
    
    Alan typo'ed it, I've failed to notice :(

commit 1b5fd314fd474827373f6f48fa11fcb60687f5a2
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Aug 24 14:02:04 2012 -0700

    Add --disable-nouveau option for platforms without nouveau support
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4cdfa8e9b7177a12d7d693207be52a6c999236ef
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Aug 24 14:02:03 2012 -0700

    flip_test: add cast to pacify Solaris Studio compiler
    
    Fixes build error:
    "flip_test.c", line 180: improper pointer/integer combination: op "="
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6b3e6f28d2ba738fd2677b6c3e4f7ec03d9a463a
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Aug 24 14:02:02 2012 -0700

    Rename NOPID to NO_PID to avoid conflict with Solaris NOPID
    
    Solaris <sys/types.h> already has #define NOPID (pid_t)(-1)
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 99fdba921ed88381ab721b15299e637366042465
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Aug 24 14:02:01 2012 -0700

    Fall back to CLOCK_MONOTONIC on systems without CLOCK_MONOTONIC_RAW
    
    Solaris has not yet adopted this Linux extension
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e40146878e4cf74a96fd0c42342065f7cd85fa97
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Aug 24 23:18:48 2012 +0200

    Revert "tests: disable nouveau if unavailable"
    
    This reverts commit dd8325323bfcca1f742e864ca7d87101a0d59936.
    
    I like the patch from Alan Coopersmith with an explicit disable
    option better.

commit dd8325323bfcca1f742e864ca7d87101a0d59936
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Fri Aug 24 22:55:20 2012 +0200

    tests: disable nouveau if unavailable

commit 425940be1d894459cead9aaf211a74338480aaa3
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Fri Aug 24 22:50:21 2012 +0200

    tests/prime_nv_test: add missing call for test8

commit c5b7ebc1cc4ecb4db8e691ba0d935826c6da2ebf
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Fri Aug 24 22:49:40 2012 +0200

    tests/prime_nv_pcopy: kill debug code that's not upstream

commit 94ec3f926c2a8e0706a93b20892aa1a25a504e99
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Aug 24 15:45:09 2012 +0200

    tests/prime_nv: don't enable buffer reuse
    
    We share these suckers, hence the fd-local libdrn instance does not
    have full control over the lifecycle of the object. Prevents the tests
    from blowing up with
    
    [drm:i915_gem_mmap_gtt] *ERROR* Attempting to mmap a purgeable buffer
    
    and similar things.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d4005511443e385b54b11754681f7bf44b6d9796
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Aug 23 11:37:09 2012 -0700

    Converted a display debug script for use by designers
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ea944a9faf137e95b146ce8a1fb15d7e4cb8ae41
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Aug 23 11:32:57 2012 -0700

    intel_reg_read: use strtol instead of atoi
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit baf026d692c25969c3a30fcd50394c83f3f20815
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Aug 23 11:29:43 2012 -0700

    intel_reg_read: support -c option to read multiple dwords
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 4fc76adf313f2792b7438f9372321ce3ea66c6c2
Author: Vijay Purushothaman <vijay.a.purushothaman@intel.com>
Date:   Fri Aug 17 18:06:52 2012 +0530

    tools: Added intel_dpio_read and intel_dpio_write
    
    In Valleyview the DPLL and lane control registers are accessible only
    through side band fabric called DPIO. Added two tools to read and write
    registers residing in this space.
    
    v2: Moved the core read/write functions to lib/intel_dpio.c based on
    Ben's feedback
    
    Signed-off-by: Vijay Purushothaman <vijay.a.purushothaman@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 082826de6c66ff76c444434cd56aaf6df80027b3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Aug 15 10:26:08 2012 +0200

    tests: add gem_gtt_cpu_tlb
    
    This catches tlb invalidation issues on my snb mobile gt2+

commit c407722048cee255be0e02ccf27d010ad3c7a6f6
Author: Wang Xingchao <xingchao.wang@intel.com>
Date:   Wed Aug 15 16:13:38 2012 +0800

    intel_audio_dump: add Haswell audio dump support
    
    Add Haswell audio registers definition and dump support.
    
    Signed-off-by: Wang Xingchao <xingchao.wang@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f9a2481e717fcd8c8bd363f9084743ce885aa1d4
Author: Wang Xingchao <xingchao.wang@intel.com>
Date:   Wed Aug 15 16:13:37 2012 +0800

    intel_audio_dump: fix wrong port definition
    
    there're three Ports B/C/D used for selection by each transcoder A/B/C.
    
    Signed-off-by: Wang Xingchao <xingchao.wang@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f523bd8d10c0b67fc8a026633bcaa416ea03d9c
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Tue Aug 14 18:51:19 2012 +0200

    Fixup previous commit
    
    ENODEV not being defined and return code wrong

commit 3dda35744561e61cd6a63a75eb77bc4d67643f27
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Tue Aug 14 18:50:29 2012 +0200

    And add another corner case skip

commit 0f65ee9576dcfe3f9b82dcda47fd8744874c4ccb
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Tue Aug 14 18:48:48 2012 +0200

    fix crash with insufficient permissions

commit fc54f2eaa8f55ceb4955d31ef6d8b36645c6910f
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Tue Aug 14 18:25:50 2012 +0200

    satisfy danvet's OC
    
    and add skip codes, but mostly satisfy danvet's OCD

commit 4520025b7320cad238333793f36aadd466adb7ba
Author: Maarten Lankhorst <maarten.lankhorst@canonical.com>
Date:   Mon Aug 13 15:57:57 2012 +0200

    Add intel <-> nouveau prime tests

commit 0efa6c7b2725f67d742f194a0c88291b7b3edffa
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 7 18:16:34 2012 +0200

    tools/reg_dumper: really dump pipe C regs
    
    Not just a copy of pipe B. Meh.
    
    Also kill a few redudant #define for pipe B - they match pipe A.

commit 9fcaffda887a8ea20135e48368b44037a4750c63
Author: Yi Sun <yi.sun@intel.com>
Date:   Wed Aug 8 14:35:20 2012 +0800

    Update the image file pass.png with higher correction level
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>

commit f669e8c12ebaae6f3638593d564358e5ab43d24c
Author: Yi Sun <yi.sun@intel.com>
Date:   Wed Aug 8 14:32:04 2012 +0800

    tests/testdisplay.c Remove an uncomfortable error output
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>

commit 5ba39da67e4bc2a17e2e3d8e8a06386ebc5a5ae8
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Mon Aug 6 15:05:28 2012 -0300

    lib: add more Haswell PCI IDs
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Reviewed-by: Rodrigo Vivi <rodrigo.vivi@gmail.com>

commit f56a289aa86e591243c07b17d9bdf22e5e82de8a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Aug 7 14:50:54 2012 +0200

    tools/reg_dumper: dump pipe C regs
    
    Also reorder the pipe B regs a bit to be consisten with pipe A.

commit 81f16261f4d5d2cb1217569cc6580c0326b9eae2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Aug 5 21:40:56 2012 +0200

    tests/gem_reg_read: actually wait a bit between reading TIMESTAMP reg
    
    QA could only hit this on ilk because the timer increase quite a bit
    slower on that platform than on gen6+ (80ns vs 320ns, iirc).
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=52937

commit 41fe811feb5c79c760f5d2e9fe5d1671f6d71ff8
Author: Yi Sun <yi.sun@intel.com>
Date:   Thu Jul 26 14:23:36 2012 +0800

    tests/testdisplay.c: Add a option '-r'.
    
    With the option '-r', the testdisplay could paint a 2-D bar code(QR
    bar code) on the screen. The word "pass" is hiden in the bar code
    image.  Further more, with this option, testdisplay will wait until a
    system signal 'SIGUSR1' coming after each mode setting. This function
    is for another program to control testdisplay.
    
    danvet: Fix up the missing static.
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3b0f80308a033633be6b903fa2a55128dfd99339
Author: Damien Lespiau <damien.lespiau@intel.com>
Date:   Wed Jul 25 16:04:32 2012 +0100

    build: Make autoreconf honour ACLOCAL_FLAGS
    
    When running autoreconf, it's possible to give flags to the underlying
    aclocal by declaring a ACLOCAL_AMFLAGS variable in the top level
    Makefile.am.
    
    Putting ${ACLOCAL_FLAGS} there allows the user to set an environment
    variable up before running autogen.sh and pull in the right directories
    to look for m4 macros, say an up-to-date version of the xorg-util macros.
    
    Signed-off-by: Damien Lespiau <damien.lespiau@intel.com>

commit efa5e355ac371d749cf505b952b900d05f25474c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 19:55:21 2012 +0200

    test/flip_test: don't fail if we can't find a crtc
    
    some connectors are forced to certain crcs ...

commit c832aa1714a47516e6b9402709d66720c464393f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 23 11:25:47 2012 +0200

    tests: fixup prime test paranoia

commit 5d9e22366b37b725358d22dbee47e094f7157974
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 23 10:06:25 2012 +0200

    tests/prime: more paranoia
    
    - check the old contents first in check_bo
    - drop all GEM handles for the re-import test

commit 796f6193c9697e0ae57970a8c48cc9bb3a69877d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 23 09:51:12 2012 +0200

    tests: add missing stuff to .gitignore
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6bc22e3dfd2cf143c2a9abcb72738a1674ce2fc5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 23 09:49:06 2012 +0200

    tests: add basic re-importing prime test
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fb748aad4cc8b178801f286e947b251d29764da5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jul 23 06:41:10 2012 +0200

    tests: s/drm_reg_read/gem_reg_read
    
    gem_ is the prefix for low-level kernel tests, drm_ tests
    libdrm_intel specific stuff.

commit 434be47f12c390659bf0dabd8ebea8ea37f8f26a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Jul 21 17:36:36 2012 +0200

    shut up the compiler a bit
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4c9abd5aa460572899c4890fcc833d57ee025073
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jul 22 16:30:04 2012 -0700

    reg_read: use good offset, and errno
    
    The test was bonghits.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 58cfeabb90a9bef742df53e2602966a2166e37b9
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jul 18 11:47:42 2012 -0700

    reg_read: skip older kernels
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 4fe786953962d9603d15ea82c97ea5f6e57ba8be
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jul 11 17:06:01 2012 -0700

    reg_read: basic register read ioctl test
    
    This will need to get modified when the ioctl expands, and so is only
    here for reference/to make Daniel happy.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit d9fb72e26698562367df53909ade0d34520f88f0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jul 13 10:35:11 2012 +0200

    tests: improve concurrent blit tests
    
    By adding another testcase that follows up with a gpu read. This
    checks whether the kernel properly tracks the pending write and
    doesn't lose it (or sync up to the wrong seqno).
    
    For some odd reason only the cpu mmap variant blows up, the gtt one
    works here. I need to look into that some more.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fbd6d0495969ffab5902e3e8e39dc4687806ae0c
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Jul 3 11:04:05 2012 -0700

    gem_ctx_basic: fixes
    
    I must have checked in the wrong version the first time.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit e843c55370e85c147b9e4ca9b26cf0902a1b322c
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Jul 3 10:40:32 2012 -0700

    ctx_basic: we stopped using rendercopy
    
    so get rid of the remants. perhaps we'll use it again someday.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit cbb3c685b59aeb41a6ce94bc47f0bf255c87df60
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Jun 30 19:26:59 2012 -0700

    rendercopy_gen7: add support for haswell
    
    Only compile tested.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit afcffe783a12472e60d4cd0f2ebdc89e2f5b2def
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jun 14 11:04:01 2012 -0700

    context_basic: the most stressful context test to date.
    
    this context test requiring libdrm updates
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a635a5ac3bb72b8ac13f020b610b71d97499a1fb
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jan 15 14:52:33 2012 -0800

    context: libdrm wrappers
    
    This wraps libdrm functionality to exec with contexts. This patch
    shouldn't be applied until libdrm for contexts is updated.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c157e9485e6a96fa359f8236f43475bc2095e1e2
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Jun 29 11:23:34 2012 -0700

    intel: update libdrm requirement
    
    We want context APIs in order to use our super context test.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit beb1bb8fd26b1b1c55242c3b2a3004a346d64b80
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jun 28 22:43:47 2012 -0700

    gem_stress: use the gen7 rendercopy
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 2234f87a0852f321a6f85e8fcd6fbb6866f9c944
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jun 28 22:42:58 2012 -0700

    lib: add a gen7 rendercopy
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit ab0460eaac85fdd66328ccba511519397cea0ddb
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jun 27 11:13:23 2012 -0700

    ctx_bad_destroy: danvet changed to ENOENT
    
    In all fairness if the test worked, he would have found this earlier
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 278e53b5c42f4bf1dcabf82aab2f211e6994ed06
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jun 27 11:13:06 2012 -0700

    ctx_bad_destroy - ioctl is 2e, not 23
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1136f61298979912e7edfa94a56437f7c9c5499b
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jun 27 11:07:09 2012 -0700

    ctx_bad_destroy: a little more description is nice
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 76b53ef68d39063c4b0203aa8db2b32dcce1e3b4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jun 26 19:47:30 2012 +0200

    tests/gem_wait_rendering_timeout: needs more fudge
    
    Due to the way we calculate the workload by doubling it each time we
    might end up with almost twice as much as we want. Hence increase our
    fudge by 1.5 to account for that.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=50666

commit c6fe31bc473a7ae44bc42bad7da5faca3c924821
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Thu Jun 21 14:31:34 2012 -0300

    intel_reg_dumper: use intel_register_access_init/fini
    
    We need to hold forcewake lock in order to be able to read GT registers.
    Otherwise, when the GPU is in RC6 mode, we'll read all zeros.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit f7e356d9cd7795de055a9f3c13bb33f5c9bea01f
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jun 14 10:00:57 2012 -0700

    context tests not requiring libdrm
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 5a28ef8580a83375fc663b84873c4e18207ed3fb
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Mar 18 18:42:44 2012 -0700

    context: update for new execbuf2 element
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b28a399dcd8d28b6b9bde4baa105f9e78e520122
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Wed Jun 13 15:34:40 2012 -0300

    intel_reg_dumper: dump more PM registers
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 34240176c15968e9f25e154d7a1111bb7b0af8af
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Jun 11 12:08:32 2012 -0700

    add VLV PCI ID
    
    This allows the tests to run on the prototype boards.

commit b015a25e897d8b2d79d5938d10e35803ce4dfa2c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jun 8 19:35:19 2012 +0200

    tests/debgufs_emon_crash: make it quiet

commit 9739401fb5806d576f0bc895239e67d86352d417
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jun 7 16:37:02 2012 +0200

    intel_reg_dumper: dump pre-pch-split blc regs

commit 77586dcdf7240aebf29d3d70313dce9d79108147
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jun 4 17:29:20 2012 +0100

    test/gem_gtt_speed: Add a baseline test for the performance of a CPU mmap
    
    When looking at the pwrite/pread/wc performance, it is useful to judge
    that against the performance of an ordinary CPU mmap.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
    Acked-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b558877f6e25663ece1242f1e658cf1630d7d7fe
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 31 15:45:17 2012 +0200

    test/sysfs_l3_parity: skip test if the sysfs interface doesn't exist

commit 4cf1b02e96b276fcd707d26c9533ab4bfad54739
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 31 15:45:17 2012 +0200

    test/sysfs_l3_parity: fixup logic
    
    It didn't fail properly.

commit 55fdd7f1bb4cd5044dbbb4822180a91a9a4c0dd2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 31 13:49:32 2012 +0200

    cleanups after l3_parity merge
    
    - call it sysfs_l3_parity for more consistency
    - add .gitignore for intel_l3_parity

commit dac1a2cedae1118cfa4ae5a4667cd715487cfcf2
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri May 25 16:56:27 2012 -0700

    tests/dpf: simple dpf test
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8f7ea34751886ca754e6246a9d400de18c6a972f
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri May 25 16:56:26 2012 -0700

    tools/dpf: Tool to read and write l3 remap registers.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit a35dcac0ff7310bc431c14419874e9653d0d2725
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 30 20:16:24 2012 +0200

    tests/gem_wait_rendering_timeout: check polling behaviour
    
    ... with timeout=0. We have special code in the kernel to optimize
    that one.

commit b8e00110a0556fb7edde5dcb3ed0ff3d728c5552
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 22:23:14 2012 +0200

    lib/gem_wait_rendering_timeout: sprinkle busy_ioctl checks
    
    While we have that testcase, let's cross-check the busy ioctl.

commit bfbe813f8fb587017c4e1d73c51395c2837eb395
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 22:14:06 2012 +0200

    lib: fix gen5 workaround emission
    
    Using BEGIN_BATCH can lead to a nice inf recursion through require_space
    -> flush_batch -> BEGIN_BATCH.
    
    Also fix things up to always require BATCH_RESERVED. We need 2 dwords
    for the gen5 workaround and 2 dwords for MI_BB_END.

commit 04dfa492d195e063a07053815ff541b4351b0097
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:52:23 2012 +0200

    tests/gem_wait_rendering_timeout: test the timeout case
    
    When I've first tried this it somehow failed, but I can't reproduce
    this any more. I guess I've hunted a ghost.

commit b711bfe54f74c6a4337f978e6bef4c47a2f2ea9e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:49:41 2012 +0200

    tests/gem_wait_rendering_timeout: fix up the autotuner
    
    duuh

commit 95877ab9ce137e52128b34acab343273b46404dd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:35:35 2012 +0200

    tests/gem_wait_rendering_timout: adjust .gitignore

commit 2952feb23f303e0c7afe5ce9c92002abecd7a75f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:35:11 2012 +0200

    tests/get_wait_rendering_timeout: fixup the auto-tuner
    
    - start at 1 iterations
    - actually adjust the number of iterations like the comment claims

commit cf979c20636814389adcf969c5858a915a97571f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:34:32 2012 +0200

    tests/gem_wait_rendering_timeout: some fixes for the blt function
    
    - widht/height are in pixel, and the cmd uses 32bit, so we need to
      adjust this.
    - we write to the buffer, set the right reloc domain.

commit 25bf5574a2252311bf5c0c691e728e8ffd47161e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:23:41 2012 +0200

    tests/gem_wait_rendering_timeout: properly skip test
    
    also assign the timeout value unconditionally, we want to know it even
    when we've timeout out.

commit f14a045137ea804625439fc7ac3144e46a12d3ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 29 16:14:31 2012 +0200

    tests/gem_wait_rendering_timeout: make it compile
    
    ... we need to do this libdrm depency dance. Or just copy&paste it.

commit 9cfcb75b79829230dc9dde1247a82ffe8b0b9702
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri May 11 13:54:12 2012 -0700

    tests/wait render timeout test
    
    Assures that signals interrupting the wait works properly. Because of
    the scheduling around signals, interrupted waits will *seem* faster as
    the GPU continues to work while all the CPU scheduling stuff happens.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit c26b5ee72f3a2ac3ddef309e181daab9e5128ae9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri May 25 11:29:28 2012 +0200

    tests: fixup type in module_reload
    
    Oops, I've frobbed this to test the check but committed the wrong
    version.

commit 3985d9b976f4daabb9adea38735d9c9b77da7fac
Author: root <daniel.vetter@ffwll.ch>
Date:   Fri May 25 11:26:53 2012 +0200

    tests: add some help to module_reload
    
    ... so that it's easier to get the kernel configuration right.

commit a628d564709aec0dda98ae71c24bff7cfe9268c0
Author: root <daniel.vetter@ffwll.ch>
Date:   Fri May 25 11:02:09 2012 +0200

    tests: add module reload testcase
    
    We've broken this way too often in the past.

commit 2448a75ff6127a03404e659a5e1046236eef41d4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed May 23 11:37:04 2012 +0200

    tests/hangman: fix when run with absolute path
    
    QA's test rig does that.

commit 96c2fc82ba0be6c0e1ae8f675ccc97714aa08e11
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 19:54:22 2012 +0200

    test/flip_test: fail harder
    
    We want testcase to return non-zero if they fail ...

commit 17787f30c6f05edb40da1a1fc0074bee2e09e779
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 16:15:15 2012 +0200

    lib: extract kmstest_dump_mode

commit b7aa6756ce770f44280e1369dd7fbf9761f3cdb7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 16:01:32 2012 +0200

    test/flip_test: use kmstest_create_fb
    
    And bring back some frame indication that actually works.

commit 662d73219976ca820f878f63b5222e22e17c6328
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 14:37:19 2012 +0200

    lib: extract kmstest_create_fb
    
    We should get more kms tests soon, and not needing to copy-paste a
    nice test pattern should be useful.
    
    That establishes a firm depency of i-g-t on cairo over everything, but
    I don't care so much about that.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0732cc59abc06151b8756a6890f13885cde7403b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 12:01:36 2012 +0200

    tests: use drm_open_any more
    
    And fix it up to not leak open fds, which kills all the master only
    stuff.

commit a5e6897d10962e4bdfa657ce704bc111a4a4c663
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 10:57:17 2012 +0200

    tests/flip_test: rip out usage
    
    Totally useless if the only option is "-h"

commit 1fedd1db41bfe1815654a726480e430591db344d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 10:53:38 2012 +0200

    tests: add flip_test to .gitignore

commit 9e620146f704549c7203632f63571d22a9551de3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue May 22 10:51:29 2012 +0200

    tests/flip_test: rip out funny pictures
    
    The path isn't properly autodetected and it yells stupid stuff into
    stderr. Which causes spurious failures.
    
    And really, these are automated tests. If you need to look at the output,
    something is wrong.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 984e44f88bad9b39bd5bb9c449f6bfb0580660ae
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Apr 27 16:14:34 2012 -0300

    intel_infoframes: options -p and -P require an argument
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>

commit e6b264cce7799d822bc8a1b0e493cf5dee112f85
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Wed May 16 10:14:55 2012 -0300

    intel_gpu_top: allow to work on Gen7
    
    Somehow nobody noticed this before, but we were missing blt and bsd6
    initialization on Gen7.
    
    Reported-by: Philippe Lecluse <philippe.lecluse@intel.com>
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 544e35785198045d76d8f11ee414c7f1661ffc77
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu May 10 20:25:33 2012 +0200

    tests/gtt_speed: try to outwit gcc
    
    It optimized away the read loops ;-)
    
    Also fix up the size to not be 1/4th of the one we want for tiled
    buffer tests.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 78c38dcddb79052a964081c470bb2641fb3daf95
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 9 14:06:28 2012 +0100

    tests/gem_tiled_pread_pwrite fix progname for pretty print progress
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 412e7b341f40a2d21067c7059a64e500945d6433
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 9 13:50:53 2012 +0100

    intel_error_decode: Be more lax for whitespace around parsing PCI-ID
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3986d9faf343639dc9ceec23e880a99f4fcea365
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Tue May 8 15:55:05 2012 -0300

    tools: add Haswell registers into intel_reg_dumper
    
    For now, only print their content for diffing, but also add the necessary
    bits that can be used for more verbose output in the fugure.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e70b7de8cea142a7aa2b4c08cdbd7484d7b39e14
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon May 7 12:57:05 2012 -0700

    tests/flip_test: test on each CRTC for each detected output
    
    This allows us to test on 3 pipe configs for example.

commit 362599ac1042eeca52ebbfca646a975a989ff38f
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon May 7 12:36:28 2012 -0700

    tests: add simple flip test
    
    Add a simple flip test to test flipping on a single output with the
    preferred mode.
    
    TODO: test each crtc for 3s and print pass/fail results

commit c6f42f4cca10cb644c7f91d1fd3e625dba505eb0
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Apr 28 20:10:09 2012 -0700

    intel_infoframe: fix assertion off by 1
    
    this makes my compiler very unhappy
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 43fda53199afba7788549d4d290bb0874459fa2d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Apr 28 20:07:40 2012 -0700

    chipset: accidentally left the old IS_GEN7 macro
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 97198ccbe1546e0249c3a7885d778e46cb538877
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Apr 27 14:08:34 2012 +0200

    test/ZZ_hangman: adjust to new error_state reset semantics
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9898083fa2841a73227515cbe2659c99f353db95
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Apr 24 18:10:25 2012 -0300

    intel_infoframes: add support for Gen 4
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0611af4a33e443767ce2bdadac08f6f0680dbb9e
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Tue Apr 24 18:10:24 2012 -0300

    intel_infoframes: AVI InfoFrame version should be 2
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4d053f97db7759c51c2299b401e166b09efad87e
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Apr 25 13:33:17 2012 -0700

    chipset updates
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit bb40c7e8df2183449e6e252556b9c176d516caeb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 25 13:21:38 2012 +0200

    test: fix up hangman script and enable by default
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cf72da57dcc1baeaaff71250a82b40ab324b7590
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Apr 22 12:35:23 2012 +0200

    tests: add gem_unfence_active_buffers
    
    Unfortunately this requires slab poisoning to catch anything :(
    
    Also add a new helper to drmtest to get the available fence count.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 19a28d06ad6555ae36797f64e3705d373822faf7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 19 14:11:51 2012 +0100

    lib: Fix render copy on gen2

commit 7e9676143cd5c7e44b310fa3bce8da5d1cdf21e8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 19 12:34:16 2012 +0200

    tests/gem_ringfill: add progress indicator
    
    This thing takes ages on older chips.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 127d76d51c00fa1693053d126f8045b1efa7f07a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 17 22:38:44 2012 +0200

    tests: re-enable commented-out testcase
    
    Meh, I suck.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 16bc61993915ab39136407d82e3468d8840b6a28
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 17 22:02:33 2012 +0200

    tests: add gem_set_tiling_vs_pwrite
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2f4bc72da76afac4dc708a0c70ca9e32522b1f83
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 17 18:01:48 2012 +0200

    tests/gem_set_tiling_vs_gtt: update copyright header
    
    Meh, I've forgotten these.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ff6abb313d975850c0f333f308d6c09e636cd907
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 17 17:25:24 2012 +0200

    tests: add gem_set_tiling_vs_gtt
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 48ec7f9edd7a1bfe01a158a2a3ba85667f29030f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 17 13:25:04 2012 +0200

    tests/gem_set_tiling_vs_blt: fix on gen4+
    
    Oops, the new checks need correctly tiled blts to work.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b38188ad97571f9145407e9bf3bd6a32a51ce87d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Apr 15 23:59:12 2012 +0200

    tests: rename gem_tiled_after_untiled_blt into gem_set_tiling_vs_blt
    
    ... it checks much more now.
    
    Also update the comments a bit in the testcase.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 887e4a58b9b697e7c8545123008a350864311c2c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Apr 15 23:40:20 2012 +0200

    tests: pimp tiled_after_untiled_blt
    
    Now with more tiling transition tests. Changes:
    - refactoring to reuse the tiling transition functions.
    - add a tiled->untiled transition
    - add a tiled->tiled transition with different stride
    - add a check at the end to ensure that the tiling has indeed changed
      on the test_bo
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fd585207961f9916e1603852a703d6c656604656
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Apr 13 10:27:01 2012 -0300

    Add tools/intel_infoframes
    
    This is a command-line tool that allows us to display and modify the
    InfoFrames we send.
    
    v2: use argv instead of stdin
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit de9d98bb6e8736907458a28921aee5fcc507ca6d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Apr 12 23:12:24 2012 +0200

    tests: skip rc6_residency test if not supported
    
    Fixes spurious failures.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5ce86f88a0a9b24564a6349a70de5797b814b108
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 12 15:47:00 2012 +0100

    Use mmap64() for performing the GTT mapping
    
    Although the address space for GTT mappings may only be 32-bits, we need
    to use the explicit 64-bit mmap interface so that on a 32-bit platform
    the offset we pass is not truncated to 31-bits.
    
    Fixes gem_mmap_offset_exhaustion on 32-bit platforms.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8f6ebd4ac03f7c3c751d4d6bb4096d0285e34517
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 11 15:28:26 2012 +0200

    tests: add gem_gtt_concurrent_blit
    
    Same test as Chris Wilson's gem_cpu_concurrent_blit, but for
    gtt mmaps.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 0448eefeb2f6971f9f74fb83972fa327d3255415
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 11 15:02:32 2012 +0200

    tests: add sysfs_rc6_residency to .gitignore

commit ee014dbb8d98ada16a4829ff9878af6d4a06dcad
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 11 14:55:30 2012 +0200

    tests/sysfs_rc6_residency: add some sleep before testing
    
    That way I can run i-g-t on my ivb without spurious failures.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f841f4028ca37c3e4b49240b7f999dd07709724c
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Mar 24 19:04:10 2012 -0700

    tests: rc6 residency test
    
    This is meant to test the sysfs entry for showing rc6 residency in
    milliseconds. Remember, sysfs is a permanent interface.
    
    v2: use new get_card interface to try "all" devices
    check rc6p and rc6pp in addition to rc6
    
    v3: rename rc6_residency.c to sysfs_rc6_residency.c
    print better error messages
    skip test if rc6 isn't enabled
    
    v4: update to new sysfs names
    
    Acked-by: Daniel Vetter <daniel.vetter@ffwll.ch>
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>

commit 2585bea428801c5542bc62d75d0d5c1ee71ff739
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Mar 25 16:04:07 2012 -0700

    drm/i915: extract card getting
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 8af53e0b7e2f99ead129822f3761c618f775f7e2
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sat Mar 24 19:03:38 2012 -0700

    build: make sure we have asprintf
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit b78243fc61bd46624931f149d00e4a78242e9c92
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Apr 10 19:41:43 2012 +0100

    test/gem_cpu_concurrent_blit: Limit memory usage to half aperture
    
    So that we don't cause needless thrashing on older devices and spoil the
    test.

commit da026d8bfef1a76a60ae4a46a738ce153e9fe0b7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Apr 10 18:21:33 2012 +0100

    test: Exercise concurrent GPU read/write with CPU domain access
    
    Designed to exercise this patch to i915.ko:
    
    diff --git a/drivers/gpu/drm/i915/i915_gem.c b/drivers/gpu/drm/i915/i915_gem.c
    index fbf1118..57ae1f2 100644
    --- a/drivers/gpu/drm/i915/i915_gem.c
    +++ b/drivers/gpu/drm/i915/i915_gem.c
    @@ -3181,9 +3181,11 @@ i915_gem_object_set_to_cpu_domain(struct drm_i915_gem_obj
            if (ret)
                    return ret;
    
    -       ret = i915_gem_object_wait_rendering(obj);
    -       if (ret)
    -               return ret;
    +       if (write || obj->pending_gpu_write) {
    +               ret = i915_gem_object_wait_rendering(obj);
    +               if (ret)
    +                       return ret;
    +       }
    
            i915_gem_object_flush_gtt_write_domain(obj);
    
    By exercising the conditions whereby should either of the checks be missed
    an error is detected.

commit 7601fafbcffe1c6da5351682bd6febe5fa248f16
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 10 16:23:18 2012 +0200

    tests: explicit use bash
    
    We use bashisms, which debian's default sh dash doesn't like.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit af275bd52197cb41e6beb83dc496a50666b48814
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Apr 3 23:02:59 2012 -0700

    tests: add wedging tests
    
    Used to check that i915_error_state works. Unfortunately this
    kills the gpu because wedging is permanent.
    
    Base on a patch by Ben Widawsky.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bb86947638b7471c4e3da5dd32b756b0c7d504ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 4 11:07:44 2012 +0200

    tests: fixup drm_lib.sh sourcing
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e63f1870b47073852c82f02e29b57dbb66b72d0d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 4 10:56:50 2012 +0200

    tests: use / as path separator instead of _
    
    Oops. Originally by me, noticed while reviewing Ben Widawsky's patch.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 888df75a0cc3e6eea485ae3189afde2d86486750
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Apr 3 23:02:58 2012 -0700

    tests: use common code for scripts
    
    This removes cut and pasted code and uses a more central source.
    
    Signed-off-by: Ben Widawsky <benjamin.widawsky@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b7bd1837ccc980666f5502fbd428d3a4be3cd26f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Mar 29 12:45:59 2012 +0100

    Make the assertions guarding syscalls (drmIoctl in particular) verbose
    
    Currently all we see is gem_read: ret == 0 failed, where it would help
    to see the errno and/or the ret.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9dbce0991f4eb353ab892c88299bbebf2cb1a285
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 24 19:30:29 2012 +0100

    tests: use gem_create and gem_close more
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ff93f351512a194dd3d32e643c7987b5fe2347a5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 24 19:22:21 2012 +0100

    tests/gem_fence_thrash: make some good use of drmtest helpers
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 11fa35850306172b0e2285a919172c02671dd815
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 24 19:17:43 2012 +0100

    tests/gem_exec_faulting_reloc: kill superflous mmap_bo
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c34e48119939fa30809a58a9991ae18539824892
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 23 19:28:08 2012 +0100

    tests: add gem_tiled_after_untiled_blt
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit afbdc7af8d9324ae065c47d6122bb020c579fd0a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 22 13:47:57 2012 +0100

    tests: adapt storedw tests to ppgtt
    
    MI_MEM_VIRTUAL actually means use global gtt now, not setting the bit
    means use ppgtt. On previous gens, not setting the bits ment 'use
    physical memory'. So what, the usual confusion.
    
    Note that for some odd reasong this is broken on gen6, but only on the
    bsd ring. Unexpected.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9e531888ed0c3e34303a67e324ea4ab29057c62b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 22 12:27:43 2012 +0100

    tests: don't just bail out when there's not enough RAM
    
    ... but actually run the test with reduced memory requirements,
    as the messages claims. Additional print it to stdout, stderr
    seems to imply FAIL in our QA's testing rig.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 16c4f52782e0df88f818dadd4586ea99ccf992d5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 20 14:24:14 2012 +0100

    tests: add gem_mmap_offset_exhaustion
    
    This also adds a gem_madvise helper to lib/drmtest.c
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c4ae3bc41204c83a89369af91217daa33fff9675
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 20 14:25:56 2012 +0100

    update .gitingore

commit f4908880f3b91caab1fffbbd17c3e0bc432f71d1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 20 14:03:18 2012 +0100

    intel_sprite_on: kill overtly verbose and totally content-free comments
    
    /me just hates fluff
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 42b20d4ab97363f18c7c05cf69fe9b06ddead27f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 20 14:00:55 2012 +0100

    intel_sprite_on: remove copy&pasted gem functions
    
    Can we just please stop this?
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3928569eede8ca5f2e9ee1fa4e7fb9989956b2a9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Mar 19 14:25:13 2012 +0000

    intel_gpu_top: Trust the register access is safe
    
    Fixes intel_gpu_top on gen3 which otherwise refuses to do mmio.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit bf6c480d6ddc157713f839af314ea4892bf8f867
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Mar 19 14:24:22 2012 +0000

    decode: Use the correct start mask for gen3 fence registers
    
    A cut'n'paste error from gen2 apparently.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d364c280892af29956ad7032b0d242b7d24d7846
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Mar 14 10:59:51 2012 +0000

    configure: Add AC_SYS_LARGEFILE for mmap64 support on 64-bit
    
    Without enabling largefile support the prototype for mmap64() is broken
    on Linux/x86_64 with the result being a 32-bit integer sign-extended
    to fill a 64-bit pointer. Hilarity ensues.

commit be7ca950d7d4d18744a76abab091eb032835fb82
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Tue Feb 28 17:40:32 2012 -0300

    intel_reg_read: add a flag to simplify bit decoding
    
    This allows to specify '-d' parameter which will decode individual bits in
    each register being read.
    
    The register bits are printed horizontally for space reasons. This
    requires more than 80x25 terminal to see them all. An alternative solution
    would be to print them vertically, but this will become much more
    difficult to read when printing multiple registers at the same time.
    
    v2: fix spacing to get us a bit closer to the code nirvana.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 8d4545642835cb66f84739b9384f31920feacdba
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Tue Feb 28 17:33:54 2012 -0300

    intel_reg_read: support reading multiple registers
    
    The registers must be passed on the command line and will be read
    sequentially, one at a time.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit b7464e4032a181fc743fe531c6ea271c099b9a74
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Tue Feb 28 17:20:35 2012 -0300

    intel_reg_read: add support for getopt
    
    This will allow us to pass more options to it in the future.
    
    v2: fix whitespacing issues and improve scary warning text as suggested by
    Paul Menzel.
    
    Reviewed-by: Paul Menzel <paulepanter@users.sourceforge.net>
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 628ad0c91bad85f48a34ae7cefd53e686f99a3a8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 29 20:22:45 2012 +0100

    tests: some more tuning on the tiled partial pwrite/pread test
    
    ... 8 pages is just not enough to somewhat reliably get one page that
    needs bit17 swizzling.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit dac239e2b694f5f187ae0af9aeb339e3b57a51a1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 29 17:36:04 2012 +0100

    tests/gem_tiled_partial_pread/write: fixes
    
    Astonishing how dense I sometimes am ...
    - increase the bo size so that we don't have any round-up to next tile
      size areas (which the 2d blit go over, but the 1d pread/pwrite calls
      will notice).
    - correctly set tiling bits when copying back to a linear buffer.
    - read back through a tiled bo to avoid messing with swizzling.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f1d32d541dc8328a0f55224915906f23b58062a0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 29 15:57:30 2012 +0100

    tests: add tiled partial pwrite/pread test
    
    And indeed, this blows up.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a50550f22341aa4ee17110ecc68953829ba0153e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 28 09:31:17 2012 +0000

    lib: Downgrade error for unknown 'swap' not 'ram'
    
    Oops, my mistake for copying a compile fix from another machine...
    
    If we can't detect how much RAM we have, 0 is not a suitable default, so
    keep the error for the time being and only downgrade the error for
    unknown swap.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2035119201b4c63fe84d3883ae1b1c058bcc862c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 28 09:29:11 2012 +0000

    lib: Downgrade error for failing to determine swap interface to a warning
    
    If we can't detect how much swap is available, presume none.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1e74007b4c7c05f0b157b16acc2b9605002fe2ba
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Feb 27 12:50:50 2012 -0800

    testdisplay: remove unnecessary passing of width, height, stride, depth
    
    These are globals, no need to shadow them everywhere.

commit ea4163395e95951bd73b14316a0b28eac0475aaa
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Feb 27 12:46:11 2012 -0800

    testdisplay: remove plane test support
    
    This is better done in intel_sprite_on and was broken anyway.

commit 488daaa40bdf45f4cdcc9f516148dc1fd3b6a0bd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 22 10:58:39 2012 +0100

    demos/intel_sprite_on: build warning fixes
    
    ... from Armin Reese.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ace4a6e0e99841aec7199fe00795ddb35dfb24d1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 22 10:50:52 2012 +0100

    tests/gem_ringfill: shut up the compiler
    
    Double-include ftl and local variable shadowing. While fixing the
    later I've noticed that we mix up width and height in the blt copy
    function.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fa6c2757feb18b17120310fe315ed32594ff326c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Feb 20 22:53:26 2012 +0000

    tests/gem_ringfill: Exercise all rings
    
    On SandyBridge, the BLT commands were split from the RENDER commands as
    well as the BSD split inherited from Ironlake. So we need to make sure
    we do exercise each ring, and in order to do so we also need to make
    sure each batch takes longer to execute than it takes for us to
    submit it.
    
    v2: Exercise each ring sequentially.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5cf555868214ac6d55d8102d3198813aadc37853
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 20 10:04:02 2012 -0800

    gem_ringfill: Make this actually test that all the batches executed.
    
    I was looking into some strange behavior in Mesa that looks like
    batches maybe being skipped, but this test didn't catch it.

commit 732547793f22c873e3bc68c9c164937cb2ec2da9
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 20 10:04:01 2012 -0800

    intel_reg_dumper: Add dumping of GPU turbo regs.
    
    I was interested in finding why my IVB system is not getting GPU turbo
    after suspend/resume.  The piece that looks weird to me is that
    INTERRUPT_THRESHOLD is sitting at 0, whereas pre-suspend it's
    0x12000000.

commit 6624325f13e48e13f3c6d95f374437b151afbe12
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 20 10:04:00 2012 -0800

    reg_dumper: Refactor duplicated reg-dumping code.

commit 3e0bd266d29c74fb4e5d19d24e8c9853c0da90eb
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 20 10:03:58 2012 -0800

    instdone: Fix fallthroughs to invalid instdone bits on newer hardware.

commit 4fc909fd4881eec38d46be5db9e023e07d53c33c
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 20 10:03:59 2012 -0800

    instdone: Add support for one of the IVB instdone regs.
    
    [danvet: added GAM and GAFM bits.]

commit 8bedcae848332e9dd3425765682a7f71eb1339f0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 16 12:26:23 2012 +0100

    tests/intel_reg_dumper: s/pipe/disp_pipe/ to shut off the compiler
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3b65f179f2acbf8f2c4372f1cea14069b0d3375c
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 15 16:04:28 2012 -0200

    Add intel_panel_fitter tool
    
    The tool allows you to change the panel fitter settings, so you can
    change the size of the screen being displayed on your monitor without
    changing the real pixel size of your desktop. The biggest use case for
    this tool is to work around overscan done by TVs and some monitors in
    interlaced mode.
    
    v2: reviews by Ben, Chris and Rodrigo
     - don't install
     - use intel_register_access_init
     - check for maximum X and Y values
     - add a disclaimer saying this is not the real solution
     - print less when pf is disabled and option '-l' is used
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ecad594e0254648a3bf2d995569afd18dbb75ec2
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 15 16:04:00 2012 -0200

    reg_dumper: change and fix behavior when using dump files
    
    Before this patch, handling dump files was wrong:
    - when HAS_PCH_SPLIT was specified, intel_reg_dumper segfaulted inside
      intel_check_pch()
    - the "devid" variable was used but not set
    - there was no way to specify the device id of the machine used to
      generate the dump file
    
    This patch fixes this behavior with the following changes:
    - the HAS_PCH_SPLIT variable is gone
    - there is now a '-d' argument that can be used to specify the device id
      used to interpret the results
    - when a dump file is used but the '-d' argument is not provided, an
      Ironlake machine is assumed
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ad87b06fd6a5af4836562c1d318ca06a918d5466
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 15 16:03:09 2012 -0200

    reg_dumper: add interlaced information to TRANSCONF
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3310db08d874d696241b84aceb9380e8e17d6e9e
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Wed Feb 15 16:02:27 2012 -0200

    reg_dumper: add interlaced and rotation information to PIPECONF
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 27d1cef2d32cf1ef6904e672152364240d634ef8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 15 17:50:57 2012 +0100

    tests: fixup storedw tests
    
    We need to use _INSTRUCTION as the reloc domain because otherwise the
    ppgtt pipe_control w/a for snb won't kick in and the test fails.
    
    The storedw tests for blt and bsd are still disabled because the
    corresponding patch to flag ppgtt support isn't merged upstream yet.
    Without ppgtt these hang my snb here.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1d16f7934df06d4b4feee083096575ef0c4f2340
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 15 17:43:38 2012 +0100

    test/gem_tiled_pread_pwrite: add progress indicator
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 24c8d2f112853a41cd9d5077c86e41ed62663a09
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Feb 12 12:14:27 2012 +0100

    remove old .c files
    
    Oopps, I've forgotten about this in
    
    commit 9b32894937af27f9ba95ea572ac857d376fe9034
    Author: Daniel Vetter <daniel.vetter@ffwll.ch>
    Date:   Sat Feb 11 16:52:26 2012 +0100
    
        prepend 'intel_' to installed programms
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e1ddd1c8e0ec947906b528315cdc7b9f64ae3d9b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Feb 11 16:54:58 2012 +0100

    lib/drmtest: fixup copy&paste printf format issue
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9b32894937af27f9ba95ea572ac857d376fe9034
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Feb 11 16:52:26 2012 +0100

    prepend 'intel_' to installed programms
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6cfd16648d8d229c4ab474e4beff1cc131287238
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Fri Feb 10 22:19:16 2012 -0800

    Remove pointless Android ifdefs for sys/fcntl.h.
    
    On my system, sys/fcntl.h contains exactly one line:
    
       #include <fcntl.h>
    
    So there's really no need to #ifdef it.  Also, intel_mmio.c already
    included <fcntl.h>; there's no need to include it twice.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b39a74ba4ef36889465b03c93d3d4940b21af465
Author: Sateesh Kavuri <sateesh.kavuri@intel.com>
Date:   Mon Feb 6 15:37:04 2012 +0530

    Added support for Android
    
     Added the Android.mk file as per Android make system. Also had to modify
     the headers with the proper location for fcntl.h as per the Android
     bionic headers location
    
    Signed-off-by: Sateesh Kavuri <sateesh.kavuri@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2065ca15fb5a5a5c4079f6c0cb6361a4052e4fdb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 9 22:39:50 2012 +0100

    Release 1.2

commit 06bfa3d3870521a595beb280f5f91c07422f189e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Feb 9 22:32:54 2012 +0100

    lib/rendercopy: fixup make distcheck
    
    And complete the gem_stress->rendercopy rename that I've forgotten
    about.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 042f40eda776aec56c4d39d4e47033117a85415e
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Wed Feb 8 17:04:45 2012 -0800

    Fix program name in intel_bios_dumper.man SYNOPSIS
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 90a6f75dd284e4527e6583a519da5b634f8b469d
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Wed Feb 8 12:05:05 2012 -0800

    Update generation checks to provide basic support for Ivybridge.
    
    There may be some updates required, but assuming Ivybridge is similar to
    Sandybridge is a decent start; previously it fell through to the Gen2/3
    case and nothing worked.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6fe3884bc97b7c9ad5cdcbc9144cb7319341eb75
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Feb 8 16:46:57 2012 +0100

    add sprite demo from Armin Reese
    
    Also fixed up the copyright header a bit. No comments on the coding
    styled used ;-)
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e61b917134527500c08900f5f71d996a9cbc5735
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Feb 4 09:05:08 2012 -0800

    Move free(cmd) to after last use of cmd in intel_gpu_top
    
    Error: Use after free (CWE 416)
       Use after free of pointer 'cmd' in call to fprintf
            at line 496 of tools/intel_gpu_top.c in function 'main'.
              Previously freed at line 491 with free.
    [ This bug was found by the Parfait 0.4.2 bug checking tool.
      For more information see http://labs.oracle.com/projects/parfait/ ]
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3d46ca8c4d43adfd9827b4b21648a4fddd03c254
Author: Yi Sun <yi.sun@intel.com>
Date:   Fri Feb 3 22:45:39 2012 +0800

    tests/testdisplay.c: rewite function dump_connectors and dump_crtcs.
    
    Replace the globe variable drm_fd with local variable passed from parameter.
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>
    [danvet: fixup whitespace]
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4cceae74e3f18b78db5049edb0fc3d6d89b66275
Author: Yi Sun <yi.sun@intel.com>
Date:   Fri Feb 3 19:23:55 2012 +0800

    tests/testdisplay.c: Fix the black screen issue while force mode.
    
    Replace the 8 globe force mode variables with a struct drmModeInfo variable.
    Next step, we could reduce the number of globe veriables, to be convenient to call the functions.
    
    Signed-off-by: Yi Sun <yi.sun@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36a40a5423247651bb51d8ad9bfdd0528cd79634
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 31 13:52:59 2012 +0100

    gem_partial_pwrite_pread: add progress indicator
    
    Without optimized pread/pwrite this test takes forever.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 611e0cb333b9c0c55985b5d40d7c0c76e15b343b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Jan 27 18:50:21 2012 +0100

    intel_reg_dumper: add TRANS_VSYNCSHIFT
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6b6b13906a22d7d1f0205a6a44b6c760b4c3fe97
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jan 25 21:05:15 2012 -0800

    intel_reg_write: use register access init/fini
    
    This will do the proper forcewake stuff.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 6e3066c9c3c4443cf63e0efbb3d9d0906d58b5b4
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jan 25 21:05:15 2012 -0800

    intel_reg_read: use register access init/fini
    
    This will do the proper forcewake stuff.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 4c20525b7f50fa0c0bb5579d49f7bc4907698da0
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Wed Jan 25 21:04:16 2012 -0800

    mmio: refactor reg init/fini
    
    Rearrange register access init and fini so that we properly accomodate
    platforms without forcewake.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 802bd74c5f9526faccfdf168b06c0c2c44237840
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jan 15 13:41:42 2012 -0800

    i-g-t: silence -Winline
    
    In this case, the code already has a comment about the problem. We don't
    need to flood the build with this less than useful message.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 1ffe6b0ee8decc02edb48ab197a869e1d7783a2b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jan 25 10:11:49 2012 +0000

    intel_bios_reader: Sanitize input to ensure all data blocks are within bounds
    
    Running intel_bios_reader upon itself causes the reader to crash and
    burn. It obviously finds a VBT signature inside the binary, but then
    does not rigorously check that all data blocks are valid before
    dereferencing them.
    
    Reported-by: Emanuel Bronshtein
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=45205
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 93a65895bb775932b02a3de692a1262ef7fafdbc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 24 23:18:21 2012 +0100

    drmtest: add progress indicator
    
    Some test that trash the aperture necessarily need to take forever, so
    add a little progress indicator to keep worried minds at peace.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7492f97cde0a0b86b307637858c1d5efbadd2d06
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 24 18:05:11 2012 +0100

    tests: add gem_cs_prefetch
    
    Tested-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ca10c7231da5fe00be52c6d5be2d053637c07467
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 24 21:41:17 2012 +0100

    intel_error_decode: fixup glibc free warning
    
    Usually some random stack garbage doesn't equal some other
    random stack garbage, leading to the filename != path check
    succeeding.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fbae13899013491fa78499ba27641c2fadef1fb0
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Mon Jan 23 20:13:49 2012 -0800

    Add Solaris implementation of intel_get_total_swap_mb()
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5c4e041dc8bea5cc32e37ab8fce09ac7f4ede135
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Mon Jan 23 20:13:48 2012 -0800

    Make benchmarks also link against libpciaccess
    
    Fixes Solaris build error on build of intel_upload_blit_large:
    
    Undefined			first referenced
     symbol  			    in file
    pci_device_probe                    ../lib/.libs/libintel_tools.a(intel_pci.o)  (symbol belongs to implicit dependency libpciaccess.so.0)
    pci_system_init                     ../lib/.libs/libintel_tools.a(intel_pci.o)  (symbol belongs to implicit dependency libpciaccess.so.0)
    pci_device_find_by_slot             ../lib/.libs/libintel_tools.a(intel_pci.o)  (symbol belongs to implicit dependency libpciaccess.so.0)
    ld: fatal: symbol referencing errors. No output written to intel_upload_blit_large
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fa461203e6df7318d49d183366769e392e6decf0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 24 11:28:25 2012 +0100

    testdisplay: make udev optional
    
    Hopefully this makes Solaris happy.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7f7cafe7293570d56607b101cac7db617741713d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 24 10:50:05 2012 +0100

    testdisplay: extract hotplug code
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 137f4d467e93eb1a91487f7be8b7a6e62e2bce2d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 24 09:37:51 2012 +0100

    lib: forcewake is gen6+
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8d4d8b00ed92287cee81448ad886d8e9a4602f7b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 23 17:18:53 2012 +0100

    tests/gem_tiled_swapping: be more conservative with the swap requirements
    
    Blew up and angered the OOM killer on one of my machines.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 98129fa2ff2c095d13cb0f60499c2de129d36d6c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 22 21:58:27 2012 +0100

    tests: add gem_tiled_swapping
    
    Also add a drmtest_exchange_int helper, might come handy at other
    places.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fbfe374b280be9542f7ddb59c41c6096f4d773fa
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 22 20:09:54 2012 +0100

    lib: extract drmtest_permute_array
    
    Lots of tests need to create havoc to LRUs in the kernel or otherwise
    need to shuffle things around a bit. So make a small array permutation
    function available.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1a9fa8fd12c78236b1eb4a83062cd8f732c7abb3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 22 19:24:48 2012 +0100

    lib: add intel_get_total_swap_mb
    
    Test that try to exercise the swap paths need to check whether swap is
    available, otherwise they'll just oom.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7132d0f977d226969b47edafbed74a6de04465f9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 22 19:14:25 2012 +0100

    Revert "tests/gem_tiled_pread_pwrite: actually try to use more than total ram"
    
    This test is actually not really designed to test swap.
    
    This reverts commit 6d755c39d38e9f0e5a991933cc82e015d1ccd272.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6d755c39d38e9f0e5a991933cc82e015d1ccd272
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 22 18:04:24 2012 +0100

    tests/gem_tiled_pread_pwrite: actually try to use more than total ram
    
    Luckily there's usually enough other stuff around to waste the last
    few mb ...
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e64abe581a34bf12d3a91c13970100a16f709783
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Tue Jan 17 07:19:24 2012 +0800

    intel_audio_dump: show more AUD_CONFIG bits
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Reviewed-by: Eugeni Dodonov <eugeni.dodonov@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3beea0bd0c3ead3cb87ca6fc0b17b887d187d002
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Tue Jan 17 07:18:08 2012 +0800

    intel_audio_dump: fix missing Audio DIP tabs
    
    This makes the SNB/IVY Audio DIP values aligned with others.
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Reviewed-by: Eugeni Dodonov <eugeni.dodonov@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 08ccec1ec77a92ec1aa766c8571a0a7a2e6541f8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Jan 19 13:01:03 2012 +0100

    tests: make testdisplay non-optional
    
    Not testing modesetting should not be an option.
    
    Also this hopefully prevents testdisplay build-breakage from lingering
    on for days like it has in the past.
    
    And we want to eventually test the gem/kms cross-section, i.e.
    pageflips.
    
    Acked-by: Chris Wilson <chris@chris-wilson.co.uk>
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f07e4d1885fbf54a4faa1f91a92fa9499e11b011
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 21:23:56 2012 +0100

    lib: extract rendercopy functions from gem_stress
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1357427fd0287b1027608c96d400daa6c4c97ddc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 17:53:12 2012 +0100

    gem_stress: s/gem_stress.h/rendercopy.h

commit f7c2dab5bd1284982343a31d315864906392f016
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 17:51:48 2012 +0100

    gem_stress: move keep_gpu_busy stuff out of render copy functions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b9fe673f498003b2d235f63485ed832070f84a8c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 17:47:33 2012 +0100

    gem_stress: move option struct out of header
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9f20ecc3b3e80b2893646817926f2e090abf757a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 17:46:00 2012 +0100

    gem_stress: add width/height arg to rendercpy functions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 699d30950f1d91cd017364765c14fdc4cb63cd14
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 01:03:20 2012 +0100

    gem_stress: move a few things out of gem_stress.h
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f1de285e7e5e1825f09510b2e6264139ea92f921
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 00:55:49 2012 +0100

    gem_stress: pass batch as arg to render_copy functions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 72f74ce35512aebebf7f9a35e54cd7746ab30017
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 00:36:37 2012 +0100

    gem_stress: remove logical_tile_no arg from render_copy functions
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 205510badf00f82c0dc069ca15c5016a6fe18a60
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 18 00:34:15 2012 +0100

    gem_stress: add buf->size
    
    Removes a dependency on gem_stress internals from the rendercpy
    functions.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d75d69d0a9e5e77dcea469b47401cd7d25f155a3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 15 18:32:11 2012 +0100

    lib/drmtest: extract mappable aperture trasher infrastructure
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7b14b093d45232cd2fd3a96322353eb35083c9eb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 15 17:40:41 2012 +0100

    lib/drmtest: add gem_mappable_aperture_size
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7f944349efb98ae2ab777dc745c3d12acd03d82f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 15 17:14:56 2012 +0100

    lib/drmtest: extract gem_aperture_size
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d749921e48366c3b562fa315e7ed6cf4ce063a1c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 15 16:40:32 2012 +0100

    tests: update .gitignore

commit a50eb34398b7a8ac5580d21a5f867c4697fee7ea
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jan 15 16:39:49 2012 +0100

    tests: add ZZ_hangman
    
    Not yet enabled by default because the kernel can't recover from this
    on chips where we don't have a gpu reset implemented.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eb6459161394d763b116e55eaef22b6b0b6a09a8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Jan 14 17:05:39 2012 +0100

    tests: add ZZ_check_dmesg
    
    This way the testsuit automatically fails if we hit a DRM_ERROR
    or a WARN/BUG somewhere.
    
    ... i.e. this is the Jesse Barnes catcher ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 91a01e034858dacd41f0a847ba90996db87c44be
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 10 20:30:23 2012 -0500

    tools: use correct src and build location
    
    Headers are found under top_srcdir/
    Headers are CPP flags, not C Flags
    libintel_tools.la is located in top_builddir.
    Use dist_bin_SCRIPTS so it is included in tarball
    Line-up the line continuation characters
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 812ca58f8a0d71433781b3ae38ead65e10e51cce
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Thu Jan 5 18:56:28 2012 -0500

    scripts: use PYTHON primary directive for python scripts
    
    Should it become installlable in the future, it will get compiled
    at installation time by Automake. Because it is "source", they get
    included in the tarball.
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 65b7c72335572fec7f1fd78de840148c91b1fde2
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Thu Jan 5 18:44:49 2012 -0500

    lib: fix include directives, alphabetize sources
    
    Headers are found under top_srcdir/...
    Headers are CPP flags, not C Flags
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 3ceb75828ccf813005a7eb4c3924c9ca56c01aa1
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Thu Jan 5 17:02:30 2012 -0500

    Benchmark: use correct src and build location
    
    Headers are found under top_srcdir/...
    Haeders are CPP flags, not C Flags
    AM_CPPFLAGS, AM_CFLAGS and LDAAD apply to all targets.
    libintel_tools.la is located in top_builddir.
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 4768adf7d77706fb6c2967695e0afa7d7c7dbb75
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 10 17:25:24 2012 -0500

    Debugger: convert existing makefiles to Automake.
    
    A common xorg idiom is used. The dependencies are auto-detected.
    If they are present, the debugger is build.
    If any are missing, the debugger is silently skipped.
    If --enable-shader-debugger is specified, the configuration
    will abort if any of the dependencies is missing.
    No user actions is needed, no env variable to set (as it should be)
    
    This will fix a number of problems:
    build cannot start due Makefile missing in tarball.
    build fails as GEN4ASM variable not available in Makefile.
    distcheck is also disturbed.
    
    In the process other minor problems were fixed:
    helper target is missing dependencies on evict.h.
    too may arguments given to pre_cpp.py but they were ignored.
    fills /tmp with temporary files.
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 9f8766030463bc0c75506d990831b853f19d7725
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 11 17:19:53 2012 +0100

    lib/drmtest: add gpu quiescent helper
    
    Some tests are higly timing dependent and others carelessly leave
    active buffers behind. So add a helper to quiescent the gpu and call
    it unconditionally when opening an fd in a vain attempt to make all
    this race-condition hitting more scientifically sound.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7a54bfa772d6823a20152c15fe18726e9222a4e9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 11 16:56:50 2012 +0100

    tests: add drm_vma_limiter_cached to check libdrm cache mmap pruning
    
    Suggested by Chris Wilson.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cbaa8a389e47695e6612eb0f76faaf7d0979fee3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 11 15:33:00 2012 +0100

    lib/drmtest: extract helpers for signal interruptions
    
    Also add some hackish stat to check it works.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 36d25cc7440ef9d37d16ea95ee0d51e5e6e2c5e2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Jan 11 14:59:47 2012 +0100

    tests: add drm_vma_limiter variants that only check gtt/cpu mmaps
    
    Suggested by Chris Wilson.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 553021d9740019d602ef327632a120cf0c9fc15a
Author: root <daniel.vetter@ffwll.ch>
Date:   Wed Jan 11 14:37:42 2012 +0100

    tests: add drm_vma_limiter
    
    v2: Also check whether a 2nd mmap on the same bo still works.
    Suggested by Chris Wilson.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e287fe1958f73d35dd833d927662a5a1c64bcdbd
Author: root <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 22:34:52 2012 +0100

    tests/gem_fenced_exec_trash: use drmtest helpers more
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 527cad1618b458a2ff04b1d63ea1ffe926774815
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 18:41:46 2012 +0100

    lib/drmtest: extract gem_mmap
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7a6042e87ef3dee2df06b1666fb8af6889ac35b8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 18:29:30 2012 +0100

    lib/drmtest: extract gem_create
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 73d1b88129cdcf6fa250b6fb8e198fdfc2d70e04
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 18:20:39 2012 +0100

    testdisplay: rename global fd variable to drm_fd
    
    Shuts up compiler warnings about shadowing in functions.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit db7462e1f5e3fd6bfeeeeb18e76231638d7f8c07
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 18:15:05 2012 +0100

    testdisplay: fixup smaller compiler warnings
    
    const char * issues and redudant getopt stuff
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 08cd2f220ee84e51917cc76c19998b12b6d50407
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 16:10:48 2012 +0100

    tests: use the gem_write wrapper some more
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 673e6b220a34fb7600cbf272bc46a4ac1ca08905
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 16:05:34 2012 +0100

    lib/drmtest: extract gem_set_domain and gem_sync
    
    gem_sync just does a gtt sync by using set_domain(GTT, GTT).
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a7a80c2c2f7ac15ae50d75dc2fcaf59834b47e0c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 15:50:20 2012 +0100

    tests: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd5cf9a07d17ce91dfaa3aa12d3f2c93815f0489
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 15:37:53 2012 +0100

    lib/drmtest: extract gem_read
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 319638ba6d38c25be0f6dadbab3f5855083234a1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 15:31:11 2012 +0100

    lib/drmtest: extract gem_write
    
    Astonishing how many different function signatures are possible for
    something that simple.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5dd17d3f4bddb075f3fb6fbcd1b6c271f7b746a7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 15:07:19 2012 +0100

    lib/drmtest: extract gem_close
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aa67b22e426f26f8a8d7fe35221fe2a6ceb5d3db
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jan 10 14:59:58 2012 +0100

    lib/drmtest: extract gem_set_tiling
    
    Way too much copy-pasting going on here.
    
    Also fix a compiler warnings in gem_stress while fixup things up.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1be3fd7eeed3adf1fba56edc37110d346b03b88b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:42:19 2012 +0100

    lib: fixup new compiler warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bd811d2d39f49087310be508e2ea6278e817d6f1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:37:36 2012 +0100

    tools/intel_stepping: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit faf3dd11357dc3aebbf025785f572b51117ea068
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:35:21 2012 +0100

    tools/intel_gtt: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5774fadf7d99ade1a18177eb04bf10377fcfef8b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:34:38 2012 +0100

    tools/intel_reg_dumper: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d50e6368abfb657a838d212955b7445b44aba168
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:24:12 2012 +0100

    remove tools/intel_decode
    
    Everyone's using the libdrm decoder now.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 904bcab7ba884605e2e99264482c6c5383025b19
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:22:21 2012 +0100

    tools/intel_gpu_top: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2ca6c6b4fdd09b99b2456923926cc8d85316f301
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:19:32 2012 +0100

    tools/intel_dump_decode: use libdrm decoder
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 24a33db7f0177e3c0d7cc4686a69ae6e30e09c3b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:11:58 2012 +0100

    tools/intel_bios_reader: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 74b70baf14e42ee435a4e317c20a41d3fb0f0d93
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:10:44 2012 +0100

    tools/intel_bios_dumper: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 03ab1328a765d725677809179779ff673ca41296
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:09:37 2012 +0100

    tools/intel_audio_dump: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 391e6aa89ad21fa161632b41ff8e1f48352d0287
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:06:41 2012 +0100

    tools/intel_error_decode: fixup new warnings
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7ee9f16e5166a4b0dddb76ad5166410c388f603e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jan 9 23:38:17 2012 +0100

    tools/intel_error_decode: convert over to libdrm decoder
    
    Note that a per-ring error decode state would make more sense - this
    way we could better decode the ring head and tail. But our current
    head tracking is already lame (we need the kernel to also dump the
    ringbuffer head/tail first, not just acthd), so I didn't bother.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 555cfd4597bc04cb3fa67304408f7fa1be910647
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Jan 9 14:33:39 2012 -0800

    testdisplay: update to new colorkey ioctl

commit 504c4fa94f109338ef90a7e07b21bfafa67b8d4e
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 6 15:45:29 2012 -0800

    Fix pthread compiler flags to work on Solaris and with Studio compiler
    
    AC_USE_SYSTEM_EXTENSIONS is used to let autoconf take care of setting
    the right system defintions for POSIX threads & similar extensions to
    the base POSIX API.   Since it will also #define _GNU_SOURCE 1, remove
    the extra setting to avoid compiler warnings about redefined macros.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4e3c85f153276fc297570364b71ddbdd37aeaf5a
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 6 14:37:20 2012 -0800

    include <fcntl.h> in lib/intel_mmio.c for open() prototype on Solaris
    
    <fcntl.h> is the POSIX standard specified header for open(), so should
    be available on all platforms.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c461006bac8a3ff1196a83449bd1676778e8844f
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 6 14:37:19 2012 -0800

    List out array values instead of using gcc range extension
    
    Required to compile with Solaris Studio cc compiler.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 00751594dbdce9f1855ebe4105677a494fd7e36b
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 6 15:45:28 2012 -0800

    Use sched_yield instead of pthread_yield
    
    Despite the name implying it's a standard part of the POSIX threads API,
    pthread_yield is actually non-standard and less portable than sched_yield.
    For instance, Solaris only has sched_yield, and not pthread_yield.
    Since even the Linux man page suggests using sched_yield, just call that.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f73dddc767b38988f6905ef56e95acad9fa4e8ca
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 6 14:37:17 2012 -0800

    Solaris defines struct winsize in termios.h
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9ebb860e3981db78ee31859dc77f1fce3ccc3183
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 6 14:37:16 2012 -0800

    Provide Solaris implementation of intel_get_total_ram_mb
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 65db78f687e757ca40ac42e9c26ddc769bd4cfcc
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:13:39 2012 -0500

    config: restore the libtool minimum version to 1.5
    
    Very few systems still use this old version, but it would be
    inconvenient to build a video driver with libtool 1.5 and have
    to build the gpu tools on another system having libtool 2.2.
    
    The toolchain version requirements are documented here:
    http://www.x.org/wiki/ModularDevelopersGuide#GNU_Build_System
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d63a1f6c73f2fbfd4af1d3bab3eb0e4f68483115
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:25 2012 -0500

    config: the minimum version for autoconf is 2.60
    
    A version later than 2.60 can be used, but no new features from such
    a later version can be used in configure.ac.
    
    The toolchain version requirements are documented here:
    http://www.x.org/wiki/ModularDevelopersGuide#GNU_Build_System
    
    Minimum version for Automake is 1.10 but we have not written it
    in any xorg module so far and there has been no issues.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a03ef7abb508223bce65366d2ef9193521513d00
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:24 2012 -0500

    config: set-up xorg automatic rebuilding rules
    
    The current code is a noop. Use the same configuration as all
    the other xorg modules. This will change in the future but it is less
    confusing when all modules behave the same way.
    Note that these rules apply to building from a tarball only.
    
    Restore autogen.sh to be identical in all xorg modules.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 665b86664ab5b4a8a076682d9c879f7a9fbeb756
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:23 2012 -0500

    config: use project wide xorg warnings variable
    
    Use CWARNFLAGS as in all of xorg. There seems to be no reason why this
    module should be different. The warnings were updated recently
    for those who install the latest util-macros.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1722b781286bbb7d98a90fa789d56219fd907ce7
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:22 2012 -0500

    config: remove duplicate AC_PROG_CC and AC_PROG__CC_99
    
    The compiler was configured three times.
    It is done once by XORG_DEFAULT_OPTIONS in util-macros.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4435791013a7172a06a17e5656a5e6007f5a2d89
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:21 2012 -0500

    config: remove unrequired AM_PROG_CC_C_O
    
    Required when using per-target flags or subdir-objects with C sources.
    
    http://www.gnu.org/software/automake/manual/automake.html
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 27e1294cf8ef11455cb54527b8a269717ea12395
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:20 2012 -0500

    Add mandatory ChangeLog and INSTALL files
    
    These are generated from a macro in the util-macros package
    
    Refer to the wiki for more details.
    http://www.x.org/wiki/NewModuleGuidelines.
    
    Acked-by: Cyril Brulebois <kibi@debian.org>
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4384c68f2ed7dac944b1cf57ac4acda606fafffe
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:19 2012 -0500

    Man pages still showing version 1.0 in the 1.1 release
    
    The patch coverts the man subdir to the standard xorg man page makefile.
    The version number is automatically updated when a new release is made.
    The man page section number is no longer hard coded either.
    
    The package util-macros at version 1.8 or greater is required.
    
    Acked-by: Cyril Brulebois <kibi@debian.org>
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6540ed2112dc589e13eb4bf4460df1c95a1b38a5
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:18 2012 -0500

    Use standard .gitignore file and layout
    
    Reusing xorg code saves maintenance in the long term.
    
    Now that m4/.gitignore is removed, the -I m4 ${ACLOCAL_FLAGS}
    must be removed to avoid build breakage as m4 is generated and not
    part of the git source.
    
    Acked-by: Cyril Brulebois <kibi@debian.org>
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 41ae07aba28dcec0b98245be90d9d5925c13c5c7
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jan 3 21:12:17 2012 -0500

    Add mandatory COPYING file.
    
    This module is hosted as an X.Org app and is published as such.
    This file is a summary of the copyright statements in the source code.
    
    http://www.x.org/wiki/NewModuleGuidelines
    
    Acked-by: Cyril Brulebois <kibi@debian.org>
    Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 47a5bc505cb972cc94f1fbd9882d4e5c2e72ac43
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Dec 19 16:25:53 2011 -0200

    tools/intel_reg_dumper: retrieve rc6 residency values
    
    This allows to check if rc6 works, and how long have we been in each
    state.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 1649ab350f60b664a51fc4a7fd9c225bb72eb0a8
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Tue Oct 25 14:40:12 2011 -0200

    tools/intel_reg_dumper: Add support for debug register
    
    Right now, we only check for hardware DRRS support. But much more can be
    done with it. Some day.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit f3f84bb3502cd1188dbc60cd975564eb3c3d4670
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:55 2011 +0800

    intel_audio_dump: show Gamut Metadata DIP
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 821e07d00d8d43472a808e240b0a7f1b9adc0ba9
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:54 2011 +0800

    intel_audio_dump: show interrupt enable bit
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ee94958d131cb71488f60fad48d7793a9dfd78e7
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:53 2011 +0800

    intel_audio_dump: show HDMI encoding
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e321f1315bddf94748e412cc1741cf1908420b6f
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:52 2011 +0800

    intel_audio_dump: show VIDEO_DIP_CTL_* for CPT
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c0635c3f5c10459478665eb54814726def22fb5d
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:51 2011 +0800

    intel_audio_dump: show ironlake ELD_access_address
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f32aecb2963f94f8ea033ad2e7a5e8d30a92484b
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:50 2011 +0800

    intel_audio_dump: show ELD contents for G45
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6fcb5cdcbc385d94290271e0122ee4163ce38ec6
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:49 2011 +0800

    intel_audio_dump: show detected chipset name
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b5ca6b4410ac9ac00cad85dc53ef9761c6031f15
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:48 2011 +0800

    intel_audio_dump: show DP control registers for Ironlake
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 12861a95680ad35646713a38b617036a2bc3bbc8
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:47 2011 +0800

    intel_audio_dump: explain Bits_per_Sample
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cf4c12f103bbcc4b3f3b39fc8fe944f3c411b4fb
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:46 2011 +0800

    intel_audio_dump: fix DP port width for CPT
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 97d203140c748490a5371a4695247f21ae328ac5
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:45 2011 +0800

    intel_audio_dump: fix DP control registers for CPT
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 63e3c37838aefb7e8a715eda29e1ca635fa21c63
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:44 2011 +0800

    intel_audio_dump: fix Ironlake detection
    
    The original test mistakenly calls dump_cpt() for Ironlake,
    due to HAS_PCH_SPLIT := IS_GEN5 || IS_GEN6 || IS_GEN7.
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 305443cf0ae5cc7566aceb6dc37aa3f51f51c9fb
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:43 2011 +0800

    intel_audio_dump: fix Digital_Port_D_Detected copy&paste error
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d6bdaf01f9e9db47e0f5bb37d65e017b0c01502d
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:42 2011 +0800

    intel_audio_dump: fix ironlake Stream_ID indents
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5032f68a77b67d020cd462c22e390dc35d70447b
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:41 2011 +0800

    intel_audio_dump: report effective channel count
    
    The raw channel count is not user friendly and may be misleading.
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1c6a7cade7881d6ee1ff4e240331b10112389ce8
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:40 2011 +0800

    intel_audio_dump: cleanup hex output
    
    - no need to show the 1-bit AUD_OUT_DIG_CNVT_* as hex value
    - show the Connection_select_Control_* bits as hex values
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d6e38ffb6fbca1d13f21dae0b0b1eef2325583cd
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:39 2011 +0800

    intel_audio_dump: cleanup ACP DIP name for ironlake and CPT
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ea3815cd03a4613d915f410aaa5c2079e989467c
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Sat Nov 12 11:12:38 2011 +0800

    intel_audio_dump: cleanup hyphen character
    
    Convert "­" (Hex 00ad) to "-" (Hex 2d), the former leads to ugly outputs
    in some situations.
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5a3fccbb577dd8d6a0699cd58e9f39532792b866
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 24 01:23:59 2011 +0100

    Release 1.1

commit 74d6545ffadf0a7f321138ae4ccd0def8f28e0d2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 18 00:24:45 2011 +0100

    testdisplay: shut up compiler
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2de19c477af4f10370f1272e6578cec0d1b486bc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 18 00:21:39 2011 +0100

    testdisplay: move drm_fourcc.h include under the #ifdef protection
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f41a30070d62e007bfda9f8ddadc24877a3324c
Author: Yi Sun <yi.sun@intel.com>
Date:   Thu Dec 1 18:57:16 2011 +0800

    tests/testdisplay.c: make the 3th pipe finish all the mode setting.
    
    If test all modes rather than preferred mode, remove framebuffer and
    set CRTC to zero after each connector mode setting.
    
    Signed-off-by: Sun Yi <yi.sun@intel.com>
    Reviewed-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 06460049f69b2769c31c51520ae07af394a0a33b
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Dec 15 13:54:30 2011 -0800

    intel-decode: fix flush dword post sync parse
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 7ecdb152ca30db67f23a8f31bc7e4b84ec72a4d1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 14 17:43:37 2011 +0000

    tests/gem_double_irq_loop: silence the compiler
    
    gem_double_irq_loop.c: In function ‘dummy_reloc_loop’:
    gem_double_irq_loop.c:62:9: warning: unused variable ‘j’ [-Wunused-variable]

commit f381a8b9f08a6d0c843e7b9f7997020d6b0d1e1a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 14 17:41:34 2011 +0000

    tests/gem_exec_blt: silence the compiler by failing on error
    
    gem_exec_blt.c: In function ‘gem_exec’:
    gem_exec_blt.c:174:6: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
    
    Propagate the failure and exit(1).

commit 2a292188e764c18b76698e1698ecaf62699b2f04
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 14 17:41:34 2011 +0000

    tests/gem_exec_nop: silence the compiler by failing on error
    
    gem_exec_nop.c: In function ‘exec’:
    gem_exec_nop.c:101:6: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
    
    Propagate the failure and exit(1).

commit ceb9f7d934e7efaaf0b061c3a0c5cb4b21efa156
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 14 17:39:42 2011 +0000

    tests/gem_stress: silence the compiler by using '%zu' for size_t
    
    gem_stress.c: In function ‘main’:
    gem_stress.c:980:3: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 4 has type ‘unsigned int’ [-Wformat]

commit d4bb328b78b767b98c8a60ee2c1bd0d2cc894d67
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 14 17:37:53 2011 +0000

    tests/gem_largeobject: silence the compiler
    
    gem_largeobject.c: In function ‘test_large_object’:
    gem_largeobject.c:95:20: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]

commit b4fb480c802c41dbb8061344a540752156113489
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Dec 14 08:14:45 2011 -0800

    testdisplay: don't test planes if i915 color key ioctl is not available

commit 7ac492aec2c749895c863675ad5f48177daf9648
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Dec 12 20:19:03 2011 +0000

    scripts/who: Add the process id to the output
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 61ff1309cabaa1fc879ed0c3179696ad64a79da3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Dec 12 17:44:58 2011 +0000

    scripts: Add a trivial script to show which programs are using the GPU
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 10e36edabe42e52f7862f66147d4433e8947ebc2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Dec 10 12:49:10 2011 +0000

    decode: Fix interpretation of i915 8bit formats
    
    2/3 are reserved with the correct values for A8/I8 being 4/5
    respectively.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5a9d82c6d5ad6d4e9b48a74dd4a5226babee81aa
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Dec 7 08:22:41 2011 -0800

    testdisplay: update for final plane & fb ABI
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit ff409c537f541cbaa20f0b0f8faa03ece0d8014f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Dec 6 16:57:53 2011 +0100

    tests/gem_partial_pwrite_pread: don't trash gtt unnecessarily
    
    On chips that don't have a unmappable gtt part it's utterly pointless.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5a851b139266063fc4e172e6ce781ebc1c75c9d9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 4 21:42:31 2011 +0100

    tests: add gem_partial_pwrite_pread
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 09cba27fdc5fbcc82471b4d7ba41944e5a4865d4
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 4 13:57:56 2011 +0100

    tests/gem_reloc_vs_gpu: fixup this mess
    
    - fixup pitch mess noticed by Chris Wilson.
    - we need to diable bo reuse otherwise the kernel won't do the relocs
      (we might get an already gtt-bound batch from the dummy load).
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b9629f2d8d21a47c383c718e41910cc61c7947a6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 4 13:49:24 2011 +0100

    tests/gem_reloc_vs_gpu: emit special batch on blt ring on gen6+
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 28e3f9c6064f2c9859e547b17abe1138a62e97ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 4 13:02:35 2011 +0100

    tests/gem_reloc_vs_gpu: switch to COLOR_BLT instead of PIPE_CONTROL
    
    Less fancy command that works everywhere. Suggested by Chris Wilons.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1c9cce9c45b9d8980eb6944dc8c36925e91f5228
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Dec 3 19:57:36 2011 +0100

    tests/gem_tiled_pread_pwrite: kill set-but-unsed warning
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ad6be1f0c913c5b9b5bb93d1c56390ac2b0c62ea
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Dec 4 12:08:59 2011 +0100

    tests: add gem_reloc_vs_gpu
    
    Tests whether the kernel properly waits for the gpu before
    applying a reloc.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 224d4d22f069782c3a83a06ec97bbc58932db3d8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 2 20:40:03 2011 +0100

    Revert some accidental things
    
    ... somehow slipped in.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f5854c89022991f76d813249104566d14e73801b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 2 20:36:06 2011 +0100

    tests: add gem_exec_faulting_reloc
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ab3f4bdafe60dede32a48674ef9920df090bf3a7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 2 18:41:34 2011 +0100

    tests: add gem_exec_bad_domains
    
    To check whether the kernel properly rejects non-gpu domains in
    relocs.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 783f16e328f331f92ef37b986b0f845c4ae23d98
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Dec 2 10:55:56 2011 +0100

    tests: add gem_tiled_pread_pwrite
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit eafdf50044f53e4b5eef222f6374c9ddba21e9da
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 1 14:33:53 2011 +0100

    improve README
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2e88c4ce34c0403df2301863efae4bf0a8699acb
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Nov 30 12:36:29 2011 +0100

    tests/gem_gtt_speed: Add modes that force that to the gtt domain
    
    No sane userspace doesn't upload data to the gpu without actually
    using it there ...
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4591d4ba7fe224289faa2b3b37052106d476a04f
Author: Paul Berry <stereotype441@gmail.com>
Date:   Wed Nov 30 09:47:56 2011 -0800

    Add missing executables to .gitignore.

commit 7af82bb0e5af670add67996ff8d6e890b9622a0c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Nov 27 02:39:14 2011 +0100

    tests: implement snb+ XY_SETUP_CLIP_BLT workaround
    
    Better safe than sorry.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 66b88b615cb5b1f483eb86d4623a5df0bbb2c1bf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Nov 27 01:55:42 2011 +0100

    tests/sysfs_edit_reader: posixify
    
    Debian's default sh complains ...
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8c7f8bcccbbb8cdd75aaa2f5084f7667f4279ea8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Nov 27 01:37:59 2011 +0100

    tests: properly terminate tests when values mismatch
    
    Not much use running them in the test rig otherwise.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2f56e9617703466aaac79c8763974cea6b233933
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Fri Nov 11 11:17:59 2011 -0200

    tests/gem_hang: fix copy-paste problem
    
    I suspect that we should do different things for different pipes..
    
    Spotted by Thomas Jarosh on #intel-gfx freenode.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit faf413d87556b9b76686ef9bf1e797e86e4b5129
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Thu Nov 10 11:27:27 2011 -0200

    tests: add a test for checking edid reading delays
    
    With base on EDID timing testing, when we take more than 1s to run
    xrandr command, something is wrong.. So add this test for testing the time
    we take to read the status of all the connectors from sysfs. It should do
    us an average picture of how long we'd take to run xrandr (roughtly 2x
    that value).
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 48186febf17490820dc089172c58526664255417
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Thu Nov 10 11:12:10 2011 -0200

    tests: add test for kernel segmentation fault
    
    As asked by Daniel Vetter, this is a tech which checks if we can cause
    division by zero in kernel by reading the i915_emon_status debugfs
    entry repeatably.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 31a4b13132d8d3c1c8e2d16205b9785f4e6bb48d
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Tue Nov 8 15:47:03 2011 -0200

    intel_gpu_top: use debugfs interface for forcewake
    
    Using debugfs facilities for forcewake-related stuff.
    
    Acked-by: Ben Widawsky <ben@bwidawsk.net>
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit f4ba3f529eace14bc3f4c3bf9fb2a0112d3632d5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 8 12:36:24 2011 +0100

    tests: disable pipe_control on i965g
    
    That hw is broken.
    
    Reported-by: Dave Airlie <airlied@gmail.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 402948624cb9a18da2a5bdf9c1905b9eb9fd22ee
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Nov 4 17:10:06 2011 +0000

    Call Arrandale gen5 not gen4.

commit 4c7c94ad98ac94a1f8fffbf2ffd79fc3bfcef647
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Nov 4 13:26:13 2011 +0000

    testdisplay: Round tiled allocations up to pot stride and fence size
    
    Be simple and use the strictest requirements from gen2/3 with old
    kernels so that this simply works everywhere.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=42585

commit 9c29be40bcb139ba57927fde954f66dcc4f0e6c8
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Nov 2 12:57:40 2011 -0700

    testdisplay: find planes for each pipe
    
    Fixes a bug where we were masking against the wrong value.

commit 3afb7b22d6388d13e7af293baa98cad6c3226aec
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Nov 2 12:57:20 2011 -0700

    testdisplay: update to new addfb2 definition

commit 6f7e6c91009000ad4614609a4b2ebd0bf69ec751
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 1 17:20:01 2011 +0100

    cargo-cult the build system into shape
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 593cb1874a7929909773ec5d95e4b1911ff27918
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 1 17:04:44 2011 +0100

    always require libdrm
    
    ... and also add the missing files to lib/Makefile.am
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 37c64007345d4cf949746dd64b150162053de7cf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 1 12:10:35 2011 +0100

    tests/gem_tiled_pread: fixup detiler for gen2
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6b4f5c7ad84cac32151e9acd0c1692b74cf33fb2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Nov 1 11:52:53 2011 +0100

    tests/gem_largeobject: accomodate for puny apertures
    
    ... like on my i855gm.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7c8d41f4d959ee5f09c76272589f4e9b7872af52
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Oct 31 17:19:54 2011 -0700

    i-g-t/debugger - make the debugger work with distcheck
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 15830ea54be914b1f4005154b2dcba52fa6b6120
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Oct 31 13:36:50 2011 -0700

    i-g-t/debugger: Only allow the shader debugger if the user has specified a gen4asm
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit 32910231514d938be269c3b087f0d444709b0466
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 31 23:19:08 2011 +0100

    tests: mark gem_bad_address as HANG
    
    Kills my little i855gm.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit efd3a5d0b595b0e7f3a8a66fc61ecd67f4af8699
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 31 17:40:37 2011 +0100

    tests/debugfs_reader: fight bashism
    
    debian's dash doesn't like this.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cc85c4efb719f31812947616dad3c6e00af5a001
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 31 16:08:02 2011 +0100

    tests: actually add the drm client check script
    
    Ooops.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d4cc95b4578d2010cf6fecb6bb833c8dd83651b5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 31 16:04:34 2011 +0100

    tests: check for other drm clients
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 899496ba414067c72bbfb2dcdbf835977338db26
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 30 23:20:12 2011 +0100

    tests/gem_bad_length: disable broken batchbuffer
    
    Submitting random crap hangs the gpu. Suprise!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 20ff3839e448ba383b73a227889445a35d197cdc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 30 22:27:19 2011 +0100

    tests: don't run kernel check from make check
    
    Add a new target test for that.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 931aa17754bad046f9a1d870894468527cb10c17
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 30 22:04:39 2011 +0100

    tools: script to gather bug report data
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 91b3c7f3338370538feeb080c79a1f506823dee5
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 30 21:24:12 2011 +0100

    make distcheck fixes
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f361664df024e7d30ef94221304207991c2ebb6c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 30 20:51:03 2011 +0100

    tests: add test to read all debugfs files
    
    Catches a bunch of forcewake warnings on snb+
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5b8bbc950d411ea30ebe14e6d001f1eb3204f8b1
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 30 20:45:42 2011 +0100

    testdisplay: compile fix for !DRM_PLANES
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5ef806bb5d4767eeeb6ec926b8af7044c98d47a0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 28 17:39:14 2011 +0200

    tests: add gem_unref_active_buffers
    
    The crucial trick to reproduce the bug is that we need to have
    a decent pile of active bos to retire. Because we unref the bo
    after having it moved off the active list, our recursion depth
    in fdo bug #42180 is limited by the number of active objects that
    can retire at the same time.
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=42180
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f4c37a6e91c74553afe3e67ac5e4703c85e6dbc
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Fri Oct 28 05:25:53 2011 +0200

    testdisplay: allow overlay plane to be moved & scaled at runtime
    
    For additional testing.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 2b484c16dd477bfe35e41a52f6a47ae8f9ae28d0
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Fri Oct 28 08:53:48 2011 -0700

    intel_reg_dumper: handle 3 pipe configs when dumping HDMI config
    
    Could be on pipe A, B, or C.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 234b5c40b13f3fd211bff07a046aee00611e1a4f
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu Oct 27 17:47:58 2011 -0700

    testdisplay: add stub disable_planes() function
    
    To fix the compile with non-plane libdrms.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 28d1be3f9bca0ef5fb87d5c8c45d71f7e94a4e2c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 25 12:24:17 2011 +0200

    tools/decode: decode XY_SCANLINES_BLT

commit c2657e865f5c87a8ac64f75a560b6c0f01fe1a0d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 25 12:15:27 2011 +0200

    tools/decode: decode XY_SETUP_* cmds
    
    And extract decode code for br00 and br01.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 24e60385febe8ce603a233c617cdcc5b3d3ea9ba
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Oct 24 17:15:34 2011 +0200

    testdisplay: add sprite scaling and location support
    
    Allow testdisplay to locate the sprite on the screen and potentially
    scale it using different crtc width/height vs the source width/height
    (determined by the resolution on the target pipe).
    
    Also fix exit, making sure we properly disable all the planes.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuougseek.org>

commit d510953ef38de7017c87688b3f4f5a7924097488
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 21 19:06:08 2011 +0200

    tools/intel_error_decode: decode gen4+ fences
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 982d14e34b978b318ba0d92dd25d5b791375d0f3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Oct 21 10:09:14 2011 +0200

    tools/decode: properly decode gen6+ PIPE_CONTROL flags
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e0b264573074debc0b97b3d13f60de4c2c21186b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 18 14:05:54 2011 +0100

    top: Avoid FPE by removing meaningless metric

commit d2c95d118310374e5d0958b2cd85bc77479b307a
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Sep 23 14:47:44 2011 -0700

    intel_reg_checker: New tool to accumulate checks for HW workarounds.
    
    The goal of this tool is to be usable as a test for whether something
    (suspend/resume, GPU reset, bugs, whatever) may have lost various
    required hardware setup specified in the docs.
    
    Reviewed-By: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 5801e6b9118c5209f2e44e581776e1b078164f46
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 18 16:30:56 2011 +0200

    intel/decode: print out chipset gen
    
    ... instead of i965+ for almost everything that Intel is still selling.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 92b1f2c96eaf51a793a267fa66fa0cc0b960de11
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 18 15:54:31 2011 +0200

    tools/decode: don't move around the display register section
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6ed89f47ecefb334be6fd8a80d8e6f26ddc059f6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 18 15:49:41 2011 +0200

    tools/decode: don't forget to print the name of the last ring
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e98f308994711b3bc22d70c782bdf800eb253a0f
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Oct 17 17:48:18 2011 -0200

    Allow intel_dump_decode to read data from stdin.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit f312f89f4ae65ee969ec30657724b1fd5a1ebd44
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Oct 17 19:41:42 2011 +0200

    tools/intel_dump_decode: make devid parsing more useful
    
    We use hex for these!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 73c2104070fc0e2cd8230075a75eed3a214bba06
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Oct 11 13:14:02 2011 +0200

    tools/decode: retain the ring name
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1c6511f7fb9b0117d2a1f4ebe489e5a0221c6d7b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Oct 16 21:13:34 2011 +0200

    tests: add gem_hangcheck_forcewake
    
    Provokes the forcewake warning when the hangcheck runs and no
    one waits for the gpu (and hence holds the dev->struct_mutex).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2e9e27ce6b7b7cb2db39590265d08bd19386855d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Oct 15 13:46:19 2011 +0200

    tests/gem_fence_trash: some retuning
    
    We actually want to test lru behaviour, so do a bit of work with
    the fence before yielding to the next thread (we use twice as many
    fences as there are, so yielding always is pretty bad, no matter how
    clever our fence stealing).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b75451838a0b4315fa9494691c1615bce178d424
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Oct 15 13:09:36 2011 +0200

    tests/gem_*_blits: reduce buffer count to not trash swap
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 62c542fd4e7f47d5216785e9a13054ce56973f28
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Fri Oct 14 15:26:13 2011 -0300

    Allow to output statistics to stdout.
    
    This allows intel_gpu_top to run both in statistics-collecting mode
    (collecting the per-ring statistics in gnuplot-friendly format) and
    ncurses top-like mode at the same time.
    
    It also allows to output the statistics directly to stdout, by using "-o
    -", so the results can be parsed directly via a popen() parsing.
    
    If you are using intel_gpu_top as previously (without any command-line
    arguments), it should change nothing for you. If you were using its
    logging facilities (e.g., the '-o file'), note that the logging will keep
    running, but the detailed top-like interface will be on the screen at the
    same time.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit eaaddc794bade33e0d7b0c94406102c9814c2c05
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 11 18:25:26 2011 -0400

    bios_reader: Allow forcing the device ID with DEVICE=0xNNNN
    
    As a pleasant side effect you can now feed it an opregion dump and it'll
    decode without crashing.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 1708580217ed403f0abd086f15baddf98cb0fb5a
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Oct 11 11:37:25 2011 -0700

    intel_reg_dumper: use none instead of NULL if no port is assigned to TRANS_DP
    
    Makes the output a little more readable.

commit 503cfa2707bca2c06895f51d50fa38218ff16aa7
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Oct 10 11:24:42 2011 -0700

    Treat PPT like CPT as we do in the kernel
    
    Set the pch type to CPT if we detect a PPT as well.

commit af6a25c187a0f1a340fad71bb1a019e087e2b1ae
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 28 10:05:56 2011 +0200

    tests: disable storedw tests on !render
    
    According to docs, this should work with ppgtt and just convert to
    noops otherwise. In reality, it hangs the machine.
    
    So just disable these for the moment.
    
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a2dfbbf3e70767bc4c67c18c9c14ab4f9646155e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 28 10:02:57 2011 +0200

    tools/decode: add missing shift to MI_SEM_MBOX decoder
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 17ceccedbf8c09368b72ecc4afe12f0d1e63837e
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Fri Sep 16 18:06:27 2011 -0300

    testdisplay: return 0 when successful
    
    We use the "ret" variable to check function return values, and these
    values are not necessarily 0 on the successful cases, so we need to
    reset "ret" after we finish using it.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a167425b39c01a729ed3b2ef5a1d17e83edb720f
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:18:40 2011 -0300

    getstats: remove useless assertion
    
    getstats.c:48:2: warning: comparison of unsigned expression >= 0 is
    always true
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ca2800f1d4d352304dccd33e9ab5c0e27e89a05a
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:17:46 2011 -0300

    drm_open_any: explain why we are abort()ing
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    [danvet: pimped error msg]
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3ba12bbb2faf6cfd87eea96edf761f16ef8c4ab1
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:16:33 2011 -0300

    testdisplay: remove wrong return statement
    
    It seems that the kernel patches required by the TEST_PLANES feature are
    still not upstream, so I didn't test this patch.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7ead7ba3e6bcfa59203d63ac3cc66432853e02de
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:14:18 2011 -0300

    testdisplay: don't enter the main loop if dump_info or test_all_modes
    
    If calls inside update_display fail, the function returns and we don't
    quit the program if dump_info or test_all_modes. So we enter the main
    loop and keep waiting for user input, even on cases where we are not
    supposed to require user input. To fix this, we move the check to
    outside the update_display function.  As a side effect, we also do
    cleanup instead of just exit(0) and we return 1 in case update_display
    failed.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9fe1148c4b20cb80c86c64a81c4594d152d20be7
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:13:41 2011 -0300

    testdisplay: test all modes if no option is provided
    
    Previously, when called without any arguments, the application required
    user input to finish.  However, testdisplay is ran by "make check", and
    it is not a good idea to run a program that requires user input in "make
    check". So we change the default behavior to something that doesn't
    require user input. You can still access the previous behavior using the
    "-m" argument.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e450cf6d8aefc99bf9300092d50bae0d927490a1
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:12:48 2011 -0300

    Add missing files to .gitignore
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 19fef544ebcd7358633db56027f893cacca7ef88
Author: Paulo Zanoni <paulo.r.zanoni@intel.com>
Date:   Thu Sep 15 15:10:52 2011 -0300

    testdisplay: fix compiler warnings
    
    testdisplay.c:117:1: warning: comparison between signed and unsigned
    integer expressions
    testdisplay.c:125:1: warning: comparison between signed and unsigned
    integer expressions
    testdisplay.c:145:1: warning: comparison between signed and unsigned
    integer expressions
    testdisplay.c:1060:16: warning: comparison between signed and unsigned
    integer expressions
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 733a1d9f3441eec77c272648d0df7eea010b8f44
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 15 18:47:21 2011 +0200

    tests/gem_mmap_gtt: also test gtt pwrite paths
    
    This needs a properly pre-faulted dst bo.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ba2255a7e41cade707af36d3de0a59fbb41245e9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 14 14:58:55 2011 +0200

    tests: build all tests by default
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d6ac159ba18756a63d22bf84be72e433d9ec04d2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 14 14:48:45 2011 +0200

    tests: separate testcases in gem_bad_length
    
    Creating a zero-length bo should fail, so check that. Still run
    the minimal batchbuffer, but without the zero-length reloc.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2c380c2eac0562a5e8ebc1ed8aeca2192f60e885
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 14 11:06:03 2011 +0200

    tests: disable gem_bad_blit
    
    Hangs gen3 and simply writes garbage into the unmappable part of
    gtt on gen4+, which might cause issues later on.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bbe635f0dc67e40fde1efb221b7e550952ad8a84
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 13 20:57:04 2011 +0200

    tests/gem_bad_length: dont throw garbage at the gpu
    
    It doesn't like it. Really.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a5abe177468f3c1c93f869a7c33712c63b023f65
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Sep 13 08:54:33 2011 -0700

    intel: we don't do distcheck for the debugger

commit f91e2c2b7e5e7fd79ba4be3051914e4453d292d8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 13 17:20:12 2011 +0200

    intel_gpu_dump: really kill it
    
    This is getting a bit hilarious ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c7a98ae2515e39a54c35bf3da978fec7f4b1235c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 13 12:05:58 2011 +0200

    intel_gpu_dump: also kill manpage
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8d9792ce23087ac4cbee17fb93f9a75030abc7c6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 13 11:43:06 2011 +0200

    tools: remove intel_gpu_dump
    
    Superseded by the kernel's i915_error_state dumping facility.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e855dc222368f76b80b6685dcaa731b00ee1a0d6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 13 11:41:42 2011 +0200

    tools: beef up intel_dump_decode
    
    - now also handles ascii dumps like i915_ringbuffer_data
    - getoptified
    - totally lazy binary detector
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 19d69955d2827ccf56c65d97a921e5c70f125ca0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 13 11:05:13 2011 +0200

    tests: exit(77) to properly mark tests as SKIP
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 21ec8c78b3b8860b59e772416b5858ed6b41554f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 12 20:56:13 2011 +0200

    tests: mark gen3-only tests as such
    
    ... instead of hanging the gpu.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit b8245e18fe6a80e55aa0ece17d6b3a0cf3b1182c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 12 20:45:06 2011 +0200

    tests: add basic test for missed irqs
    
    Didn't catch any known bug, but can't hurt.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fbf8950f6e04e5e000f1f099d75536d8e4fe0cad
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 7 09:31:00 2011 +0200

    tests: check pipe_control coherency
    
    v2: proper support for gen6+
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bf9f149a6d24355dd5959d3ad750678c4e1cd4b6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Sep 12 20:33:58 2011 +0200

    tools: add intel_gen
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 61b9806f4e7b92031491f2c4b3454c1f3afe418c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 9 20:44:27 2011 +0200

    tests: basic ring<->cpu and ring<->ring tests
    
    Using a dummy reloc that doesn't matter to trick the kernel into
    synchroizing the rings.
    
    v2: properly apply MI_NOOP workaround to MI_FLUSH_DW and
    switch to MI_COND_BATCH_BUFFER_END as a dummy command on the
    render ring to avoid PIPE_CONTROL errata.
    
    v3: somebody clever decided that in C, you cound from 1,
    i.e. I915_EXEC_RENDER == 1. It works now ...
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 32f49c7c0d91318c1993e381855ecf4bb02abc80
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Sep 8 10:50:37 2011 +0200

    tests: split up gem_storedw_loop into ring specific variations
    
    Also start to shortly explain testcases with an easily-greppable
    header like this:
    
    /*
     * Testcase:
     *
     * [Possible further explanation.]
     *
     */
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d1aae145a7d76775f9903f8dbba9a0d2bd8118bd
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 7 10:18:06 2011 +0200

    tests/gem_storedw: disable on pre-gen6
    
    Doesn't work.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d42b7f9189680de4f137cae248ddb67f2310a26f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Sep 7 09:20:36 2011 +0200

    lib/batch: hackish interface to run batches on specific rings
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 49cd753a77ab8ed9194f0e3ac2b5eadc803ef165
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 6 21:16:21 2011 +0200

    test/gem_storedw_*: tune some more
    
    MI_*/PIPE_CONTROL writes need to be in DOMAIN_INSTRUCTION, because
    that is what mesa uses and I plan to use this to work around a
    gen6 ppgtt issue.
    
    Also testing with intentionally b0rked GFX_MODE on my snb shows that
    we need to increase the loop counter a bit to reliably hit the tlb
    invalidation problem. Test still completes within a few seconds.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2a0b3488a0f3a715d2d654858ba0a638d71366c7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 9 17:22:28 2011 +0200

    tools: decode some more MI_ ops
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 206e129af067b7a898515d8c26acc319e5c5f445
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Sep 9 10:10:07 2011 +0200

    tools: decode MI_SEMAPHORE_MBOX
    
    Juggle the length check up to avoid duplication.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 079f8390309d9dc59197f04cafbcbda6c711c346
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Sep 6 20:54:16 2011 +0200

    tools/intel_gpu_dump: add hackish --devid parsing
    
    For bugreports and whatnotelse.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2a7778d4e3f4730572e4f22c39c85787daa73469
Author: Paulo Zanoni <przanoni@gmail.com>
Date:   Wed Aug 24 14:57:31 2011 -0300

    gem_vmap_blits: fix compilation if I915_PARAM_HAS_VMAP is not defined
    
    Previously, "make check" failed because the main() function was not
    defined.
    
    Signed-off-by: Paulo Zanoni <paulo.r.zanoni@intel.com>
    Tested-By: Eugeni Dodonov <eugeni.dodonov@intel.com>
    Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 15cb28218786ae80101ad0f6cc5a21c1ad9e8d3e
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 20:04:17 2011 -0300

    intel_gpu_top: access hardware before running profiling command
    
    Without this patch, intel_gpu_top will try to get access to the hardware
    after running the profiling command in the background. In case such access
    fails, the main process quits, but the background one will continue
    running.
    
    So let's move this test up, so it is done before we fork.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 8ad08546e5d6189d2c778b6175e97b486332d37e
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 19:59:40 2011 -0300

    intel_gpu_tools: describe -e option in usage screen
    
    This patch adds a short description of '-e' option to the usage screen.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit b9d7c3a087f0973bd98af02955082b9140d90c11
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 19:50:52 2011 -0300

    intel_gpu_top: adopt to kernel coding style
    
    This patch fixes adopts the code to the kernel coding_style.

commit a483c97d910d18b0626591f770d212ca97e2f7a1
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 19:41:24 2011 -0300

    intel_gpu_top: support profiling user-specified commands
    
    This patch adds support for running intel_gpu_top to profile specific
    commands. The required command will be carried out in separate process,
    and main intel_gpu_top will leave when the child process will exit.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit c2983f24e34936fd9e0d513922af70485d579e61
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 19:39:58 2011 -0300

    intel_gpu_top: support non-interactive mode
    
    This patch adds support for non-interactive mode, invoked by running with
    '-o output' switch. In this case, no interactive output is being
    performed, but the execution statistics are being saved into the output
    file.
    
    The output file is generated in both human and gnuplot-readable format.
    
    Unlike interactive mode, where non-supported pipes and non-active
    registers are skipped, the content of such pipes and registers is recorded
    into the log file to simplify parsing and standardize the list of columns.
    
    Also, unlike interactive mode, the registers are not sorted according to
    the usage - this way, their variation over time can be analysed offline.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 83047e9a5e7563bb7dd7085de5f27b55d3c2f16e
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 19:35:44 2011 -0300

    This patch initializes the last_stats[] for registers prior to starting
    the monitoring itself. This way, the first measure will already contain
    the difference from the previous value instead of non-initialized value.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit f11f8d9aac77051a071b215910832b020d959858
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 19:33:40 2011 -0300

    Revert "intel_gpu_top: initialize monitoring statistics at startup"
    
    This reverts commit 431fe7803d37f344275fdaceb57c1fbaeee8541c.
    
    Will be replaced with more fine-grained commits.

commit 431fe7803d37f344275fdaceb57c1fbaeee8541c
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 16:33:04 2011 -0300

    intel_gpu_top: initialize monitoring statistics at startup
    
    This patch initializes the last_stats[] for registers prior to starting
    the monitoring itself. This way, the first measure will already contain
    the difference from the previous value instead of non-initialized value.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 4b0a15e45d1823888cfed9a76e54036658ab8e61
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 16:29:39 2011 -0300

    intel_gpu_tool: initial support for non-screen output
    
    This patch adds initial support for non-stdio output, to be used for
    non-interactive monitoring.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 09e4b0cd26e800c203c1de071b83d879a09bb0dc
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 16:23:11 2011 -0300

    intel_gpu_top: suport command line parameters and variable samples per
    second
    
    This patch adds support for getopt, and adds two default parameters to it:
    -h to show usage notes; and -s to allow user to define number of samples
    to acquire per second.
    
    Manpage documentation is also adjusted accordingly.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 6194c75c8f438d13f6535d70009658851929f39e
Author: Eugeni Dodonov <eugeni.dodonov@intel.com>
Date:   Mon Sep 5 15:31:17 2011 -0300

    intel_gpu_top: account for time spent in syscalls
    
    This allows intel_gpu_top to properly account for time spent inside system
    calls. Effectively, with previous implementation, intel_gpu_top could
    spent longer than 1s between consecutive measures. This attempts to
    minimize the extra time spent while polling for data.
    
    Signed-off-by: Eugeni Dodonov <eugeni.dodonov@intel.com>

commit 922214f9869220373c3768cfcbd0e243e6ac07b6
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Fri Aug 12 12:51:34 2011 -0700

    tests: add store dword tests
    
    Add a couple of simple store dword tests to test memory coherence.
    
    gem_storedw_loop simply executes a batch that continually stores an
    incremented value to a target buffer object, checking the results after
    each batch completes.
    
    gem_storedw_batches_loop does the same thing, but creates a new command
    batch buffer for each iteration, which can exercise the buffer creation
    code.  This test is based on one from Andrzej Kacprowski from Intel.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit 6857a1af816e18981515b942faaba65e85c40cc5
Author: Hai Lan <hai.lan@intel.com>
Date:   Fri Aug 5 00:47:25 2011 -0400

    testdisplay: for tiled mode test, the height should be aligned
    
    Signed-off-by: Hai Lan <hai.lan@intel.com>

commit e40c9c7faf7303201b8fbe8ff1ed1b17533d3c50
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 1 10:39:51 2011 -0700

    Add missing copyright info to intel_decode.c

commit 3b10b7bd5a8ce60aef06df5e61f0a0c30fb0fa10
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jul 28 14:58:24 2011 -0700

    tools: readme addition for shader debugging

commit d0a7e0ab5a19b2f04f2692ec0e8874056c9b2d32
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jul 28 15:07:28 2011 -0700

    tools/range handing: forgot the register map file :(

commit 62873796c4a96554cc139e9aa49e25ce19cd65cd
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Fri Jun 24 11:42:03 2011 -0700

    intel-gpu-tools/debugging: shader debugger
    
    high level summary of the files:
      * debug_rdata - get current state from debug registers. Helpful
        when developing the debugger, and could serve some purpose in the
        future.
      * eudb - the debugger itself
      * eviction_macro - generate the proper macro to flush the EU render
        cache until I get control flow working
      * pre_cpp - an evaluating c preprocesser like thing, to be used before
        cpp
      * sr - the system routine, exception handler which runs on the EU
      * test - a very basic test system routine
      * debug.h

commit e39b13d7e4174ec50fd41d74fe8d3375c8ef2850
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Sun Jul 17 12:43:12 2011 -0700

    intel-gpu-tools/debugging: add important debug regs
    
    Cc: Chris Wilson <chris@chris-wilson.co.uk>

commit c82c1d68469ae99b40fa260a1b4c4debb9130515
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Tue Jun 14 11:00:30 2011 -0700

    intel-gpu-tools/forcewaked: sample forcewake app
    
    This app is required for debug features which seem to (undocumented)
    reset themselves if/when the GT goes to sleep.
    
    It is also useful for those doing general debugging or profiling from
    userspace when they do not wish to have the GT sleep.
    
    v2: made forcewaked more daemon-like
    
    Cc: Chris Wilson <chris@chris-wilson.co.uk>

commit abd7038e5a814bb29398d6ea259815b293c62a2b
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jul 28 13:42:45 2011 -0700

    intel-gpu-tools/range handling: register range handling
    
    Hooks to allow safe accesses from userspace. Can revert to old behavior
    by using unsafe access.

commit cac8f8b52621f246a7cff412f340a7db28cb1b99
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Thu Jul 28 13:40:19 2011 -0700

    forcewake: Add mmio code to do proper forcewake stuff for gen6

commit 294927c601bf1af05d718e0b1ca092f9c8c8e19e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jul 20 20:40:13 2011 +0100

    Add intel_backlight
    
    A trivial tool to adjust the backlight registers (gen5+ only atm).
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 30ffcc34ea6bae238671c042d718ae7f05853022
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jul 20 20:39:56 2011 +0100

    intel_decode: Handle a few gen7 blocks

commit 74670c7bb9968a99d75a97c3677b15110281c94d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Jul 17 23:33:27 2011 +0200

    gem_stress: ducttaping mandatory
    
    In other news: We've been missing a unmapping_mapping_range somewhere
    in the kernel. But lazy me never came around to digging up the real
    cause.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6cc92bcbc5301e79a9afa8f3dcbc73ec770be034
Author: Hai Lan <hai.lan@intel.com>
Date:   Tue May 31 17:13:30 2011 -0400

    testdisplay: Test the first mode if there is no preferred mode.
    
    For a TV device, there  might be no preferred mode. In this case,
    we can test the first mode.
    
    Signed-off-by: Hai Lan <hai.lan@intel.com>

commit 25b25b907d8d6dc309c23fde136c35d4daee2643
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jul 8 15:01:39 2011 +0100

    tests/gem_vmap_blits: Fix typo
    
    Why, oh why, do these only become obvious after pushing upstream?
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4c0176e49700401a568d592865d6f53649075ca7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jul 8 14:55:36 2011 +0100

    intel_reg_dumper: Slightly tidy the reporting of pipe configs
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a0a0b6ab34f4413cc911d6e9b60e831f72a1e11a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jul 8 14:54:32 2011 +0100

    Add a test case for coherency of vmaps
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 75f7e81fbc65cd67500f0795228f6e03619e3a49
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 25 14:49:40 2011 +0100

    gem_stress: Assert we have no pending ops when using the CPU
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f40d54e132f84efa28b29723f90537e4731c6c92
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 25 14:40:38 2011 +0100

    gem_gtt_speed: Add option for variable buffer size

commit 4227da8c3cc6417c9d9600bddac938759f01ae03
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jul 2 08:59:32 2011 +0100

    gem_stress: Add an option to test handling of signals
    
    As signals cause the syscalls to be interrupted, we often need to clean
    up partial state before returning to userspace. Often a source of
    unamusing bugs, so encourage gem_stress to provoke them.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8908055da6a484058caa92c3c2ba3221cb9ce9d9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jun 23 14:04:35 2011 +0100

    tests: Add an exercise for zero-length buffers
    
    Triggers an OOPS with dmar enabled currently.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9de433a471a0bf829a8143658e6b8d07fa896454
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Jun 20 13:53:12 2011 +0100

    tests: Add a simple exercise of GTT mmaps
    
    Test copying between 2 mappings and reading/writing from and to.
    
    References: https://bugs.freedesktop.org/show_bug.cgi?id=38115
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 336f85dafb6b11f24353544e12d4ddd7f1c10a73
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 13 22:02:52 2011 +0200

    gem_stress: some stats about incoherencies
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 10079566805f5d48edb09f7a9ed3fdea0ecee004
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 13 20:14:53 2011 +0200

    gem_stress: option to disable render copyfunc check
    
    Too noisy - which is an another way of saying too broken :(
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 5b253cee37b610a14d4d48a8bdde0df5a932be88
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 13 20:09:38 2011 +0200

    gem_stress: option for tile_size
    
    I want to know how large these corruptions can get!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit c0f34338e7bb3be473ff3afe70e17afbaa3a7958
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 13 13:18:35 2011 +0200

    gem_stress: option to set tiles per buffer
    
    gem_stress -p1 is much more evil than gem_stress -c1, it also manages
    to tear appart untiled workloads!
    
    Now duct-taping over it still works (--apply-duct-tape) ... hm.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6daa883fa3cf08363912fd46bce49177a3fa7c82
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 13 00:22:01 2011 +0200

    gem_stress: option to continue despite failures
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9649dd7ef0bc55a027219347734b2bb13fe0fc71
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Jun 7 22:30:03 2011 +0200

    gem_stress: option to override the number of rounds to complete
    
    gem_stress -c 1
    
    ... sometimes takes a while to hit a problem.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit e0532d4eb0192f62d2fed29a67b830f122f356c2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Jun 8 12:13:46 2011 +0100

    scripts: Add throttle.py
    
    Parses a trace.dat and works out how long each throttle was and how many
    batches retired within that period (and their average duration).
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e235f932883316953a9b7a5bcc76ea3b775c3695
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jun 7 13:32:37 2011 -0700

    testdisplay: automatically enable TEST_PLANES if possible
    
    Just look for the ADDFB2 ioctl and enable the new code if it exists.

commit 8969b839b544e73a9242adb025562b1dc9ec5916
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jun 7 13:28:19 2011 -0700

    testdisplay: fix error output if test pattern draw fails

commit b707feb9d51bb3a2e7eb5f172afeae2ef13381e1
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jun 7 13:27:35 2011 -0700

    testdisplay: add tiled buffer test support
    
    Useful for testing tiled vs linear framebuffers.

commit 7230c0142115b2ed6460e1b95cef97c0954b56c5
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Jun 7 13:17:46 2011 -0700

    testdisplay: add overlay plane test option
    
    Enumerate available extra planes and try to use one on each CRTC we enable.

commit 3ddc799fbf04e1c7c482c0879aa506c3c7a12c04
Author: Lan, Hai <hai.lan@intel.com>
Date:   Mon Jun 6 19:16:26 2011 -0700

    testdisplay: fix possible_crtcs check so LVDS works
    
    When using testdisplay on GM965 and Pineview with LVDS, it will fail to
    set a mode because the first unused crtc can't be used for LVDS.  So
    check the possible_crtcs to make sure the crtc can be used.
    
    Signed-off-by: Hai Lan <hai.lan@intel.com>

commit 1095a825c0acaecf51f97741eacf14acd9bf901e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 6 20:16:35 2011 +0200

    gem_stress: avoid division by 0
    
    Without this height would be 16 with the minimal buffer size.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit fde66f9bf4de6240422e64b24dd1a74577cd6128
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 6 20:15:44 2011 +0200

    gem_stress: disable fence storm when only using untiled buffers
    
    This explains why gem_stress -u worked beforehand - the rendercpy
    was not actually used!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 7250328bb8b3d524cd39dee3fd48b6e17e3af24e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Jun 6 18:59:54 2011 +0200

    gem_stress: round max_dimension down to the next pot
    
    Creates funny rounding problems otherwise.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 3d66d913d9165f59e39952a41b41461b2329c9c1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 21:53:49 2011 +0100

    gem_stress: trim buffer sizes to fit into 3D pipeline
    
    Remember the 3D pipeline is much more restricted than the BLT engine,
    and we were feeding it buffers much larger than either the
    render engine or the sampler could manager.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2933547eb0d22cb70c783a78ab3d7b4dcc5972ce
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 21:35:34 2011 +0100

    gem_stress: cpu maps force tiling to be disabled, so fix the printf
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit bfa23b47a57a89eb8adcde32ffe2849f0d2aac2e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 21:34:07 2011 +0100

    gem_stress: Add extra passes to intial render copyfunc verification
    
    ...and allow for cpu maps!

commit e7119c2e3bf73bd1029a668d167c16a0949fef70
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 19:10:14 2011 +0100

    test/gen3_mixed_blits: Remember that the BLT engine cannot handle Y-tiling
    
    ...even through a fence that can.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6f6cd8191392a9b6c5805524cbe3fd62937f76bb
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 18:05:28 2011 +0100

    test/gen3_mixed_blits: Alternately use fence regs for the render copies
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 853d729598fddce3f1814cd7fc5e1020147b3f34
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 17:45:28 2011 +0100

    test/gen3_mixed_blits: Acutally use fences for BLT
    
    Gah, in my excitement of reproducing the failure reported by
    gem_stress, I missed using fenced relocs for the BLT.
    
    Fortunately, it doesn't affect the presence of the error.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit aadfcdfd4edbaa7f9912a6ec42215ddb6726c74a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 18:13:18 2011 +0100

    decode: Fix segmentation fault
    
    The decode for A8 is incomplete and died with a segfault. First hide the
    segfault, latter fix the pretty printing.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f5e63b12a5881d112f8c757838167e05e1c13b88
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 17:23:09 2011 +0100

    test: Add more gen3 render blitters
    
    ... and we have a winner: gen3_mixed_blits reproduces the issue Daniel
    Vetter originally found. It seems clear that we have some incoherence
    between the RENDER and BLT units on gen3 that no amount of MI_FLUSH can
    hide. Hmmm....
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 20b69039e816ed44ef30048c81a76def7028f0ba
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jun 5 11:20:34 2011 +0100

    test: Exercise gen3 render copies
    
    gem_stress is unhappy with tiled render copies on gen3. This is a simple
    little test to ensure that a set of pure copies with a working set
    larger than the aperture are handled correctly.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3ca054c2259483f27ffaabd786215ea82a66f78f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jun 4 21:41:11 2011 +0100

    tests: Add a fenced execbuffer thrash test
    
    Exercise a nasty corner-case in the reservation logic for the fence
    accounting.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 91f609741d7497c4bcc113e74028f9c4948d8b48
Author: Sun Yi <yi.sun@intel.com>
Date:   Mon May 30 18:20:30 2011 -0700

    testdisplay: print pixel clock in mode debug output
    
    Print the pixel clock of each mode.

commit 9b325c8a864efce172bdfaf82e251284f115e263
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 25 13:42:29 2011 +0100

    Update gitignore
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4e1f2f5957d47458c39b7b32fcdacf2b5411d6b1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed May 25 13:41:28 2011 +0100

    gem_stress: '-b' option to disable BLT copyfunc
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 719ffef7c39386c453614bc71e1af97904d3671b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun May 22 10:34:12 2011 +0100

    gem_stress: Add render copyfunc for SandyBridge
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d73cdde45afc41fb7b36829eda1af763af682ada
Author: Eric Anholt <eric@anholt.net>
Date:   Fri May 6 12:15:50 2011 -0700

    Add Ivybridge support to intel_gpu_dump and the BLT tests.

commit a825173a5f2154b0491f7b5554c10ab7146b4592
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu May 12 17:49:07 2011 -0700

    testdisplay: add 30bpp support (#ifdef'd out until the next cairo release)

commit a09dd09e00561739a10c83eb25ee9443f8bf79f6
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue May 10 17:21:12 2011 -0700

    Add Ivybridge device IDs
    
    Makes the reg dumper work better.

commit 12de60a5e8db990c173b21857fe68ff74daa5679
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed May 4 14:55:32 2011 -0700

    testdisplay: don't read hotplug events from buffer before libudev
    
    Otherwise we'll just block rather than trying to update the display.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>

commit b11d67a33baca467bebd53bf605bdeeee1f31e26
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Apr 27 22:13:29 2011 +0200

    gem_stress: option to use cpu mappings
    
    This things just won't die (libva!!!), so add an option to test them.
    
    _Not_ meant to test snoopable mappings.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 9bfda1a809b6606e06bb96158cc103e12428e9c2
Author: Hai Lan <hai.lan@intel.com>
Date:   Tue Apr 26 11:03:39 2011 +0800

    Fix a bug of testing preferred mode
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c56cd106f969d223b17e7d9a6113e63d6befd9bc
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Apr 19 11:50:16 2011 -0700

    testdisplay: add non-24 bit depth support
    
    Testing 16bpp is useful, and 30bpp will be added once cairo supports it.

commit 0d3043f5f3cb7265e297a4e8386c7c0b2ec97d2d
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Apr 18 16:48:27 2011 -0700

    testdisplay: paint color gradients
    
    Helps identify dithering problems.

commit a67091b220bd50ea4c1a6aaecbac816bbf331fcf
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 12 22:26:42 2011 +0200

    gem_stress: option to only use x-tiling
    
    This seems to be another trick to massively improve correctness
    of the render blit. At least on my i945.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f70a717482823e69637b4d91e216ae5756f07e0d
Author: Ben Widawsky <ben@bwidawsk.net>
Date:   Mon Apr 11 08:47:11 2011 -0700

    Add C99 requirement to autoconf.
    
    snprintf is part of the C99 standard and is used in many places in the
    tools.
    
    Signed-off-by: Ben Widawsky <ben@bwidawsk.net>

commit afa940c39844f565d396b51deb6fd6e564751e49
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Apr 9 20:15:10 2011 +0200

    Disable gem tests when libdrm is not available
    
    Quickly checked on ppc by Cyril Brulebois.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1c9ede3acbf62eab60e6f949a759e9e2e2e1014b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Apr 5 21:14:54 2011 +0200

    intel_decode: drop unused code
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 841c551f12a522b8fdfbe2233ed1b8baa2f1c146
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Apr 5 08:52:52 2011 +0100

    decode: Correct a couple of mistakes in gen3 IMMEDIATE_STATE_1
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e68652cad6ec46b8dacbf5360f20dd03afab3ec9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Apr 4 22:10:21 2011 +0200

    gem_stress: option to disable tiling
    
    Of all the things I've tried, this seems to be the only thing
    to fix tile corruptions reliably on gen2&gen3 (safe for outright
    disabling the render copy).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 272c8988079ce867f92bdf5df85f27ca46d15f27
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Apr 4 21:24:58 2011 +0200

    gem_stress: clean up fence_storm
    
    That little snippet creapt in and magically made render copy work -
    by essentially disabling it.
    
    Restore order, everything incoherent again.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit aeb0b6f33c56766cf269e798742cb793ee4dcd5e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Apr 3 13:10:07 2011 +0200

    gem_stress: extract emit_blt
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 4fcfc9f1020aad07060569be3fcedf446ff2d58f
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 31 23:30:17 2011 +0200

    gem_stress: gen2 render copy
    
    Sometimes acts up like gen3 on my i855gm. Sometimes works flawless.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit a6751bac8dd05e2f04960d40b670d35d3b63704e
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 31 23:29:25 2011 +0200

    gem_stress: split out gen3 render copy
    
    Header conflicts with other headers for different generations.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1baab2e43a40fe33606668c0be19ab772e25cc7a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Wed Mar 30 21:46:04 2011 +0200

    gem_stress: option to disable render copy
    
    It seems to be randomly broken, every boot in a slightly different
    way on my i945gme. Works quite well on my Q35. So add an option to
    disable it till this is resolved.
    
    Well, more testing seems to suggest that I've been hunting ghosts.
    Or maybe not and it works now simply because it's a different day.
    Anyway, leave this in for future testing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cd640cca6c0eb5936eaf48e43ebc5b3bf7278f6d
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 27 21:33:29 2011 +0200

    gem_stress: render copy on gen3
    
    Headers copied over from xf86-video-intel, code built after the Xrender
    support.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8ab88c9af062512dee6dc2c43d400a71b165c284
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 27 16:17:54 2011 +0200

    lib: execbuffer2 support
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2374af20feaaeac849b9a506aeb1e8e9028e5ff7
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Mar 28 21:42:26 2011 +0200

    gem_stress: fix set_tiling
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 6a860b75075e68eac786e1b4b8ec76b2dfbedb1a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 29 19:23:35 2011 +0200

    gem_stress: ad-hoc tile tracing
    
    Signed-off-by: root <daniel.vetter@ffwll.ch>

commit 130daf9cd072dd3cdb380a2578ff830cc022bd1b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 27 15:37:26 2011 +0200

    gem_stress: optin to set num_buffers
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 294c78f4ab3fea90cf8a09ec08095b200103b6e3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 27 15:25:12 2011 +0200

    gem_stress: variable gpu busy load
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 22fe098bf5468931278e68c42280a583c3f714f2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 27 14:26:43 2011 +0200

    gem_stress: getoptification
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 874163d5c8433012bcfd00e990c289fa6d2a64ce
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 27 14:02:49 2011 +0200

    gem_stress: dump complete failed tile
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ad515f817a7e669ec1b7596c88a97349094728e8
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 25 22:09:28 2011 +0100

    Move gen5 blitter work-around to lib
    
    Suggested by Chris Wilson to prevent utterly strange gpu hangs.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit bfa6f5d94ffccfe00a6232e5adaf61d60c7cdde2
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 25 21:54:02 2011 +0100

    gem_stress: limit gtt_size to 256
    
    gem_stress maps all buffers, so more only results in trashing (which
    should be handled with an option).
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 2aac22358feb217435bb4b77ae824db823435db0
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 25 21:53:07 2011 +0100

    gem_stress: implement gen5 blitter work-around
    
    ddx and mesa assume that this is issued after every blit command.
    Breaking that invariant results in a dying gpu.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cfba9dd371bdf8031bf2bd77817a7a7976319e61
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 25 20:42:57 2011 +0100

    gem_stress: fix blitter_copy on gen4+
    
    Utter fail at copy&pasting.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit d641f0fd42c2f59459641f039a8da7d3b2adbae8
Author: Forest Bond <forest@alittletooquiet.net>
Date:   Tue Mar 22 10:31:43 2011 -0400

    intel_bios_dumper: handle rom_size == 0
    
    Some versions of libpciaccess on Linux set rom_size to 0 for VGA
    devices.  While this behavior may change, intel_bios_dumper should
    handle this situation to be compatible with current versions of the
    library.
    
    This fixes segmentation faults on affected systems.
    
    Signed-off-by: Forest Bond <forest.bond@rapidrollout.com>
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3f10ff85bd2bb65e49e52ec4f025dc977985b4b6
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Mar 21 22:13:18 2011 +0100

    gem_stress: submit batch if there's only one fence left
    
    ... for a copy might use up to two fences!
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 652d9eb983c25caf4bac09aabafbf90aa9daddbf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Mar 21 07:58:51 2011 +0000

    stress: Distinguish between busy_bo and scratch_bo creation sizes
    
    The busy bo has a fixed size (1024x256, 32bpp) whereas the scratch bo
    may need to vary their size to exercise different features of fence
    allocation.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 80aae9b4244d02873e9f6221de70a4d9cbbc2504
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 20 21:12:20 2011 +0100

    gem_stress: pwrite/pread support
    
    And a few other things:
    - inline checking when copying tiles with the cpu, fails _much_ faster.
    - bo size seems to have a tremendous effect, put on the TODO.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 08cf53703e79ec48e826af06fd6a5d5be847cb7c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sat Mar 19 21:34:55 2011 +0100

    Add gem stress test
    
    Not where I want it to be, yet. And not as good as I've hoped in detecting
    broken kernels.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 02014cee2aff72592107046328448a32374b18d3
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Mar 14 13:03:48 2011 +0100

    Decode map state on gen2
    
    At least the important stuff.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit cf5db1161a559798d789ae2aba2c9b8c101c7bdc
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Mar 14 11:20:17 2011 +0100

    Decode gen2/gen3 fences in the error_state
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit afe492549d782fc58201268d119092e069d31a83
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 6 00:12:03 2011 +0100

    Decode 3DSTATE_CLEAR_PARAMETERS
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit ad27fac946ca67d88bf12b40d6455c30daf1584b
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Sun Mar 6 00:11:50 2011 +0100

    Small cleanups for immediate state S5
    
    And a tiny fix.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 84c32bd85cc9c6b066e3af53a0998104391f56cf
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Mar 5 09:01:01 2011 +0000

    test: Mark gem_bad_batch as a known hang
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 03c1e334b8cb06a9f548ec2e43baa79731c1c798
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 4 16:41:07 2011 +0100

    Fully decode sampler state
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit f14877f2ded521f90d47aa9682f60d648eebeea9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 4 15:58:00 2011 +0100

    Fully decode map state
    
    A few odd things were missing.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 673d5bcea01bfcbf62a014bd13cc026bac3c6a8c
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 4 14:31:04 2011 +0100

    Decode 3DSTATE_LOAD_INDIRECT
    
    The remaining stuff + cleanups.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 75c403e9236cc03bc9c14ee7bf4f3d2ca8e4a93a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Fri Mar 4 12:50:48 2011 +0100

    Decode 3DSTATE_LOAD_INDIRECT S0-S4
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1e8713fdaa38ee384d916831e8bd5354ff664f46
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 3 21:29:27 2011 +0100

    Decode scissor state
    
    Not absolutely paranoid, who cares.
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 01ac8b90993eb28668d791e0b88df8bd5e93ee78
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 3 21:23:13 2011 +0100

    Decode 3DSTATE_DRAWING_RECTANGLE
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 05309ebfe43d54ae231676cabbee9a285ef6375a
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Thu Mar 3 21:20:26 2011 +0100

    Decode MS3 tex format
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 1f35267948ef98c5685a02633784a5ca13e49718
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Mar 2 16:06:00 2011 +0000

    decode: Fix pretty printing of 3DSTATE_URB allocation size
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1c05f89cebb0d1fa5e0676bf88cc1cf0bdb4421c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Mar 2 14:48:20 2011 +0000

    decode: fix gen6 PS binding table update bit
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit eb777071d75e4bb50964d32e4c354021116ed9e9
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Tue Mar 1 00:01:34 2011 +0100

    Decode MS3 tex format
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 8348e69561f7300ef9eb4a154f0185f9da4fa651
Author: Daniel Vetter <daniel.vetter@ffwll.ch>
Date:   Mon Feb 28 22:51:47 2011 +0100

    Decode depth buffer format
    
    Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

commit 14bed666f4f88ac2597ab5322a21e1846db21339
Author: Ben Widawsky <bwidawsk@gmail.com>
Date:   Tue Feb 22 09:25:29 2011 -0800

    Add MI_SUSPEND_FLUSH instruction decode
    
    Signed-off-by: Ben Widawsky <bwidawsk@gmail.com>
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 41570d9bf583d35687bab88ac88620af41404836
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Feb 14 15:56:14 2011 +0000

    Remove confusing use of IS_9XX
    
    ... and test for what we mean instead.
    
    Reported-by: Diego Celix <dcelix@gmail.com>
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit dac602b7b3678c82dd7bc41f258e6518efb8d6cd
Author: Hai Lan <hai.lan@intel.com>
Date:   Fri Feb 11 23:25:36 2011 -0500

    correct a mistyping for testdisplay
    
    For testing all mode, the sleep time should be sleep_between_modes
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 28032382bce40392a98dd5ec71443a6f2bee7f27
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 11 10:56:41 2011 +0000

    testdisplay: Remove deprecated GIO functions
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5534cb1c7566916a6bc39badf1eb4624399d542e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 11 10:48:04 2011 +0000

    testdisplay: Clarify
    
    Move the loop operations around for test_all_modes so that it is clearly
    split up into the desired phases.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 62d516813afd36146df63746e7b83e86d2588c70
Author: Hai Lan <hai.lan@intel.com>
Date:   Fri Feb 11 11:14:15 2011 -0500

    Add a test case into intel-gpu-tools for intel display driver validation.
    
    We have not a unified tool to check Intel display driver and we plan to use
    intel-gpu-tools/testdisplay to check Intel display driver even though some
    function tests can be found in libdrm/test. 3 new features are added:test
    all supported modes, force mode and dump mode info(dump mode info is based on
    libdrm/tests/modetest).
    
    [ickle: attack the whitespacing!]
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d75f2632c11b4f694447c464690e52c37c7c0573
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 10 11:20:20 2011 +0000

    intel_stepping: Include clocks in summary
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 592b1a51ffa8944da1673e844bfccd0c40cf0a20
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 10 11:00:49 2011 +0000

    tools/intel_bios_reader: use correct printf format for size_t
    
    intel_bios_reader.c: In function ‘dump_backlight_info’:
    intel_bios_reader.c:192:22: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘unsigned int’ [-Wformat]
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 73dd92f85b6321a863dac2a1d22600ad03b3b5d9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 10 10:59:54 2011 +0000

    tools/intel_disable_clock_gating: Remove unused variable
    
    intel_disable_clock_gating.c: In function ‘main’:
    intel_disable_clock_gating.c:38:11: warning: unused variable ‘temp’ [-Wunused-variable]
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 56167d8bfd7dcd6959e3f0465b09833f2906baec
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 10 10:56:27 2011 +0000

    tools: Do not install intel_gpu_dump
    
    It has been supersede by intel_error_decode for the user-facing role of
    obtaining debug info after a crash.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c407041ebbe0ad1944dc713ec342fd9b57efb8b2
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 10 10:54:39 2011 +0000

    tools/intel_gpu_dump: Replace asprintf with snprintf
    
    The maximum filename is limited so we can simply use a large buffer
    rather than fail to check the error return from asprintf.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2c9b293927b5f6bd48c71e2657ca5d7a524a59f8
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 10 10:50:48 2011 +0000

    tests/intel_reg_dumper: Replace asprintf with snprintf
    
    Stops the compiler warning about not checking the potential error return
    from asprintf, which was a false positive anyway.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d4127e0e68315b668a4d9aea62ec43e03ccb86e7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Feb 9 10:24:39 2011 +0000

    tests: Move potential machine killers away from distcheck
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a5bbd5ea7122fef2c66980805c110e4f095406cb
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Feb 9 10:21:27 2011 +0000

    tests/gem_exec_blt: Compile fix

commit 68b64f1b399e712a3b96b91568dc2b6d7e9b35d9
Author: Javier Jardón <jjardon@gnome.org>
Date:   Tue Feb 8 22:33:12 2011 +0000

    build: Update autotools configuration
    
    Replace deprecated macros and use the new libtool syntax
    Also use silent-rules to make the build option less verbose.

commit 293dd478d713eee5cedfa04749c97d1aa850df3c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 8 12:04:17 2011 +0000

    configure: Bump the libdrm dependency
    
    Whoops, should have done this ages ago for I915_EXEC_BLT
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c91951de0e7b412fa02facf349c8912348cb1aa4
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Feb 6 10:18:53 2011 +0000

    gem_linear_blits,gem_tiled_blits: Add optional count
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 0995b563341c9e34f4b6314c67d4671a516fb1b0
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 1 13:35:16 2011 +0000

    Fix basic blt test for SNB
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 0e50b972de4ea7e883b6cea608311fbd84b2961b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Feb 6 10:12:42 2011 +0000

    Fix typo excluding Ironlake from IS_INTEL
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 74895a2344a3839c5c8f9b41438e226b9d72efc1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Feb 5 10:09:38 2011 +0000

    gem_tiled_blits: Minor enhancements
    
    Include a simple series of blits that exhaust the aperture but have the
    maximum grace time between reuse.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 91b1c62a9c1e625d6c84cab354ed66d08239faa9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Feb 5 10:09:38 2011 +0000

    gem_linear_blits: Minor enhancements
    
    Include a simple series of blits that exhaust the aperture but have the
    maximum grace time between reuse.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f343805d169a99f7daa12df88bdf3da7e7085482
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Feb 2 10:32:52 2011 +0000

    Simplify gem_linear_blits
    
    By doing everything manually we can indeed exercise the full GTT.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9fd7e35c39a2fd82b95376c8a8a8424bc79f2d23
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 1 19:22:32 2011 +0000

    Simple test to ensure that working sets larger than memory, just work.
    
    Based on gem_tiled_blit, but without the complication of the tiling.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 68a95f0e389096e7e4d87cd87dbb09edaca9909b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jan 25 16:34:08 2011 +0000

    error decode: Search for first i915_error_state
    
    Handy for multi-GPU systems where the IGFX may not be first.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3c5c8ba71c4c32dcac1cf0493210d21fc9b33c8a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 1 13:35:36 2011 +0000

    Search for the first Intel dri device.
    
    This is vital in a multi-GPU system so that we only test the Intel card
    and not the discrete GPUs.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c1e9795050b1e4b76c7f9acd3cc5071f0ecb06ed
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 1 11:12:40 2011 +0000

    tests/gem_tiled_fence_blits: Ensure the bo count is odd
    
    In order to avoid a self-copy, the number of bo must not be even.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 371f87f2d825900484e34a8ec78272b9e62cbc02
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Feb 1 10:53:57 2011 +0000

    Exercise the whole aperture with tiled blits
    
    After full-gtt, gem_tiled_blits doesn't allocate enough to force
    eviction. So query the total aperture and accommodate.
    
    Also introduce a similar test that utilizes fences rather than
    use the BLT to perform the tiling and detiling.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5fc09c82d40113a7ebf67b7dbc374c181d9fafe3
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 21 00:43:11 2011 +0000

    Time blt vs pwrite
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 07d59b308d1d71c350e99ac2a889e5d0110a69d8
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jan 20 22:10:10 2011 +0000

    Add a simple test to execute n nop batches
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit ed385ea331b1d7d284c6e2e0165f01d1af1f4513
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 23 12:44:51 2010 +0000

    Add a GTT timing test
    
    Using for basic benchmarking and diagnosing some mysterious slowdowns.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 281285ec702bceecaffbdcbc5c1a3cc4591e500c
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Jan 29 16:12:38 2011 +0000

    bios: Parse SDVO panel DTDs
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit afaf5ef27cafad5a0fc0ad2fb870e1a7ea8743a1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jan 9 14:01:47 2011 +0000

    gpu-top: Correct computation of ring size
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 98eb5a5e240fbdf8067c2bee48afe749feeca12f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Jan 9 13:26:50 2011 +0000

    error: Parse ring name before gtt_offset
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d9ec63b1a0c41c96af676cd9d642bf622be1788f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 7 19:59:00 2011 +0000

    intel_gpu_top: Include BLT ring
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5503ac9e1907ed905a29986d0db8beb468273827
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Jan 7 19:42:29 2011 +0000

    intel_gpu_top: Wake the GT power well to read gen6 ring registers
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4f20844247e72811c2f3655e24cb45dc920340d6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 23 19:44:14 2010 +0000

    error decode: print out class of chipset in the error report
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f19a1942c2a3da4b65dff029ecfd9d20a132765d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 23 12:44:51 2010 +0000

    Add a GTT timing test
    
    Using for diagnosing some mysterious slowdowns. Should include a variant
    for basic benchmarking...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 322563027cabbdbd21c1ecee4cec4b89b3028ce6
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Dec 21 12:06:00 2010 -0800

    tools/bios_reader: try to dump more child device data
    
    Some of our device class defines were incorrect, and we were missing
    several recent ones, so fix those up and dump more child device data if
    we have it.

commit 5406c633a006eb76a81b73d27cc3be1754b0718f
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Dec 21 09:38:23 2010 -0800

    tests: add display testing program
    
    Just a simple program to light up all detected outputs at their native
    mode and respond to hotplug events.

commit 253acc34af6fb9976a8d54991560dec5920af20b
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Dec 16 16:42:52 2010 -0800

    intel_disable_clock_gating: New tool for turning off clock gating on ILK.
    
    This is something I sometimes want to do in testing, to see if a
    mystery bug (say, 29172) is due to broken clock gating.  Sadly, in
    this case it isn't.  Note that it isn't supported on non-ILK chipsets
    yet.

commit 19b412b37cd3474200a2c6fe0cdb11af0c0f98cb
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 16 09:25:56 2010 +0800

    intel_gpu_top: Print stats regs on Ironlake as well.

commit 292ae4538a922f93eec1958b6073e83baab4e1c7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Dec 10 15:31:59 2010 +0000

    error-decode: stdin is 0 not 1
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 94de0b46b5b2c80dc34a145ec47a34b13a1f7937
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Dec 4 14:12:19 2010 +0000

    decode: Add a couple of BLT MI.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 1e4cf7dbbe4fcc86c551567975f121589c721f97
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sat Dec 4 11:41:30 2010 +0000

    gpu-dump: Include BLT and BSD ringbuffers
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 157207ada5d92ce47c03f64f953ee3955de164e1
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Dec 3 00:41:43 2010 +0000

    decode: Add some missing protection against short buffers for gen6 instr
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3dafead3f25cf2118637d131a9da1d06da4cae02
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Dec 2 23:05:16 2010 +0000

    dump-decode: allow specification of devid, i.e. gen
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a3a78632bd1ae873b3946d22271d4002daccc34b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Dec 1 21:51:59 2010 +0000

    error-decode: Operate as a pipe and accept input from stdin
    
    Useful for feeding in compressed files from bugzilla:
    
    $ bzcat /tmp/i915_error_state.bz | intel_error_decode | less
    
    Next step would be to use gzfopen or bzfopen to automagically handle
    compressed files...
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit aa0a346deb208386e3f39253efd0693621841535
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Nov 29 16:06:46 2010 +0000

    decode: Improve parsing of i915 fixed-length indexed primitives
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit d4d769a4329f3f22842f8270fca46047bd4892ce
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Oct 26 10:59:18 2010 +0100

    Prepare for split BLT ring on Sandybridge.
    
    Depends on libdrm 057fab3382c02af54126ce395c43d4e6dce9439a
    
    Bugzilla: https://bugs.freedesktop.org/show_bug.cgi?id=31123
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8934395d9d3b5910a52785d69a8da4516c4d82a6
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Oct 22 11:33:08 2010 +0100

    Decode PGTBL_ER for i965
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 8a4fc850a820cb555dfe7c1a6ddd068cb0039308
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Oct 1 22:22:28 2010 +0100

    intel_gpu_top: Sample BSD rings as well as render
    
    Show how busy the GPU is when decoding video as well as rendering.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4eef00a8fbb0602914e7bf903c78fecb4b888ef1
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Wed Sep 29 09:47:46 2010 +0800

    decode: fix PS sample state change bit on sandybridge
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit dbc547dbb525827a53543267bd38451c475e7c54
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Mon Sep 27 13:34:52 2010 +0800

    intel_decode: decode 3d commands for sandybridge
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit b95893820fd0b8e0af3d5c80110884acdb934666
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Mon Sep 27 13:24:52 2010 +0800

    Add all sandybridge device ids
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 7ab19ae6feb06fa8140a16333fc7670936af80ac
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon Sep 20 14:37:07 2010 -0700

    intel_reg_dumper: eDP port is on the CPU, not PCH
    
    Made me think there was another register until I checked the offset.

commit 4f12d8acbaa3a253d8b21d04bbfe17ed9ede6158
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Sep 8 14:39:12 2010 -0400

    bios_reader: Fix to work on non-Intel machines
    
    Actually, fix to work on _any_ machine where the ROM file doesn't match
    the GPU.  Just extract the device ID from the ROM itself rather than
    look at the running system.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit c09fa38c01e44581db37703bb6b8cf1b60b2d09f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Sep 5 12:05:52 2010 +0100

    reg dumper: Dump ILK panel fitting control debug registers
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a462fa6e29bf64fd64d94274775f33b9918f5cbb
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Sep 5 10:53:12 2010 +0100

    reg dumper: Fix ilk panel fitter filter shift
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c935c6021449fa442c51858e3d9cd79e1cec62ab
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 25 11:56:59 2010 +0100

    tests: Fix fallout from s/EBADF/ENOENT/ in 2.6.36
    
    After bf79cb914dbfe848add8bb76cbb8ff89110d29ff, drm uses ENOENT to
    report unknown handles buffer objects, update the tests accordingly.
    
    Fixes:
    
      Bug 29794 - some intel_gpu_tools cases fail
      https://bugs.freedesktop.org/show_bug.cgi?id=29794
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 14618620cc057293bce77f9a137a5f7df083beed
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 25 11:55:25 2010 +0100

    decode: Handle errors during parsing.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit db91f220da8806a505e848ab35db7659b155fe1f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Aug 25 11:54:54 2010 +0100

    reg dumper: Add panel backlight detailed information
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 74c8c8d6121cda1d91df29d471e58f6b68275a1c
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 19 08:27:32 2010 -0700

    intel_gpu_top: Fix the "limit printing to terminal height" again.

commit 9e4ba53014f214750d8bba01f92bf3febf2ffb0d
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jul 9 13:26:57 2010 -0700

    intel_decode: Fix decode for gen6's moved VERTEX_ELEMENTS valid bit.

commit aa4772c3c1c09f775e34e15533789094922f2e40
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jul 15 19:31:21 2010 +0100

    dump decode: Add a non-installed program for decoding binary batchbuffer dumps.
    
    Rather than add yet another decoder into the drivers, I rather just emit
    a binary blob and use the decoder being developed here.
    
    As it is a pure debugging feature, lets not package it.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 2d1ad95423953c60fdc5b336d5dd1298ce2114c7
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jul 15 19:18:39 2010 +0100

    error: Decode i915 PGTBL errors
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cf255e382d147fe3ca450f0dcec3525190e7dcbc
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Jul 8 12:13:08 2010 -0700

    intel_decode: Fix whitespace for importing to Mesa.

commit b1e839d02652fcc5b19ee20d7feeb7e908df1c29
Author: Jesse Barnes <jbarnes@jbarnes-acer.localdomain>
Date:   Wed Jun 30 02:02:49 2010 -0700

    intel_reg_dumper: add some 945 MI reg dumping

commit be6e1a53fc0fadedf24839e11d0bd2e0faca5126
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jun 30 11:18:00 2010 -0400

    Use longer string padding in intel_reg_dumper on ironlake
    
    DIGITAL_PORT_HOTPLUG_CNTRL is 26 chars.  Bump out to 30.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 439adf7a0af2613e13bf1b29b02ab084b39f072c
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 5 11:46:27 2010 -0400

    fix reg_dumper on systems without intel gpus

commit 040fbc6ea3fd59024a41e85af273b0194901f27a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jun 15 13:05:48 2010 +0100

    intel_reg_dump: Off-by-one in calculation of i965 fence pitch
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 581205db44b834e8f056749819502fd833c1af10
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Thu Jun 3 10:31:04 2010 +0800

    bios_reader: Fix SSC frequency parse for Ironlake/Sandybridge
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 020abdb7cc52163a0f2dacd1b296b36ce1a31911
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Mon Apr 19 13:13:06 2010 +0800

    intel_audio_dump: add support for IbexPeak and CougarPoint
    
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit a52cbcbf5657a13e456af419c45a87b89bf56ca3
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Apr 22 15:37:49 2010 -0400

    bios reader: Decode device type from child device table
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit a5b1e98edb2f8f7f7f6449afaad8a1385cad3d4d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Apr 16 22:23:44 2010 +0100

    decode; Parse 3DSTATE_BUFFER_INFO
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 5b9678e822b770825a4b17919a953009ac7abb02
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 15 09:53:00 2010 +0100

    decode: Also override S2 for 3DPRIM_CLEAR_RECT
    
    3DPRIM_CLEAR_RECT implicitly uses only VERTEX_XY and no texture coords.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit c8f5ac542c91f2533db72abe30546df8fb8aee0f
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 15 09:48:00 2010 +0100

    decode: Use a valid S4 mask [VERTEX_XY] for 3DPRIM_CLEAR_RECT
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 50b8272d0b28c1fde9e3ab07fcf011d14f41fb66
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Thu Apr 15 23:22:06 2010 +0800

    update PCH HDMI debug info
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit eae80edbb3e6959d3acda963ee32db4f4a200533
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Thu Apr 15 01:25:50 2010 +0800

    reg dump update for SNB/CPT
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 2b40fc83d130d2850761aa1409e0716ace6dfe0b
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Thu Apr 15 22:57:02 2010 +0800

    Add PCH chipset type check for Cougarpoint
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit c3832aefbf9a4120f12283e3cb3e18d7daa04070
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Apr 5 00:26:35 2010 +0100

    decode: There are 4 unpreserved registers on i915, not 3.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 4278dc6e645c4b70b4029294e552aae5f57340ba
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Apr 14 22:30:58 2010 +0100

    decode: CLEAR_RECT uses a fixed VERTEX_XY format.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 3d883c3d2576a460dd56dcb04b22d98022f3057b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Apr 14 22:25:57 2010 +0100

    decode: CLEAR_PARAMETERS has a fixed length bias of 5.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 58eb041970a6bd3732aaeb61cf427d0db088a663
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 8 12:00:00 2010 +0100

    gitignore: Add missing intel_reg_snapshot

commit 95374225e865da3a30153f73e8bb536700d15459
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Apr 8 11:56:57 2010 +0100

    Enable compilation on non-Intel, non-DRM systems.
    
    A few of the tools can be performed post-mortem from a different system,
    so it is useful to be able to compile those tools on those foreign
    systems. Obviously, any program to interact with the PCI device or talk
    to GEM will fail on a non-Intel system.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit cd64e193299be4b9733a5e804cedd99e2072830f
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Mar 31 17:25:23 2010 -0400

    intel_reg_dumper: Add support for reading register dumps from files
    
    Also add intel_reg_snapshot for creating such snapshots, and relevant
    documentation.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 2187ec2112750bb898416358ac5463eebbf30049
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Apr 5 00:26:35 2010 +0100

    decode: There are 4 unpreserved registers on i915, not 3.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 7682c42809078ad32552a2dae663510580158b28
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Mar 24 12:01:00 2010 -0700

    Fix INSTDONE1 bits on g4x, and use those on Ironlake too.

commit b0ddd0688cccd41a4661a00bfd897a63f9a11279
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Mar 24 11:40:07 2010 -0700

    Add Ironlake INSTDONE bits.

commit 7c9d69de5722fe492c3e06ec94d1c26013df2861
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 8 22:51:40 2010 -0800

    intel_reg_dumper: Fix the i915 fence reg decode to not be pure lies.

commit 4279006ff24376c47ed3efff95ed2239b0928954
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Sun Mar 21 19:33:45 2010 +0000

    decode: Parse i915 MAP_STATE texture sizes and tiling
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit bfc2b5306fac21bda5fc09dbf031716fd53a0f78
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Mar 4 21:56:04 2010 +0000

    intel_error_decode: Pretty print i830 PGTBL_ER
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit f93dae8176d83791521eae23ab3c028cc7c93eee
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Mar 4 09:14:56 2010 +0000

    decode: Fix length mask for LOAD_REGISTER_IMM.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit bcaea4da8997ce09d580df351ae7919832882fc5
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Feb 25 12:48:00 2010 -0800

    intel_gpu_top: Print stats lines even when there's no done bit on the line.

commit 9271e2256d7e86989587b001715fccc30400180e
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Feb 25 12:18:11 2010 -0800

    intel_gpu_top: Print the vertex/primitive statistics on gen4+.
    
    This requires that the window be much wider.  I'm not sure how we
    really want to lay out this interface usably, but so far giant windows
    are working well enough for me.

commit c33f64ff955134aef2fc10cee4d48c6da4858549
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 25 18:52:15 2010 +0000

    man: Add manpage for intel_error_decode
    
    A rudimentary manpage based on intel_gpu_dump for the simple tool
    for the post-processing of i915_error_state, intel_error_decode.

commit 0e4e700c51fbed8f333f2642edadf1b46bf51cc5
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Feb 23 17:04:29 2010 -0800

    Fix a typo in intel_gtt(1).

commit 17b8abdb6b9401768c9b1821ac33220d3b7eea5e
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Feb 23 17:00:54 2010 -0800

    Add manpages for a bunch of recently-added tools.

commit cb6bd9f73a6ff926cb4863c1fd3ad37a00f9c0b3
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 1 10:47:19 2010 -0800

    Add decode for more Sandybridge packets.

commit 291a576d72d234c42f5d9655ee0698f20eec8bd8
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 15 14:28:16 2010 -0800

    Add support for Sandybridge INSTDONE regs.

commit 67736dbc9435ab95ab4092d73a5b057039d14d30
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 15 14:28:02 2010 -0800

    Add support for Sandybridge mobile chipset.

commit 0fe5e9c1342a3baf9c15616febc74d203b43b2d4
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 15 14:27:41 2010 -0800

    intel_gpu_dump: More SNB packets.

commit 334f76d22de1098fb209c08c8ae45b8d71c4ed6a
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 15 14:26:43 2010 -0800

    intel_gpu_dump: Use the spec's names for the INSTDONE regs printed out.

commit 35233864413ff74e26a29b7807ec7413cde6e7cc
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Dec 17 14:21:28 2009 -0800

    Add Sandybridge decode for CMD_VIEWPORT_STATE_POINTERS

commit 0a497420cd170e0eb1109dd03dab04232d7e9ce2
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Dec 15 12:38:23 2009 -0800

    Add Sandybridge STATE_BASE_ADDRESS decode.

commit 24ea25de39cc2f4e9e2052f90f4e93ad98d98c19
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 3 16:15:25 2009 -0800

    intel_gpu_dump: Add support for sandybridge DEPTH_BUFFER and BINDING_TABLEs.

commit 613d1c48968bf5b6130d01a3408a70fc2d1307ee
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 22 15:52:02 2009 -0700

    Add some initial definitions for Sandybridge.

commit c94174d106b0b7c97643309ec85d763b0429ef11
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Feb 25 11:05:16 2010 +0000

    decode: Parse MI_BATCH_BUFFER for i8xx
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 0583c22cdfb71cb43153cf7c17aa775ae660f96c
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Feb 19 12:23:16 2010 -0500

    Add intel_bios_dumper from the 2D driver.  Last of the tools, finally!

commit 22fd4c370c2a04702fd5fabd6bbd16988b4a8225
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Feb 19 12:12:04 2010 -0500

    Move the intel_lid tool from the 2D driver to here.

commit 9eb4de10a1ff3df3a455efb63a51ea9d5480d72d
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 12 13:28:40 2010 +0000

    Add intel_error_decode.
    
    A simple variant of intel_gpu_dump that explicitly handles parsing of
    i915_error_state.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit a5846bff27ccd4f148c883177c9516c3f06da4b0
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 1 15:02:24 2010 -0800

    intel_gtt: Add intel_gtt from the 2D driver.
    
    We've used it several times in bringing up the AGP driver, so it seems
    useful to have aronud.

commit 65f1f881b7a4a547c6ebdb75f8bddc99636210b9
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Jan 28 22:52:50 2010 +0000

    intel_gpu_dump: Parse ringbuffer info from i915_error_state
    
    Distinguish an inline ringbuffer [-- ringbuffer] dump, from batch
    buffers [-- gtt_offset] and separate it in the decoded output.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 6c1125d95804dafc72f16deafd345d7523d9dd24
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Thu Jan 21 09:39:29 2010 +0800

    Remove extra aclocal flag after replace dolt and shave
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 7daa481bb7cdb06630a42fe45c2a59d677cf8af1
Author: Zhao Yakui <yakui.zhao@intel.com>
Date:   Tue Jan 5 14:13:43 2010 +0000

    reg_dump: Dump display port register on Ironlake
    
    Dump the display port register on Ironlake.
    
    Signed-off-by: Zhao Yakui <yakui.zhao@intel.com>
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 97ffee66ae240fdebe8142f4f43687b1772a9350
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Tue Jan 12 14:04:43 2010 +0800

    Pull bios_reader program from Xorg driver
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 087d74b33544b07ec4413cd6622b2eb9b0dbfa73
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Wed Jan 6 13:43:54 2010 +0800

    gitignore intel_audio_dump and intel_reg_read
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 4cc8b0543a9afc3209ff02f5739f7a38ff484dd8
Author: Zhenyu Wang <zhenyuw@linux.intel.com>
Date:   Wed Jan 6 13:39:05 2010 +0800

    Add 'intel_reg_read' tool
    
    This is a handy tool to just check state of one register, which might
    not bother to be included in intel_reg_dumper tool. And also take in Ben's
    original full range register dump with '-f' option.
    
    Signed-off-by: Zhenyu Wang <zhenyuw@linux.intel.com>

commit 5afb8ff68b87c4ae00b2ac2c3124515c1c71272b
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jan 5 12:33:17 2010 +0000

    gpu_dump: Parse INSTDONE if seen inside a file.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit e30f06fbb927a7348630d5c2ad64982068475b58
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jan 5 12:32:32 2010 +0000

    reg: Include INSTPM in dump.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 55950195da6ab0cb6d931dae2733628a97286bde
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Jan 5 12:31:12 2010 +0000

    decode/i965: Show byte lengths for buffers.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 7f63b95c06ee49afcc6547128f8d582b91694d40
Author: Shuang He <shuang.he@intel.com>
Date:   Mon Dec 14 14:10:02 2009 +0800

    intel_gpu_top: Fix broken clock reporting.
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 4e6400c4bbba2a35c7dc5396c69ca4444682b07f
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Nov 2 11:20:23 2009 -0800

    Replace dolt and shave with using current autotools.

commit b4b8aafc61f48be9c1bfef7cf2c055201aeb4711
Author: Kenneth Graunke <kenneth@whitecape.org>
Date:   Tue Dec 8 22:38:18 2009 -0800

    Limit printing to terminal height in intel_gpu_top.
    
    When using intel_gpu_top in a small terminal, the most important
    information (ring idle/busy units) scrolls off the top of the screen.
    This patch limits the number of lines printed to the terminal height
    so that the most idle units (at the bottom) are truncated instead.
    
    Signed-off-by: Kenneth Graunke <kenneth@whitecape.org>

commit 94a180c0c95d70983ca15ada1de5d8624a68211e
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Mon Nov 30 15:20:29 2009 +0000

    decode: Split decoder and reuse outside of intel_gpu_dump
    
    Introduce a second decoder that simpler operates on a file so that it
    can be run on dumped batchbuffers independent of the gpu.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 9e9c9f24f5d5520ab6a2451aab7dc81d2abc8cdf
Author: Wu Fengguang <fengguang.wu@intel.com>
Date:   Fri Nov 6 11:06:22 2009 +0800

    Add: tools/intel_audio_dump
    
    Signed-off-by: Zhenyu Wang <zhenyu.z.wang@intel.com>
    Signed-off-by: Wu Fengguang <fengguang.wu@intel.com>

commit b4ddf71a4ae45e24fc0947194048b56e45c18456
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Oct 8 06:48:02 2009 +0100

    Add: tools/intel_gpu_time
    
    A simple variant on time crossed with intel_gpu_top to estimate the
    amount of GPU activity during a program's execution time.
    
    The resource usage (sys+user, i.e. CPU %) is for the child, but the
    GPU measure is global. Hmm.
    
    Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>

commit 40bff5071c8e5bce785f9c56b7d98f12fc3ae2c2
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Oct 6 17:25:10 2009 -0700

    Add intel_gpu_dump from the 2D driver.

commit d48fc144cab31b0a776992b2a8eba30b101a21f4
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Sep 21 15:00:56 2009 -0700

    Bump to 1.0.2 for release.

commit 15ba3a5fc6556ce408723e4a9f05b1830316115b
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Sep 17 15:05:24 2009 -0700

    Print unmatched opcode value for all 3D UNKNOWN messages
    
    This just simplifies one step for fixing up an incompletely-parsed
    dump.

commit bbebf6b1c90b5c777e1a155818e3194e1c3889bc
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Sep 3 09:50:00 2009 +0800

    Add support for new chips
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit b20efcf585af65b1cff8b76b8bac5af9252d9391
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Sep 3 09:35:50 2009 +0800

    CS FENCE in URB_FENCE is 11-bits wide
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 84a877511f2a85274ef0f22ea01249b1440e95c5
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Thu Sep 3 09:33:36 2009 +0800

    Fix the length of CONSTANT_BUFFER
    
    Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>

commit 61237b98bb02479bfa9eefe5e6bf62a3ce9468f7
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 20 11:46:11 2009 -0700

    intel_gpu_dump: Don't pretend we understand vertex formats on 8xx.

commit b66d2feb6981c41fae9eea003e7e55ff531d1317
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 20 11:44:56 2009 -0700

    intel_gpu_dump: Parse LOAD_STATE_IMMEDIATE_2 for 830.

commit 7bc13bc00c028162dbf402a8ebda6203c50c3179
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 20 09:14:43 2009 -0700

    intel_gpu_dump: Add IPEIR and PGTBL_ER to output.

commit 56bdcd1d6b434cd37bfc47d295abaf37f0093c84
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 20 09:07:16 2009 -0700

    Add INSTDONE bits for 830-865.

commit 1cbfe0ea6aea4a1bef6528cb72308c9571636c62
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Jul 16 14:15:47 2009 -0700

    intel_gpu_dump: Fix decode for LOAD_STATE_IMMEDIATE_1 with S8 set.

commit d9e28e63e5a11f0707516b2eff648b1c2c99598a
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 13 10:03:17 2009 -0700

    Add a manpage for intel_reg_write

commit d83a417c0158b5385835d520c1ed46fd6e5fd683
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Thu Sep 3 10:58:59 2009 +0100

    dump: Minor typo

commit 8f3f862b961c5b28ccdb42faff7b279aafcec652
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Tue Sep 1 10:09:55 2009 +0100

    Add gem_fence_thrash test
    
    This is a test case that overcommits fence registers between threads, which
    are copying from one fenced bo to another. In earlier versions of the driver
    this would cause excessive spinning as the first inactive (i.e. not in use
    by the GPU) would be used to service the next page. After all the fence
    registers had been allocated, in effect only the very first fence would then
    be used for all subsequent faults.

commit 4839ee97875d07a27c28f39021178d2cf4b5d4b8
Author: Ben Gamari <bgamari.foss@gmail.com>
Date:   Wed Jul 1 16:52:20 2009 -0400

    Add CS_USB_STATE decoding

commit 147f07b5c2248f57c75961b80e717bd83fcaa44b
Author: Ben Gamari <bgamari.foss@gmail.com>
Date:   Wed Jul 1 16:52:19 2009 -0400

    Add CONSTANT_BUFFER decoding

commit 357e43a4f1e1e4561fa1ced59c47e1b489b21b2b
Author: Ben Gamari <bgamari.foss@gmail.com>
Date:   Wed Jul 1 16:52:18 2009 -0400

    Fix gs_fence output in URB_FENCE output

commit e302d0fe89596ff5a12ae6b098ec5094154f9a4e
Author: Ben Gamari <bgamari.foss@gmail.com>
Date:   Wed Jul 1 16:52:17 2009 -0400

    add realloc bits to URB_FENCE decoding

commit 3fda98b4db5d0308cd6cbb984871ea52aca6cc5c
Author: Carl Worth <cworth@cworth.org>
Date:   Fri May 8 16:04:24 2009 -0700

    Fix error message for case of kernel prior to 2.6.30
    
    The error message was falsely claiming that a debugfs directory
    didn't exist, when it was supposed to report that the ringbuffer
    file did not exist within that directory.

commit 324428ca82ce96e2e64b724682833baf16ee6616
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 30 18:05:57 2009 -0700

    .gitignore: catch up to intel_reg_write addition

commit eb239afeb7c04ffec6570959b050edda7131dcf2
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 30 17:52:43 2009 -0700

    intel_gpu_dump: Add instdone register values and decoding.

commit 3904b7c6a266538eaf749c90445970601239e0a2
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 30 17:13:27 2009 -0700

    intel_gpu_top: Move instdone bit definitions to lib to share with _dump.

commit 21b6f2600d2eda8e9c10ab9b123ebe79431779f7
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 23 19:35:19 2009 -0700

    intel_gpu_dump: Use the correct IPEHR on pre-965.

commit eafbad3707fcbe36cc37c4acd62b8612e82757ae
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 23 18:43:59 2009 -0700

    intel_gpu_dump: Add details on URB_FENCE.

commit bf3b1a3da95a1190ad09a0007be6c4c45d76627b
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 23 18:16:42 2009 -0700

    Oops, fix up printed hw offset since the HEAD pointer fixup

commit a18af8ed43b092408196948b1ec3d7f9a8d7065c
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 23 17:10:44 2009 -0700

    Add more 965 INSTDONE bits.
    
    This shows off the units that are stuck busy in the ut2004 hang.

commit da2c7f35c7b3059e09b4ffe680975fac0d6eb7c0
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 23 16:22:41 2009 -0700

    Correctly flag the acthd when it points within a packet.

commit 12ceecf971e416fbd8be921ea187f68238878c0c
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 23 16:21:34 2009 -0700

    Add the acthd to the GPU dump.

commit c25532cc613c9daf87e97d04aec2ad708bec9b3b
Author: Ben Gamari <bgamari.foss@gmail.com>
Date:   Wed Jun 10 23:13:40 2009 -0400

    Add register writing tool
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit bbafc3d0bf851f0f1a2de6cdc7f2923a2387e775
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu Jun 18 18:07:47 2009 -0700

    Four new tests for error handling
    
    Add four new tests for error the error handling cases:
      - gem_bad_address - store to a bad address, should generate a protection or
        page table error
      - gem_bad_batch - try to execute a bad batch, should generate a protection,
        invalid instruction or page table error
      - gem_bad_blit - blit to an invalid location, should generated a protection
        or page table error
      - gem_hang - hang the GPU on an event that will never happen, test hang
        detection & recovery code

commit 49c564ec2fa47f62d097c7dee42730ae43445f8b
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jun 9 11:30:25 2009 -0700

    Make the precentage bars fit in 80 columns.
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 8c7be935443934297763af03f0b4b7fcd4999dde
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Apr 17 19:01:04 2009 +0100

    A pedantic addition of a format string to a printf call
    
    The printf used to clear the screen didn't have a format string, this
    adds one to avoid a compiler warning.
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 700e45a5225dbf06ada48c269d725458ceb347a6
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Apr 17 18:52:23 2009 +0100

    Adds unicode bars for quickly visualizing the busy percentages
    
    It can be a bit easier to digest the percentages with bar graphs than by
    scanning continually changing numbers.
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 2f0c0aa8ae0649e8b05d74fed9115a4a62aa7e7f
Author: Robert Bragg <robert@linux.intel.com>
Date:   Fri Apr 17 16:25:52 2009 +0100

    Increases the sample frequency from 100/sec to 10,000/sec
    
    For a typical vsync locked application running at 60fps, sampling at just
    under twice a frame doesn't seem to give very stable lists of relevent hardware
    units because there are a number of units involved that may not be sampled one
    second to the next.
    
    This bumps the sample rate to 10,000 instead which is ~ 170 samples per
    frame so we tend to hit all the units involved.
    
    It also changes the report threshold to a sample count >= 1, so you don't
    see as many units with a percentage of 0.
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 2a50faae7e9d674dac60b51101aa8bf653a0b7a3
Author: Robert Bragg <robert@linux.intel.com>
Date:   Sun Jun 7 23:26:18 2009 +0100

    Revert "intel_gpu_top:print a visual clue on how big a certain use is"
    
    This reverts commit 5e13b98da1e7e31cffba84fd257002357d5f2682.
    
    We can print prettier graphs using unicode
    
    Signed-off-by: Eric Anholt <eric@anholt.net>

commit 114763f4190260e326cf4e82806fc07c7022d934
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Jun 4 14:38:17 2009 +0000

    intel_gpu_top: Print GPU clock information, which seems interesting.

commit 5e13b98da1e7e31cffba84fd257002357d5f2682
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Tue Apr 28 12:05:43 2009 +0100

    intel_gpu_top:print a visual clue on how big a certain use is
    
    humans are pretty bad at reading percentages quicky; this patch adds a
    histogram capability to make it more visually clear as to which lines are
    big ticket items

commit 0521bca629a1d350fd5807516cfa0f3d0fc215de
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 19 16:48:40 2009 -0700

    Bump version to 1.0.1 for release.

commit 3365c8563a3e0ac0d86d01f956301a23a7d8dc92
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 19 16:32:39 2009 -0700

    intel_gpu_dump: Stop decoding batchbuffers after MI_BATCH_BUFFER_END.

commit 652d5518d6901f4ebe0f696b8d7e18b8edfc76ec
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 19 16:26:35 2009 -0700

    Add decode of gen4 PIPE_CONTROL

commit b7d70fc1fdb8b1b29ce62a6d75c2aca2b5314b7e
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 19 16:12:43 2009 -0700

    Add decode of dest buffer variables (destination format)
    
    (cherry-pick from Mesa commit 0af7e9170fd7c0d906652378b9f78fe2ba9725ad)

commit e71c6283022d91e3884374fa145b936cba330a66
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 19 16:09:08 2009 -0700

    Add manpages for all installed binaries.

commit 49cba961a2914df0d308ef22d257c9c60ecd02f7
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 19 15:53:55 2009 -0700

    Add gem_largeobject to ignore.

commit 433e1c85a0a512d2d58775bf10ddadeb43fe7ed8
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Thu May 14 14:39:48 2009 -0700

    tests: add large object test
    
    The large object test simply tries to allocate a 128M object, pin it, then
    pwrite the whole thing.  This should make obvious any leaks on close or
    page pointer allocation failures.

commit c9de42933223e53f326a46cffc98d24d540dc694
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Apr 27 09:45:22 2009 -0700

    Fix distcheck

commit 49ccc2bfc21f89fdd1dd823969ad5ddd82b2e67e
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Apr 27 09:41:41 2009 -0700

    .gitignore libtool junk

commit 7583e811a57d72b47ec721fcc91b2f7ad0b6a770
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Apr 27 09:39:05 2009 -0700

    intel_gpu_top: Add ring information.

commit 302d15f2e7cd77bf2bfef5a142688cdf07fc59fc
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Apr 27 09:35:40 2009 -0700

    Add a test to try to fill the ring.
    
    Did this while trying to debug the Ubuntu DRI1+compiz issue.  Didn't succeed
    in filling the ring.

commit 28a1d6436e5067221b03c820c1b6fee2ef21d496
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 13 14:35:11 2009 -0700

    intel_gpu_dump: Use asprintf instead of a static-sized array
    
    Not that we're really concerned about buffer-overrun attacks
    against this utility, but still, good habits and clean code
    are always preferred.

commit 5b8c19445cdd736d679e12be196cd4db0aac0cb1
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 13 14:33:09 2009 -0700

    intel_gpu_dump: Give a nicer message for missing batchbuffer-dumping code
    
    This is the case where debugfs is mounted, the dri/0 directory
    exists but there's no i915_ringbuffer_info file. Point the user
    toward upgrading the driver.

commit 0a820610ee733f348f9331c677f74cc88bc46486
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 13 14:06:00 2009 -0700

    intel_gpu_dump: Mention filename in error message
    
    This helps for when the user makes a typo trying to pass a file
    or directory name to intel_gpu_dump.

commit 660a20f611adb0a176cecce1b2abfe9ec5accd05
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Apr 13 14:02:04 2009 -0700

    Add example command for mounting debugfs
    
    This is a nice opportunity to teach the user something, (and help our
    users to actually succeed in creating useful bug reports for us).

commit 48888093b2da0b7809d465d111e9c0cc92bb6c5e
Author: Eric Anholt <eric@anholt.net>
Date:   Sun Apr 12 18:03:25 2009 -0700

    intel_gpu_dump: Add no-arguments automatic mode, and clean up comments.

commit 5b40c86c9a714936938d19cc095f038ee904c94c
Author: Eric Anholt <eric@anholt.net>
Date:   Sun Apr 12 17:49:31 2009 -0700

    intel_gpu_dump: Dump ring, batch, and head/tail info when given the directory.

commit d69042dde69ca4a04f5e949130026447b8890cfc
Author: Eric Anholt <eric@anholt.net>
Date:   Sun Apr 12 17:04:31 2009 -0700

    intel_gpu_dump: Decode the GTT offset of batchbuffers.

commit 593a47f00e3c9cb3f748daae7d3fe04427c7e0c2
Author: Eric Anholt <eric@anholt.net>
Date:   Sun Apr 12 15:57:07 2009 -0700

    intel_gpu_dump: Get the devid so we can decode correctly on gen4.

commit b51588b9bd8a1a18a77d354b1c9fe4c841dff0f3
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Apr 7 19:07:18 2009 -0700

    Fix warning about assert in intel_batchbuffer.h

commit 548a6a7fa2037415cade339252ed29a7f89ff9f7
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Apr 7 16:21:16 2009 -0700

    Add a test for reading tiled objects with pread.

commit cd9ba0a3b6c5e11fcd2cb82914cb9d491309de89
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Apr 7 16:18:11 2009 -0700

    Add a test for pread after blitting to an object.
    
    This caught a bug with get_user_pages usage in the kernel, which would
    result in zeroes being read out of the object when faulting in a new page.

commit 00c7571fce14135fa6bbe387ab4e7ce205d53c08
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Apr 7 16:22:46 2009 -0700

    Add very preliminary intel_gpu_dump program
    
    Right now it requires a filename on the command line, (such as
    /debug/dri/0/i915_batchbuffers). We plan to make it smarter in
    the future by going out and collecting all the data it needs.

commit 90ca63163d250e2d50d01aa06f9fc158c0fb6ced
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Apr 2 11:53:38 2009 -0700

    Add Eric's batchbuffer-decode code
    
    This comes from the 3D driver within mesa, with identically named files.
    In its new life here it will become a standalone program.

commit 3b301df9ecf652d1d26fbcc5083cdfd70c800a8b
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Apr 3 14:23:06 2009 -0700

    Add a regression test for tiled object blitting.

commit cb5a35fe8ebe959291082a15395a619b40c562a7
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 30 19:17:12 2009 -0700

    Add a couple of other intel_upload_blit_large variants for comparison.

commit 7889abd2631b418d4bb9fb90a758f23f37d2f098
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 30 19:09:00 2009 -0700

    intel_upload_blit_*: Fix reporting and generate junk instead of using random.
    
    Turns out that random completely overwhelmed the cost of the driver stuff
    in _large.c.  I definitely want to generate data, but still be able to see
    the driver's responsibility.

commit 614b165c60d695da424c1f42ecca53d95a32ca94
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 30 19:08:43 2009 -0700

    Add intel_chipset.h to fix dist.

commit ce4782dc9d387929babf2c96d795286c91b753fe
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 16:11:50 2009 -0700

    Move i810_reg.h to lib/intel_reg.h and get it disted.

commit 0581738c7a02d45518d60924bd8cafa5446d4019
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 16:04:25 2009 -0700

    tests/: warning fixes

commit 1eabfa9a142a314adeaba7a691e9cf85e026f79c
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 16:03:12 2009 -0700

    rename project

commit 676a1097234bdb4661c65565c3d568fb8cfc0e94
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 16:03:02 2009 -0700

    readme fixups

commit 3ba49a9295370cbcbb3139674556ea723c1a6b6c
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 13:13:47 2009 -0700

    intel_gpu_top: Add more 965 bits.

commit fbbf124f8d01365078328910cf9375e08767a57e
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 12:25:09 2009 -0700

    Port intel_idle from 2D driver as intel_gpu_top with a better interface.

commit 872713057a7bf02afaab89832d85c0401b4bb510
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 11:07:33 2009 -0700

    intel_stepping: Add G45 and GM45.

commit 29777a542b8db659cf539af72b17fe17a44c2aae
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Mar 27 10:59:09 2009 -0700

    Add intel_stepping from the 2D driver.

commit 895a415909188e7bddb8571fe5db69cf91ee1383
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Mar 26 18:47:42 2009 -0700

    Add the tests we want from libdrm.

commit ec172167d6992b2f9b59f79b57b7a346b75317ba
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Mar 26 18:45:01 2009 -0700

    Fix project name/version for distfiles.

commit 6abc9b13f0b87f9af82d9b46ad84d74648b46a97
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Mar 26 18:44:13 2009 -0700

    Add notes about running things as root.

commit 8c64183a461a422b0443f84622af48858d5fe6ed
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Mar 26 17:15:11 2009 -0700

    Initial import of intel-graphics-tools with some microbenchmarks.
